/
*
This
Source
Code
Form
is
subject
to
the
terms
of
the
Mozilla
Public
*
License
v
.
2
.
0
.
If
a
copy
of
the
MPL
was
not
distributed
with
this
*
file
You
can
obtain
one
at
http
:
/
/
mozilla
.
org
/
MPL
/
2
.
0
/
.
*
/
package
org
.
mozilla
.
focus
.
shortcut
;
import
org
.
junit
.
Test
;
import
org
.
junit
.
runner
.
RunWith
;
import
org
.
robolectric
.
RobolectricTestRunner
;
import
static
org
.
junit
.
Assert
.
*
;
RunWith
(
RobolectricTestRunner
.
class
)
public
class
IconGeneratorTest
{
Test
public
void
testRepresentativeCharacter
(
)
{
assertEquals
(
"
M
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
mozilla
.
org
"
)
)
;
assertEquals
(
"
W
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
wikipedia
.
org
"
)
)
;
assertEquals
(
"
P
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
plus
.
google
.
com
"
)
)
;
assertEquals
(
"
E
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
en
.
m
.
wikipedia
.
org
/
wiki
/
Main_Page
"
)
)
;
/
/
Stripping
common
prefixes
assertEquals
(
"
T
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
www
.
theverge
.
com
"
)
)
;
assertEquals
(
"
F
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
m
.
facebook
.
com
"
)
)
;
assertEquals
(
"
T
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
mobile
.
twitter
.
com
"
)
)
;
/
/
Special
urls
assertEquals
(
"
?
"
IconGenerator
.
getRepresentativeCharacter
(
"
file
:
/
/
/
"
)
)
;
assertEquals
(
"
S
"
IconGenerator
.
getRepresentativeCharacter
(
"
file
:
/
/
/
system
/
"
)
)
;
assertEquals
(
"
P
"
IconGenerator
.
getRepresentativeCharacter
(
"
ftp
:
/
/
people
.
mozilla
.
org
/
test
"
)
)
;
/
/
No
values
assertEquals
(
"
?
"
IconGenerator
.
getRepresentativeCharacter
(
"
"
)
)
;
assertEquals
(
"
?
"
IconGenerator
.
getRepresentativeCharacter
(
null
)
)
;
/
/
Rubbish
assertEquals
(
"
Z
"
IconGenerator
.
getRepresentativeCharacter
(
"
zZz
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
lkfdpou3rkjaslfdk
asdfo8
"
)
)
;
assertEquals
(
"
?
"
IconGenerator
.
getRepresentativeCharacter
(
"
_
*
+
*
'
#
#
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
\
\
_
(
)
_
/
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
_
Look
of
Disapproval
"
)
)
;
/
/
Non
-
ASCII
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
www
.
tzend
.
de
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
.
com
"
)
)
;
assertEquals
(
"
C
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
.
com
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
.
de
"
)
)
;
assertEquals
(
"
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
.
com
/
"
)
)
;
/
/
cyrillic
/
/
Punycode
assertEquals
(
"
X
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
xn
-
-
tzend
-
fra
.
de
"
)
)
;
/
/
tzend
.
de
assertEquals
(
"
X
"
IconGenerator
.
getRepresentativeCharacter
(
"
http
:
/
/
xn
-
-
V8jxj3d1dzdz08w
.
com
"
)
)
;
/
/
.
com
/
/
Numbers
assertEquals
(
"
1
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
www
.
1and1
.
com
/
"
)
)
;
/
/
IP
assertEquals
(
"
1
"
IconGenerator
.
getRepresentativeCharacter
(
"
https
:
/
/
192
.
168
.
0
.
1
"
)
)
;
}
Test
public
void
testPickColor
(
)
{
final
int
color
=
IconGenerator
.
pickColor
(
"
http
:
/
/
m
.
facebook
.
com
"
)
;
/
/
Color
does
not
change
for
(
int
i
=
0
;
i
<
100
;
i
+
+
)
{
assertEquals
(
color
IconGenerator
.
pickColor
(
"
http
:
/
/
m
.
facebook
.
com
"
)
)
;
}
/
/
Color
is
stable
for
"
similar
"
hosts
.
assertEquals
(
color
IconGenerator
.
pickColor
(
"
https
:
/
/
m
.
facebook
.
com
"
)
)
;
assertEquals
(
color
IconGenerator
.
pickColor
(
"
http
:
/
/
facebook
.
com
"
)
)
;
assertEquals
(
color
IconGenerator
.
pickColor
(
"
http
:
/
/
www
.
facebook
.
com
"
)
)
;
assertEquals
(
color
IconGenerator
.
pickColor
(
"
http
:
/
/
www
.
facebook
.
com
/
foo
/
bar
/
foobar
?
mobile
=
1
"
)
)
;
}
}

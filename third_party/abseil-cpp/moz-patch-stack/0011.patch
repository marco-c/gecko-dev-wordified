From
:
Michael
Froman
<
mfroman
mozilla
.
com
>
Date
:
Thu
10
Oct
2024
13
:
42
:
00
+
0000
Subject
:
Bug
1921707
-
abseil
-
cpp
preprocessor
.
json
.
gni
and
*
.
gn
changes
r
=
ng
Differential
Revision
:
https
:
/
/
phabricator
.
services
.
mozilla
.
com
/
D224077
Mercurial
Revision
:
https
:
/
/
hg
.
mozilla
.
org
/
mozilla
-
central
/
rev
/
6207cac8e337488d54927a5a09e574afec9b432d
-
-
-
abseil
-
cpp
/
.
gn
|
10
+
+
+
+
+
+
+
+
+
+
abseil
-
cpp
/
BUILD
.
gn
|
17
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
abseil
-
cpp
/
absl
.
gni
|
19
+
+
+
+
+
+
+
+
+
+
-
-
-
-
-
-
-
-
-
abseil
-
cpp
/
absl
/
random
/
internal
/
BUILD
.
gn
|
2
+
+
abseil
-
cpp
/
build_overrides
/
build
.
gni
|
4
+
+
+
+
5
files
changed
43
insertions
(
+
)
9
deletions
(
-
)
create
mode
100644
abseil
-
cpp
/
.
gn
create
mode
100644
abseil
-
cpp
/
build_overrides
/
build
.
gni
diff
-
-
git
a
/
abseil
-
cpp
/
.
gn
b
/
abseil
-
cpp
/
.
gn
new
file
mode
100644
index
00000000000
.
.
648423a128f
-
-
-
/
dev
/
null
+
+
+
b
/
abseil
-
cpp
/
.
gn
-
0
0
+
1
10
+
#
The
location
of
the
build
configuration
file
.
+
buildconfig
=
"
/
/
build
/
config
/
BUILDCONFIG
.
gn
"
+
script_executable
=
"
python3
"
+
secondary_source
=
"
/
/
abseil
-
cpp
/
"
+
+
default_args
=
{
+
use_custom_libcxx
=
false
+
is_component_build
=
false
+
}
+
diff
-
-
git
a
/
abseil
-
cpp
/
BUILD
.
gn
b
/
abseil
-
cpp
/
BUILD
.
gn
index
8ed267438d3
.
.
ea54e47e69f
100644
-
-
-
a
/
abseil
-
cpp
/
BUILD
.
gn
+
+
+
b
/
abseil
-
cpp
/
BUILD
.
gn
-
56
6
+
56
7
component
(
"
absl
"
)
{
}
group
(
"
absl_component_deps
"
)
{
+
if
(
false
)
{
public_deps
=
[
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
algorithm
"
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
algorithm
:
container
"
-
111
6
+
112
22
group
(
"
absl_component_deps
"
)
{
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
types
:
variant
"
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
utility
"
]
+
}
else
{
+
public_deps
=
[
+
"
/
/
abseil
-
cpp
/
absl
/
algorithm
:
container
"
+
"
/
/
abseil
-
cpp
/
absl
/
base
:
nullability
"
+
"
/
/
abseil
-
cpp
/
absl
/
cleanup
"
+
"
/
/
abseil
-
cpp
/
absl
/
container
:
inlined_vector
"
+
"
/
/
abseil
-
cpp
/
absl
/
functional
:
any_invocable
"
+
"
/
/
abseil
-
cpp
/
absl
/
functional
:
bind_front
"
+
"
/
/
abseil
-
cpp
/
absl
/
strings
"
+
"
/
/
abseil
-
cpp
/
absl
/
strings
:
string_view
"
+
"
/
/
abseil
-
cpp
/
absl
/
types
:
optional
"
+
"
/
/
abseil
-
cpp
/
absl
/
types
:
span
"
+
"
/
/
abseil
-
cpp
/
absl
/
types
:
variant
"
+
"
/
/
abseil
-
cpp
/
absl
/
utility
"
+
]
+
}
#
Dependencies
that
preferably
shouldn
'
t
be
public
in
chromium
.
public_deps
+
=
[
diff
-
-
git
a
/
abseil
-
cpp
/
absl
.
gni
b
/
abseil
-
cpp
/
absl
.
gni
index
a9a60bf7ddb
.
.
517e72c0149
100644
-
-
-
a
/
abseil
-
cpp
/
absl
.
gni
+
+
+
b
/
abseil
-
cpp
/
absl
.
gni
-
34
8
+
34
8
template
(
"
absl_source_set
"
)
{
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
"
/
/
build
/
config
/
compiler
:
prevent_unsafe_narrowing
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_default_cflags_cc
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_define_config
"
+
"
/
/
abseil
-
cpp
:
absl_default_cflags_cc
"
+
"
/
/
abseil
-
cpp
:
absl_define_config
"
]
if
(
is_component_build
)
{
-
50
8
+
50
8
template
(
"
absl_source_set
"
)
{
public_configs
=
[
]
}
public_configs
+
=
[
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_include_config
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_public_cflags_cc
"
+
"
/
/
abseil
-
cpp
:
absl_include_config
"
+
"
/
/
abseil
-
cpp
:
absl_public_cflags_cc
"
]
if
(
!
defined
(
visibility
)
)
{
-
95
6
+
95
7
template
(
"
absl_source_set
"
)
{
}
}
}
+
visibility
+
=
[
"
/
/
abseil
-
cpp
/
*
"
]
}
}
-
108
17
+
109
17
template
(
"
absl_test
"
)
{
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_default_cflags_cc
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_define_config
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_test_config
"
+
"
/
/
abseil
-
cpp
:
absl_default_cflags_cc
"
+
"
/
/
abseil
-
cpp
:
absl_define_config
"
+
"
/
/
abseil
-
cpp
:
absl_test_config
"
]
if
(
!
defined
(
public_configs
)
)
{
public_configs
=
[
]
}
public_configs
+
=
[
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_include_config
"
-
"
/
/
third_party
/
abseil
-
cpp
:
absl_public_cflags_cc
"
+
"
/
/
abseil
-
cpp
:
absl_include_config
"
+
"
/
/
abseil
-
cpp
:
absl_public_cflags_cc
"
]
visibility
=
[
"
/
/
third_party
/
abseil
-
cpp
/
:
*
"
]
diff
-
-
git
a
/
abseil
-
cpp
/
absl
/
random
/
internal
/
BUILD
.
gn
b
/
abseil
-
cpp
/
absl
/
random
/
internal
/
BUILD
.
gn
index
21d28b97adb
.
.
3655030b726
100644
-
-
-
a
/
abseil
-
cpp
/
absl
/
random
/
internal
/
BUILD
.
gn
+
+
+
b
/
abseil
-
cpp
/
absl
/
random
/
internal
/
BUILD
.
gn
-
242
6
+
242
7
absl_source_set
(
"
randen_hwaes_impl
"
)
{
visibility
=
[
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
random
/
*
"
]
}
+
if
(
false
)
{
executable
(
"
gaussian_distribution_gentables
"
)
{
sources
=
[
"
gaussian_distribution_gentables
.
cc
"
]
deps
=
[
-
250
6
+
251
7
executable
(
"
gaussian_distribution_gentables
"
)
{
]
visibility
=
[
"
/
/
third_party
/
abseil
-
cpp
/
absl
/
random
/
*
"
]
}
+
}
absl_source_set
(
"
distribution_test_util
"
)
{
testonly
=
true
diff
-
-
git
a
/
abseil
-
cpp
/
build_overrides
/
build
.
gni
b
/
abseil
-
cpp
/
build_overrides
/
build
.
gni
new
file
mode
100644
index
00000000000
.
.
3ec49896ece
-
-
-
/
dev
/
null
+
+
+
b
/
abseil
-
cpp
/
build_overrides
/
build
.
gni
-
0
0
+
1
4
+
build_with_chromium
=
false
+
ignore_elf32_limitations
=
true
+
use_system_xcode
=
false
+
xcode_version
=
"
10
.
15
"

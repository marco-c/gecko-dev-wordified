From
:
Michael
Froman
<
mfroman
mozilla
.
com
>
Date
:
Mon
7
Jul
2025
13
:
14
:
34
-
0500
Subject
:
Bug
1921707
-
point
to
new
build
directory
location
in
third_party
/
chromium
/
build
r
=
ng
glandium
Ran
:
ack
-
l
"
\
"
/
/
build
/
"
third_party
/
chromium
/
build
|
xargs
sed
-
i
.
bak
-
E
'
s
/
\
"
\
/
\
/
build
\
/
/
\
"
\
/
\
/
chromium
\
/
build
\
/
/
'
ack
-
l
"
\
"
/
/
build
:
"
third_party
/
chromium
/
build
|
xargs
sed
-
i
.
bak
-
E
'
s
/
\
"
\
/
\
/
build
:
/
\
"
\
/
\
/
chromium
\
/
build
:
/
'
find
third_party
-
name
"
*
.
bak
"
|
xargs
rm
hg
revert
\
third_party
/
chromium
/
build
/
android
/
pylib
/
utils
/
gold_utils
.
py
\
third_party
/
chromium
/
build
/
args
/
README
.
txt
\
third_party
/
chromium
/
build
/
args
/
chromeos
/
README
.
md
\
third_party
/
chromium
/
build
/
gn_helpers_unittest
.
py
\
third_party
/
chromium
/
build
/
locale_tool
.
py
\
third_party
/
chromium
/
build
/
toolchain
/
linux
/
unbundle
/
README
.
md
Differential
Revision
:
https
:
/
/
phabricator
.
services
.
mozilla
.
com
/
D224542
Mercurial
Revision
:
https
:
/
/
hg
.
mozilla
.
org
/
mozilla
-
central
/
rev
/
6b855a2bf6b1f3feb9c6558a9357fed8e43c5b99
-
-
-
BUILD
.
gn
|
16
+
-
PRESUBMIT_test
.
py
|
2
+
-
android
/
BUILD
.
gn
|
20
+
-
android
/
DIR_METADATA
|
2
+
-
android
/
bytecode
/
BUILD
.
gn
|
2
+
-
android
/
gtest_apk
/
BUILD
.
gn
|
2
+
-
android
/
gyp
/
test
/
BUILD
.
gn
|
2
+
-
android
/
incremental_install
/
BUILD
.
gn
|
2
+
-
android
/
native_flags
/
BUILD
.
gn
|
4
+
-
android
/
pylib
/
device
/
commands
/
BUILD
.
gn
|
2
+
-
android
/
resource_sizes
.
gni
|
6
+
-
android
/
stacktrace
/
BUILD
.
gn
|
2
+
-
android
/
test
/
BUILD
.
gn
|
14
+
-
android
/
test
/
incremental_javac_gn
/
BUILD
.
gn
|
4
+
-
android
/
test
/
missing_symbol_test
.
gni
|
6
+
-
android
/
test
/
nocompile_gn
/
BUILD
.
gn
|
8
+
-
android
/
unused_resources
/
BUILD
.
gn
|
4
+
-
apple
/
apple_info_plist
.
gni
|
2
+
-
apple
/
compile_entitlements
.
gni
|
2
+
-
apple
/
compile_plist
.
gni
|
4
+
-
apple
/
convert_plist
.
gni
|
2
+
-
apple
/
tweak_info_plist
.
gni
|
8
+
-
args
/
headless
.
gn
|
2
+
-
buildflag_header
.
gni
|
4
+
-
cipd
/
cipd
.
gni
|
2
+
-
compiled_action
.
gni
|
4
+
-
config
/
BUILD
.
gn
|
62
+
+
-
-
config
/
BUILDCONFIG
.
gn
|
162
+
+
+
+
+
-
-
-
-
-
-
config
/
aix
/
BUILD
.
gn
|
4
+
-
config
/
android
/
BUILD
.
gn
|
14
+
-
config
/
android
/
DIR_METADATA
|
2
+
-
config
/
android
/
abi
.
gni
|
4
+
-
config
/
android
/
android_nocompile
.
gni
|
8
+
-
config
/
android
/
build_vars
.
gni
|
2
+
-
config
/
android
/
config
.
gni
|
14
+
-
config
/
android
/
copy_ex
.
gni
|
4
+
-
config
/
android
/
create_unwind_table
.
gni
|
4
+
-
config
/
android
/
extract_unwind_tables
.
gni
|
4
+
-
config
/
android
/
internal_rules
.
gni
|
106
+
+
+
-
-
-
-
config
/
android
/
linker_version_script
.
gni
|
6
+
-
config
/
android
/
rules
.
gni
|
124
+
+
+
+
-
-
-
-
config
/
android
/
system_image
.
gni
|
10
+
-
config
/
android
/
test
/
classpath_order
/
BUILD
.
gn
|
2
+
-
config
/
android
/
test
/
proto
/
BUILD
.
gn
|
2
+
-
config
/
android
/
test
/
resource_overlay
/
BUILD
.
gn
|
2
+
-
config
/
apple
/
symbols
.
gni
|
4
+
-
config
/
arm
.
gni
|
4
+
-
config
/
buildflags_paint_preview
.
gni
|
4
+
-
config
/
c
+
+
/
BUILD
.
gn
|
10
+
-
config
/
c
+
+
/
c
+
+
.
gni
|
2
+
-
config
/
chromebox_for_meetings
/
BUILD
.
gn
|
4
+
-
config
/
chromecast
/
BUILD
.
gn
|
2
+
-
config
/
chromeos
/
BUILD
.
gn
|
2
+
-
config
/
chromeos
/
rules
.
gni
|
42
+
-
-
config
/
chromeos
/
ui_mode
.
gni
|
2
+
-
config
/
clang
/
clang
.
gni
|
4
+
-
config
/
compiler
/
BUILD
.
gn
|
116
+
+
+
+
-
-
-
-
config
/
compiler
/
compiler
.
gni
|
30
+
-
config
/
compiler
/
pgo
/
BUILD
.
gn
|
10
+
-
config
/
compiler
/
pgo
/
pgo
.
gni
|
8
+
-
config
/
coverage
/
BUILD
.
gn
|
4
+
-
config
/
coverage
/
coverage
.
gni
|
2
+
-
config
/
dcheck_always_on
.
gni
|
2
+
-
config
/
devtools
.
gni
|
2
+
-
config
/
features
.
gni
|
4
+
-
config
/
freetype
/
BUILD
.
gn
|
6
+
-
config
/
fuchsia
/
BUILD
.
gn
|
10
+
-
config
/
fuchsia
/
DIR_METADATA
|
2
+
-
config
/
fuchsia
/
generate_runner_scripts
.
gni
|
18
+
-
.
.
.
ackaged_content_embedder_excluded_dirs
.
gni
|
2
+
-
.
.
.
/
size_optimized_cast_receiver_args
.
gn
|
2
+
-
.
.
.
e_optimized_cast_receiver_args_internal
.
gn
|
2
+
-
config
/
fuchsia
/
sizes
.
gni
|
6
+
-
config
/
fuchsia
/
symbol_archive
.
gni
|
2
+
-
.
.
.
/
test
/
gfx_test_ui_stack
.
shard
.
test
-
cml
|
2
+
-
.
.
.
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
|
2
+
-
.
.
.
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
|
2
+
-
.
.
.
/
fuchsia
/
test
/
web_instance
.
shard
.
test
-
cml
|
12
+
-
config
/
gcc
/
BUILD
.
gn
|
12
+
-
config
/
host_byteorder
.
gni
|
2
+
-
config
/
ios
/
BUILD
.
gn
|
16
+
-
config
/
ios
/
asset_catalog
.
gni
|
4
+
-
config
/
ios
/
ios_sdk
.
gni
|
12
+
-
config
/
ios
/
ios_test_runner_wrapper
.
gni
|
6
+
-
config
/
ios
/
ios_test_runner_xcuitest
.
gni
|
4
+
-
config
/
ios
/
rules
.
gni
|
66
+
+
-
-
-
config
/
linux
/
BUILD
.
gn
|
12
+
-
config
/
linux
/
atk
/
BUILD
.
gn
|
8
+
-
config
/
linux
/
atspi2
/
BUILD
.
gn
|
4
+
-
config
/
linux
/
dbus
/
BUILD
.
gn
|
4
+
-
config
/
linux
/
dri
/
BUILD
.
gn
|
2
+
-
config
/
linux
/
gtk
/
BUILD
.
gn
|
4
+
-
config
/
linux
/
gtk
/
gtk
.
gni
|
2
+
-
config
/
linux
/
libdrm
/
BUILD
.
gn
|
6
+
-
config
/
linux
/
libffi
/
BUILD
.
gn
|
4
+
-
config
/
linux
/
libva
/
BUILD
.
gn
|
2
+
-
config
/
linux
/
nss
/
BUILD
.
gn
|
2
+
-
config
/
linux
/
pangocairo
/
BUILD
.
gn
|
4
+
-
config
/
linux
/
pangocairo
/
pangocairo
.
gni
|
4
+
-
config
/
linux
/
pkg_config
.
gni
|
4
+
-
config
/
locales
.
gni
|
2
+
-
config
/
logging
.
gni
|
6
+
-
config
/
mac
/
BUILD
.
gn
|
14
+
-
config
/
mac
/
mac_sdk
.
gni
|
18
+
-
config
/
mac
/
rules
.
gni
|
16
+
-
config
/
mips
.
gni
|
2
+
-
config
/
nacl
/
BUILD
.
gn
|
2
+
-
config
/
nacl
/
config
.
gni
|
2
+
-
config
/
nacl
/
host_toolchain
.
gni
|
4
+
-
config
/
nacl
/
rules
.
gni
|
4
+
-
config
/
ozone
.
gni
|
8
+
-
config
/
pch
.
gni
|
4
+
-
config
/
posix
/
BUILD
.
gn
|
6
+
-
config
/
profiling
/
profiling
.
gni
|
4
+
-
config
/
python
.
gni
|
4
+
-
config
/
riscv
.
gni
|
2
+
-
config
/
rust
.
gni
|
12
+
-
config
/
sanitizers
/
BUILD
.
gn
|
26
+
-
config
/
sanitizers
/
sanitizers
.
gni
|
26
+
-
config
/
sysroot
.
gni
|
10
+
-
config
/
ui
.
gni
|
8
+
-
config
/
v8_target_cpu
.
gni
|
12
+
-
config
/
win
/
BUILD
.
gn
|
22
+
-
config
/
win
/
console_app
.
gni
|
2
+
-
config
/
win
/
control_flow_guard
.
gni
|
2
+
-
config
/
win
/
manifest
.
gni
|
10
+
-
config
/
zip
.
gni
|
2
+
-
config
/
zos
/
BUILD
.
gn
|
4
+
-
dotfile_settings
.
gni
|
64
+
+
-
-
fuchsia
/
DIR_METADATA
|
2
+
-
fuchsia
/
cipd
/
BUILD
.
gn
|
8
+
-
fuchsia
/
cipd
/
DIR_METADATA
|
2
+
-
fuchsia
/
test
/
run_pytype
.
py
|
2
+
-
gn_logs
.
gni
|
2
+
-
ios
/
intent_definition
.
gni
|
8
+
-
lacros
/
BUILD
.
gn
|
6
+
-
lacros
/
lacros_resource_sizes
.
gni
|
6
+
-
linux
/
BUILD
.
gn
|
8
+
-
linux
/
extract_symbols
.
gni
|
6
+
-
linux
/
strip_binary
.
gni
|
4
+
-
linux
/
unbundle
/
absl_algorithm
.
gn
|
4
+
-
linux
/
unbundle
/
absl_base
.
gn
|
4
+
-
linux
/
unbundle
/
absl_cleanup
.
gn
|
4
+
-
linux
/
unbundle
/
absl_container
.
gn
|
4
+
-
linux
/
unbundle
/
absl_debugging
.
gn
|
4
+
-
linux
/
unbundle
/
absl_flags
.
gn
|
4
+
-
linux
/
unbundle
/
absl_functional
.
gn
|
4
+
-
linux
/
unbundle
/
absl_hash
.
gn
|
4
+
-
linux
/
unbundle
/
absl_memory
.
gn
|
4
+
-
linux
/
unbundle
/
absl_meta
.
gn
|
4
+
-
linux
/
unbundle
/
absl_numeric
.
gn
|
4
+
-
linux
/
unbundle
/
absl_random
.
gn
|
4
+
-
linux
/
unbundle
/
absl_status
.
gn
|
4
+
-
linux
/
unbundle
/
absl_strings
.
gn
|
4
+
-
linux
/
unbundle
/
absl_synchronization
.
gn
|
4
+
-
linux
/
unbundle
/
absl_time
.
gn
|
4
+
-
linux
/
unbundle
/
absl_types
.
gn
|
4
+
-
linux
/
unbundle
/
absl_utility
.
gn
|
4
+
-
linux
/
unbundle
/
brotli
.
gn
|
4
+
-
linux
/
unbundle
/
crc32c
.
gn
|
2
+
-
linux
/
unbundle
/
dav1d
.
gn
|
4
+
-
linux
/
unbundle
/
double
-
conversion
.
gn
|
2
+
-
linux
/
unbundle
/
ffmpeg
.
gn
|
6
+
-
linux
/
unbundle
/
flac
.
gn
|
4
+
-
linux
/
unbundle
/
icu
.
gn
|
4
+
-
linux
/
unbundle
/
jsoncpp
.
gn
|
4
+
-
linux
/
unbundle
/
libXNVCtrl
.
gn
|
2
+
-
linux
/
unbundle
/
libaom
.
gn
|
6
+
-
linux
/
unbundle
/
libavif
.
gn
|
4
+
-
linux
/
unbundle
/
libdrm
.
gn
|
4
+
-
linux
/
unbundle
/
libevent
.
gn
|
2
+
-
linux
/
unbundle
/
libpng
.
gn
|
4
+
-
linux
/
unbundle
/
libvpx
.
gn
|
4
+
-
linux
/
unbundle
/
libwebp
.
gn
|
4
+
-
linux
/
unbundle
/
libxml
.
gn
|
2
+
-
linux
/
unbundle
/
libxslt
.
gn
|
2
+
-
linux
/
unbundle
/
libyuv
.
gn
|
4
+
-
linux
/
unbundle
/
openh264
.
gn
|
4
+
-
linux
/
unbundle
/
opus
.
gn
|
4
+
-
linux
/
unbundle
/
re2
.
gn
|
4
+
-
linux
/
unbundle
/
snappy
.
gn
|
2
+
-
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Headers
.
gn
|
2
+
-
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Tools
.
gn
|
4
+
-
linux
/
unbundle
/
vulkan
-
SPIRV
-
Headers
.
gn
|
2
+
-
linux
/
unbundle
/
vulkan
-
SPIRV
-
Tools
.
gn
|
4
+
-
linux
/
unbundle
/
woff2
.
gn
|
4
+
-
linux
/
unbundle
/
zlib
.
gn
|
2
+
-
nocompile
.
gni
|
14
+
-
partitioned_shared_library
.
gni
|
8
+
-
private_code_test
/
BUILD
.
gn
|
2
+
-
private_code_test
/
private_code_test
.
gni
|
4
+
-
rust
/
BUILD
.
gn
|
6
+
-
rust
/
analyze
.
gni
|
8
+
-
rust
/
cargo_crate
.
gni
|
10
+
-
rust
/
clanglibs
/
BUILD
.
gn
|
2
+
-
rust
/
rs_bindings_from_cc
.
gni
|
14
+
-
rust
/
rust_bindgen
.
gni
|
10
+
-
rust
/
rust_executable
.
gni
|
2
+
-
rust
/
rust_macro
.
gni
|
4
+
-
rust
/
rust_shared_library
.
gni
|
2
+
-
rust
/
rust_static_library
.
gni
|
2
+
-
rust
/
rust_target
.
gni
|
16
+
-
rust
/
rust_unit_test
.
gni
|
6
+
-
rust
/
std
/
BUILD
.
gn
|
4
+
-
rust
/
std
/
rules
/
BUILD
.
gn
|
274
+
+
+
+
+
+
+
+
+
-
-
-
-
-
-
-
-
-
rust
/
tests
/
BUILD
.
gn
|
4
+
-
rust
/
tests
/
bindgen_test
/
BUILD
.
gn
|
6
+
-
rust
/
tests
/
test_aliased_deps
/
BUILD
.
gn
|
6
+
-
rust
/
tests
/
test_bin_crate
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_cpp_including_rust
/
BUILD
.
gn
|
4
+
-
rust
/
tests
/
test_local_std
/
BUILD
.
gn
|
8
+
-
rust
/
tests
/
test_proc_macro_crate
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_rlib_crate
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_rs_bindings_from_cc
/
BUILD
.
gn
|
4
+
-
rust
/
tests
/
test_rust_exe
/
BUILD
.
gn
|
10
+
-
.
.
.
/
BUILD
.
gn
|
8
+
-
.
.
.
/
v1
/
BUILD
.
gn
|
2
+
-
.
.
.
/
v2
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_rust_shared_library
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_rust_static_library
/
BUILD
.
gn
|
2
+
-
.
.
.
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_rust_unittests
/
BUILD
.
gn
|
4
+
-
rust
/
tests
/
test_serde_json_lenient
/
BUILD
.
gn
|
2
+
-
rust
/
tests
/
test_simple_rust_exe
/
BUILD
.
gn
|
2
+
-
symlink
.
gni
|
2
+
-
timestamp
.
gni
|
2
+
-
toolchain
/
BUILD
.
gn
|
6
+
-
toolchain
/
aix
/
BUILD
.
gn
|
2
+
-
toolchain
/
android
/
BUILD
.
gn
|
12
+
-
toolchain
/
android
/
DIR_METADATA
|
2
+
-
toolchain
/
apple
/
BUILD
.
gn
|
2
+
-
toolchain
/
apple
/
toolchain
.
gni
|
52
+
+
-
-
toolchain
/
cc_wrapper
.
gni
|
4
+
-
toolchain
/
concurrent_links
.
gni
|
14
+
-
toolchain
/
cros
/
BUILD
.
gn
|
12
+
-
toolchain
/
cros_toolchain
.
gni
|
4
+
-
toolchain
/
fuchsia
/
BUILD
.
gn
|
2
+
-
toolchain
/
fuchsia
/
DIR_METADATA
|
2
+
-
toolchain
/
gcc_toolchain
.
gni
|
42
+
-
-
toolchain
/
ios
/
BUILD
.
gn
|
12
+
-
toolchain
/
linux
/
BUILD
.
gn
|
10
+
-
toolchain
/
linux
/
unbundle
/
BUILD
.
gn
|
2
+
-
toolchain
/
mac
/
BUILD
.
gn
|
4
+
-
toolchain
/
nacl
/
BUILD
.
gn
|
6
+
-
toolchain
/
nacl_toolchain
.
gni
|
4
+
-
toolchain
/
toolchain
.
gni
|
6
+
-
toolchain
/
win
/
BUILD
.
gn
|
6
+
-
toolchain
/
win
/
midl
.
gni
|
4
+
-
toolchain
/
win
/
toolchain
.
gni
|
40
+
-
-
toolchain
/
zos
/
BUILD
.
gn
|
6
+
-
util
/
BUILD
.
gn
|
6
+
-
util
/
branding
.
gni
|
2
+
-
util
/
generate_wrapper
.
gni
|
2
+
-
util
/
java_action
.
gni
|
2
+
-
util
/
lastchange
.
gni
|
4
+
-
util
/
process_version
.
gni
|
4
+
-
win
/
BUILD
.
gn
|
10
+
-
win
/
message_compiler
.
gni
|
2
+
-
258
files
changed
1226
insertions
(
+
)
1226
deletions
(
-
)
diff
-
-
git
a
/
BUILD
.
gn
b
/
BUILD
.
gn
index
58f5f20fb
.
.
bb3b80c27
100644
-
-
-
a
/
BUILD
.
gn
+
+
+
b
/
BUILD
.
gn
-
2
13
+
2
13
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
process_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
process_version
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
source_set
(
"
buildflag_header_h
"
)
{
-
63
7
+
63
7
if
(
build_with_chromium
)
{
group
(
"
gold_common_pytype
"
)
{
testonly
=
true
-
data
=
[
"
/
/
build
/
skia_gold_common
/
"
]
+
data
=
[
"
/
/
chromium
/
build
/
skia_gold_common
/
"
]
data_deps
=
[
"
/
/
testing
:
pytype_dependencies
"
]
}
diff
-
-
git
a
/
PRESUBMIT_test
.
py
b
/
PRESUBMIT_test
.
py
index
c5065f4f1
.
.
119f7c98e
100755
-
-
-
a
/
PRESUBMIT_test
.
py
+
+
+
b
/
PRESUBMIT_test
.
py
-
35
7
+
35
7
class
CheckNoBadDepsTest
(
unittest
.
TestCase
)
:
_fails_deps_check
(
'
import
(
"
/
/
third_party
/
foo
"
)
'
filename
=
'
foo
.
gni
'
)
)
def
testPaths
(
self
)
:
-
self
.
assertFalse
(
_fails_deps_check
(
'
import
(
"
/
/
build
/
things
.
gni
"
)
'
)
)
+
self
.
assertFalse
(
_fails_deps_check
(
'
import
(
"
/
/
chromium
/
build
/
things
.
gni
"
)
'
)
)
self
.
assertTrue
(
_fails_deps_check
(
'
import
(
"
/
/
chrome
/
things
.
gni
"
)
'
)
)
diff
-
-
git
a
/
android
/
BUILD
.
gn
b
/
android
/
BUILD
.
gn
index
f9f6b939e
.
.
031b8971b
100644
-
-
-
a
/
android
/
BUILD
.
gn
+
+
+
b
/
android
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
build_vars
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
build_vars
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
if
(
enable_java_templates
)
{
-
79
7
+
79
7
if
(
enable_java_templates
)
{
deps
=
[
"
:
junit_test_assets
"
"
:
junit_test_resources
"
-
"
/
/
build
/
android
/
test
/
incremental_javac_gn
:
no_signature_change_prebuilt_java
"
+
"
/
/
chromium
/
build
/
android
/
test
/
incremental_javac_gn
:
no_signature_change_prebuilt_java
"
"
/
/
third_party
/
junit
"
]
}
-
91
8
+
91
8
if
(
enable_java_templates
)
{
python_library
(
"
test_result_presentations_py
"
)
{
pydeps_file
=
"
pylib
/
results
/
presentation
/
test_results_presentation
.
pydeps
"
data
=
[
-
"
/
/
build
/
android
/
pylib
/
results
/
presentation
/
template
"
-
"
/
/
build
/
android
/
pylib
/
results
/
presentation
/
javascript
/
main_html
.
js
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
results
/
presentation
/
template
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
results
/
presentation
/
javascript
/
main_html
.
js
"
"
/
/
third_party
/
catapult
/
third_party
/
gsutil
/
"
"
/
/
third_party
/
jinja2
/
debug
.
py
"
"
/
/
third_party
/
six
"
-
108
7
+
108
7
python_library
(
"
devil_chromium_py
"
)
{
"
/
/
third_party
/
catapult
/
devil
/
devil
/
devil_dependencies
.
json
"
#
Read
by
gn_helpers
.
BuildWithChromium
(
)
-
"
/
/
build
/
config
/
gclient_args
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
]
}
-
118
7
+
118
7
group
(
"
apk_installer_data
"
)
{
#
Other
/
/
build
users
let
devil
library
fetch
these
from
Google
Storage
.
if
(
build_with_chromium
)
{
data_deps
=
[
-
"
/
/
build
/
android
/
pylib
/
device
/
commands
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
device
/
commands
"
"
/
/
tools
/
android
/
md5sum
"
]
data
=
[
"
/
/
third_party
/
android_build_tools
/
bundletool
/
bundletool
.
jar
"
]
-
179
7
+
179
7
group
(
"
test_runner_device_support
"
)
{
#
Proguard
is
needed
only
when
using
apks
(
rather
than
native
executables
)
.
if
(
enable_java_templates
)
{
-
data_deps
+
=
[
"
/
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
+
data_deps
+
=
[
"
/
/
chromium
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
}
}
diff
-
-
git
a
/
android
/
DIR_METADATA
b
/
android
/
DIR_METADATA
index
cdc2d6fb6
.
.
37c98f5e4
100644
-
-
-
a
/
android
/
DIR_METADATA
+
+
+
b
/
android
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
android
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
android
/
COMMON_METADATA
"
diff
-
-
git
a
/
android
/
bytecode
/
BUILD
.
gn
b
/
android
/
bytecode
/
BUILD
.
gn
index
9478807d7
.
.
0e3f923a9
100644
-
-
-
a
/
android
/
bytecode
/
BUILD
.
gn
+
+
+
b
/
android
/
bytecode
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
java_binary
(
"
bytecode_processor
"
)
{
main_class
=
"
org
.
chromium
.
bytecode
.
ByteCodeProcessor
"
diff
-
-
git
a
/
android
/
gtest_apk
/
BUILD
.
gn
b
/
android
/
gtest_apk
/
BUILD
.
gn
index
69b0889c9
.
.
c5564995f
100644
-
-
-
a
/
android
/
gtest_apk
/
BUILD
.
gn
+
+
+
b
/
android
/
gtest_apk
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
android_library
(
"
native_test_instrumentation_test_runner_java
"
)
{
testonly
=
true
diff
-
-
git
a
/
android
/
gyp
/
test
/
BUILD
.
gn
b
/
android
/
gyp
/
test
/
BUILD
.
gn
index
301a220d0
.
.
421865b3e
100644
-
-
-
a
/
android
/
gyp
/
test
/
BUILD
.
gn
+
+
+
b
/
android
/
gyp
/
test
/
BUILD
.
gn
-
1
4
+
1
4
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
java_library
(
"
hello_world_java
"
)
{
sources
=
[
"
java
/
org
/
chromium
/
helloworld
/
HelloWorldPrinter
.
java
"
]
diff
-
-
git
a
/
android
/
incremental_install
/
BUILD
.
gn
b
/
android
/
incremental_install
/
BUILD
.
gn
index
9217990a8
.
.
cf65dba03
100644
-
-
-
a
/
android
/
incremental_install
/
BUILD
.
gn
+
+
+
b
/
android
/
incremental_install
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
android_library
(
"
bootstrap_java
"
)
{
sources
=
[
diff
-
-
git
a
/
android
/
native_flags
/
BUILD
.
gn
b
/
android
/
native_flags
/
BUILD
.
gn
index
317103026
.
.
20855df9d
100644
-
-
-
a
/
android
/
native_flags
/
BUILD
.
gn
+
+
+
b
/
android
/
native_flags
/
BUILD
.
gn
-
3
7
+
3
7
#
found
in
the
LICENSE
file
.
if
(
current_toolchain
=
=
default_toolchain
)
{
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
A
toolchain
that
will
capture
compiler
and
linker
arguments
to
a
file
.
toolchain
(
"
flagcapture
"
)
{
-
26
7
+
26
7
if
(
current_toolchain
=
=
default_toolchain
)
{
description
=
stamp_description
}
}
-
}
else
if
(
current_toolchain
=
=
"
/
/
build
/
android
/
native_flags
:
flagcapture
"
)
{
+
}
else
if
(
current_toolchain
=
=
"
/
/
chromium
/
build
/
android
/
native_flags
:
flagcapture
"
)
{
#
This
will
record
flags
from
all
default
configs
of
the
default
toolchain
.
source_set
(
"
default_ccflags
"
)
{
sources
=
[
"
empty
.
cc
"
]
diff
-
-
git
a
/
android
/
pylib
/
device
/
commands
/
BUILD
.
gn
b
/
android
/
pylib
/
device
/
commands
/
BUILD
.
gn
index
2f0273487
.
.
8033465ee
100644
-
-
-
a
/
android
/
pylib
/
device
/
commands
/
BUILD
.
gn
+
+
+
b
/
android
/
pylib
/
device
/
commands
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
group
(
"
commands
"
)
{
data_deps
=
[
"
:
chromium_commands_java
"
]
diff
-
-
git
a
/
android
/
resource_sizes
.
gni
b
/
android
/
resource_sizes
.
gni
index
c599bbbf7
.
.
8dc651a5c
100644
-
-
-
a
/
android
/
resource_sizes
.
gni
+
+
+
b
/
android
/
resource_sizes
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
internal_rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
internal_rules
.
gni
"
)
#
Generates
a
script
in
the
bin
directory
that
runs
#
/
/
build
/
android
/
resource_sizes
.
py
against
the
provided
apk
.
-
18
13
+
18
13
import
(
"
/
/
build
/
config
/
android
/
internal_rules
.
gni
"
)
template
(
"
android_resource_sizes_test
"
)
{
generate_android_wrapper
(
target_name
)
{
forward_variables_from
(
invoker
[
"
data_deps
"
]
)
-
executable
=
"
/
/
build
/
android
/
resource_sizes
.
py
"
+
executable
=
"
/
/
chromium
/
build
/
android
/
resource_sizes
.
py
"
wrapper_script
=
"
root_out_dir
/
bin
/
run_
{
target_name
}
"
assert
(
defined
(
invoker
.
apk_name
)
!
=
defined
(
invoker
.
file_path
)
"
Exactly
one
of
apk_name
or
file_path
should
be
provided
.
"
)
-
deps
=
[
"
/
/
build
/
android
:
resource_sizes_py
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
android
:
resource_sizes_py
"
]
executable_args
=
[
"
-
-
output
-
format
"
"
histograms
"
diff
-
-
git
a
/
android
/
stacktrace
/
BUILD
.
gn
b
/
android
/
stacktrace
/
BUILD
.
gn
index
0501a9670
.
.
ef9065f18
100644
-
-
-
a
/
android
/
stacktrace
/
BUILD
.
gn
+
+
+
b
/
android
/
stacktrace
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
java_library
(
"
java_deobfuscate_java
"
)
{
sources
=
[
"
java
/
org
/
chromium
/
build
/
FlushingReTrace
.
java
"
]
diff
-
-
git
a
/
android
/
test
/
BUILD
.
gn
b
/
android
/
test
/
BUILD
.
gn
index
e9bbbce1b
.
.
24f55fe24
100644
-
-
-
a
/
android
/
test
/
BUILD
.
gn
+
+
+
b
/
android
/
test
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
import
(
"
missing_symbol_test
.
gni
"
)
import
(
"
nocompile_gn
/
nocompile_sources
.
gni
"
)
-
21
7
+
21
7
group
(
"
android_nocompile_tests
"
)
{
android_nocompile_test_suite
(
"
android_lint_tests
"
)
{
#
Depend
on
lint
script
so
that
the
action
is
re
-
run
whenever
the
script
is
modified
.
-
pydeps
=
[
"
/
/
build
/
android
/
gyp
/
lint
.
pydeps
"
]
+
pydeps
=
[
"
/
/
chromium
/
build
/
android
/
gyp
/
lint
.
pydeps
"
]
tests
=
[
{
-
54
12
+
54
12
android_nocompile_test_suite
(
"
android_lookup_dep_tests
"
)
{
rebase_path
(
import_child_missing_symbol_test_nocompile_sources
"
"
"
nocompile_gn
"
)
-
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_child_missing_symbol_test_java
\
n
*
\
"
/
/
build
/
android
/
test
/
nocompile_gn
:
sub_b_java
\
"
"
+
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_child_missing_symbol_test_java
\
n
*
\
"
/
/
chromium
/
build
/
android
/
test
/
nocompile_gn
:
sub_b_java
\
"
"
}
{
target
=
"
nocompile_gn
:
import_parent_missing_symbol_test_java
"
nocompile_sources
=
[
]
-
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_parent_missing_symbol_test_java
\
n
*
\
"
/
/
build
/
android
/
test
/
nocompile_gn
:
b_java
\
"
"
+
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_parent_missing_symbol_test_java
\
n
*
\
"
/
/
chromium
/
build
/
android
/
test
/
nocompile_gn
:
b_java
\
"
"
}
{
target
=
"
nocompile_gn
:
import_turbine_missing_symbol_test_java
"
-
67
17
+
67
17
android_nocompile_test_suite
(
"
android_lookup_dep_tests
"
)
{
rebase_path
(
import_turbine_missing_symbol_test_nocompile_sources
"
"
"
nocompile_gn
"
)
-
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_turbine_missing_symbol_test_java
\
n
*
\
"
/
/
build
/
android
/
test
/
nocompile_gn
:
b_java
\
"
"
+
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
import_turbine_missing_symbol_test_java
\
n
*
\
"
/
/
chromium
/
build
/
android
/
test
/
nocompile_gn
:
b_java
\
"
"
}
{
target
=
"
nocompile_gn
:
prebuilt_missing_symbol_test_java
"
nocompile_sources
=
[
]
-
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
prebuilt_missing_symbol_test_java
\
n
*
\
"
/
/
build
/
android
/
test
/
nocompile_gn
:
c_prebuilt_java
\
"
"
+
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
prebuilt_missing_symbol_test_java
\
n
*
\
"
/
/
chromium
/
build
/
android
/
test
/
nocompile_gn
:
c_prebuilt_java
\
"
"
}
{
target
=
"
nocompile_gn
:
cpp_template_missing_symbol_test_java
"
nocompile_sources
=
[
]
-
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
cpp_template_missing_symbol_test_java
\
n
*
\
"
/
/
build
/
android
/
test
/
nocompile_gn
:
d_java
\
"
"
+
expected_compile_output_regex
=
"
Hint
:
Try
adding
the
following
to
/
/
build
/
android
/
test
/
nocompile_gn
:
cpp_template_missing_symbol_test_java
\
n
*
\
"
/
/
chromium
/
build
/
android
/
test
/
nocompile_gn
:
d_java
\
"
"
}
]
}
diff
-
-
git
a
/
android
/
test
/
incremental_javac_gn
/
BUILD
.
gn
b
/
android
/
test
/
incremental_javac_gn
/
BUILD
.
gn
index
9411497fa
.
.
43adf1470
100644
-
-
-
a
/
android
/
test
/
incremental_javac_gn
/
BUILD
.
gn
+
+
+
b
/
android
/
test
/
incremental_javac_gn
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
declare_args
(
)
{
incremental_javac_test_toggle_gn
=
false
-
85
7
+
85
7
incremental_javac_prebuilt
(
"
no_signature_change_prebuilt_generator
"
)
{
testonly
=
true
sources
=
all_test_sources
toggle_gn_target
=
"
:
changing_java
"
-
pydeps
=
[
"
/
/
build
/
android
/
gyp
/
compile_java
.
pydeps
"
]
+
pydeps
=
[
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_java
.
pydeps
"
]
}
android_java_prebuilt
(
"
no_signature_change_prebuilt_java
"
)
{
diff
-
-
git
a
/
android
/
test
/
missing_symbol_test
.
gni
b
/
android
/
test
/
missing_symbol_test
.
gni
index
3cc4741c9
.
.
e93eab566
100644
-
-
-
a
/
android
/
test
/
missing_symbol_test
.
gni
+
+
+
b
/
android
/
test
/
missing_symbol_test
.
gni
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
missing_symbol_generated_importer_template_nocompile_source
=
-
"
/
/
build
/
android
/
java
/
test
/
missing_symbol
/
Importer
.
template
"
+
"
/
/
chromium
/
build
/
android
/
java
/
test
/
missing_symbol
/
Importer
.
template
"
template
(
"
missing_symbol_test
"
)
{
#
Not
named
"
_java
"
to
prevent
target
from
being
considered
a
classpath
dep
.
diff
-
-
git
a
/
android
/
test
/
nocompile_gn
/
BUILD
.
gn
b
/
android
/
test
/
nocompile_gn
/
BUILD
.
gn
index
406bd8c48
.
.
52d7a9ef0
100644
-
-
-
a
/
android
/
test
/
nocompile_gn
/
BUILD
.
gn
+
+
+
b
/
android
/
test
/
nocompile_gn
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
android
/
test
/
missing_symbol_test
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
android
/
test
/
missing_symbol_test
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
android_nocompile
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
import
(
"
nocompile_sources
.
gni
"
)
template
(
"
lint_test
"
)
{
-
24
7
+
24
7
template
(
"
lint_test
"
)
{
#
targets
.
We
need
to
test
linting
a
normal
apk
target
.
apk_name
=
_apk_target_name
deps
=
[
"
:
_library_target_name
"
]
-
android_manifest
=
"
/
/
build
/
android
/
AndroidManifest
.
xml
"
+
android_manifest
=
"
/
/
chromium
/
build
/
android
/
AndroidManifest
.
xml
"
}
android_lint
(
target_name
)
{
diff
-
-
git
a
/
android
/
unused_resources
/
BUILD
.
gn
b
/
android
/
unused_resources
/
BUILD
.
gn
index
8eb56237b
.
.
2add41a5e
100644
-
-
-
a
/
android
/
unused_resources
/
BUILD
.
gn
+
+
+
b
/
android
/
unused_resources
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
java_binary
(
"
unused_resources
"
)
{
-
sources
=
[
"
/
/
build
/
android
/
unused_resources
/
UnusedResources
.
java
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
android
/
unused_resources
/
UnusedResources
.
java
"
]
main_class
=
"
build
.
android
.
unused_resources
.
UnusedResources
"
deps
=
[
"
/
/
third_party
/
android_deps
:
com_android_tools_common_java
"
diff
-
-
git
a
/
apple
/
apple_info_plist
.
gni
b
/
apple
/
apple_info_plist
.
gni
index
bf66dbd6b
.
.
eeeed41ff
100644
-
-
-
a
/
apple
/
apple_info_plist
.
gni
+
+
+
b
/
apple
/
apple_info_plist
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
apple
/
compile_plist
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
apple
/
compile_plist
.
gni
"
)
#
The
base
template
used
to
generate
Info
.
plist
files
for
iOS
and
Mac
apps
and
#
frameworks
.
diff
-
-
git
a
/
apple
/
compile_entitlements
.
gni
b
/
apple
/
compile_entitlements
.
gni
index
1f84a115d
.
.
93d042f58
100644
-
-
-
a
/
apple
/
compile_entitlements
.
gni
+
+
+
b
/
apple
/
compile_entitlements
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
apple
/
compile_plist
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
apple
/
compile_plist
.
gni
"
)
#
Template
to
merge
multiple
.
entitlements
files
performing
variable
#
substitutions
.
diff
-
-
git
a
/
apple
/
compile_plist
.
gni
b
/
apple
/
compile_plist
.
gni
index
df8de0c21
.
.
d090b3841
100644
-
-
-
a
/
apple
/
compile_plist
.
gni
+
+
+
b
/
apple
/
compile_plist
.
gni
-
43
7
+
43
7
template
(
"
compile_plist
"
)
{
"
testonly
"
]
)
-
script
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
sources
=
invoker
.
plist_templates
outputs
=
[
_merged_name
]
args
=
[
-
59
7
+
59
7
template
(
"
compile_plist
"
)
{
"
testonly
"
"
visibility
"
]
)
-
script
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
sources
=
[
_merged_name
]
outputs
=
[
_output_name
]
args
=
[
diff
-
-
git
a
/
apple
/
convert_plist
.
gni
b
/
apple
/
convert_plist
.
gni
index
740bfc77b
.
.
ddbc7e948
100644
-
-
-
a
/
apple
/
convert_plist
.
gni
+
+
+
b
/
apple
/
convert_plist
.
gni
-
27
7
+
27
7
template
(
"
convert_plist
"
)
{
"
deps
"
]
)
-
script
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
sources
=
[
invoker
.
source
]
outputs
=
[
invoker
.
output
]
args
=
[
diff
-
-
git
a
/
apple
/
tweak_info_plist
.
gni
b
/
apple
/
tweak_info_plist
.
gni
index
347c5d58d
.
.
7b67a89ce
100644
-
-
-
a
/
apple
/
tweak_info_plist
.
gni
+
+
+
b
/
apple
/
tweak_info_plist
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
util
/
lastchange
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
lastchange
.
gni
"
)
#
Template
to
run
the
tweak_info_plist
.
py
script
on
a
plist
.
#
-
36
7
+
36
7
template
(
"
tweak_info_plist
"
)
{
"
testonly
"
"
deps
"
]
)
-
script
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
sources
=
invoker
.
info_plists
outputs
=
[
_source_name
]
args
=
[
-
62
10
+
62
10
template
(
"
tweak_info_plist
"
)
{
"
args
"
"
testonly
"
]
)
-
script
=
"
/
/
build
/
apple
/
tweak_info_plist
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
tweak_info_plist
.
py
"
inputs
=
[
script
-
"
/
/
build
/
util
/
version
.
py
"
+
"
/
/
chromium
/
build
/
util
/
version
.
py
"
lastchange_file
"
/
/
chrome
/
VERSION
"
]
diff
-
-
git
a
/
args
/
headless
.
gn
b
/
args
/
headless
.
gn
index
8834eb1bb
.
.
32a5503fa
100644
-
-
-
a
/
args
/
headless
.
gn
+
+
+
b
/
args
/
headless
.
gn
-
2
7
+
2
7
#
#
Add
import
to
arg
.
gn
in
out
directory
and
run
gn
gen
on
the
directory
to
use
.
#
E
.
g
.
for
out
directory
out
/
foo
:
-
#
echo
'
import
(
"
/
/
build
/
args
/
headless
.
gn
"
)
'
>
out
/
foo
/
args
.
gn
+
#
echo
'
import
(
"
/
/
chromium
/
build
/
args
/
headless
.
gn
"
)
'
>
out
/
foo
/
args
.
gn
#
gn
gen
out
/
foo
#
#
Use
gn
args
to
add
your
own
build
preference
args
.
diff
-
-
git
a
/
buildflag_header
.
gni
b
/
buildflag_header
.
gni
index
f7b42f724
.
.
c9f091fcb
100644
-
-
-
a
/
buildflag_header
.
gni
+
+
+
b
/
buildflag_header
.
gni
-
95
7
+
95
7
#
}
template
(
"
buildflag_header
"
)
{
action
(
target_name
)
{
-
script
=
"
/
/
build
/
write_buildflag_header
.
py
"
+
script
=
"
/
/
chromium
/
build
/
write_buildflag_header
.
py
"
if
(
defined
(
invoker
.
header_dir
)
)
{
header_file
=
"
{
invoker
.
header_dir
}
/
{
invoker
.
header
}
"
-
132
6
+
132
6
template
(
"
buildflag_header
"
)
{
"
visibility
"
]
)
-
public_deps
=
[
"
/
/
build
:
buildflag_header_h
"
]
+
public_deps
=
[
"
/
/
chromium
/
build
:
buildflag_header_h
"
]
}
}
diff
-
-
git
a
/
cipd
/
cipd
.
gni
b
/
cipd
/
cipd
.
gni
index
852adeff8
.
.
927b32721
100644
-
-
-
a
/
cipd
/
cipd
.
gni
+
+
+
b
/
cipd
/
cipd
.
gni
-
122
7
+
122
7
template
(
"
cipd_package_definition_by_file
"
)
{
_output_yaml_filename
=
invoker
.
package_definition_yaml
}
action
(
target_name
)
{
-
script
=
"
/
/
build
/
cipd
/
cipd_from_file
.
py
"
+
script
=
"
/
/
chromium
/
build
/
cipd
/
cipd_from_file
.
py
"
inputs
=
[
invoker
.
files_file
]
args
=
[
"
-
-
description
=
"
+
invoker
.
description
diff
-
-
git
a
/
compiled_action
.
gni
b
/
compiled_action
.
gni
index
6a632bdfa
.
.
a45e01d40
100644
-
-
-
a
/
compiled_action
.
gni
+
+
+
b
/
compiled_action
.
gni
-
98
7
+
98
7
template
(
"
compiled_action
"
)
{
inputs
=
[
]
}
-
script
=
"
/
/
build
/
gn_run_binary
.
py
"
+
script
=
"
/
/
chromium
/
build
/
gn_run_binary
.
py
"
#
Constuct
the
host
toolchain
version
of
the
tool
.
host_tool
=
invoker
.
tool
+
"
(
host_toolchain
)
"
-
144
7
+
144
7
template
(
"
compiled_action_foreach
"
)
{
inputs
=
[
]
}
-
script
=
"
/
/
build
/
gn_run_binary
.
py
"
+
script
=
"
/
/
chromium
/
build
/
gn_run_binary
.
py
"
#
Constuct
the
host
toolchain
version
of
the
tool
.
host_tool
=
invoker
.
tool
+
"
(
host_toolchain
)
"
diff
-
-
git
a
/
config
/
BUILD
.
gn
b
/
config
/
BUILD
.
gn
index
9f11932fe
.
.
278d76265
100644
-
-
-
a
/
config
/
BUILD
.
gn
+
+
+
b
/
config
/
BUILD
.
gn
-
2
25
+
2
25
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
#
Subprojects
need
to
override
arguments
in
{
mac
ios
}
_sdk_overrides
.
gni
in
their
#
.
gn
config
but
those
arguments
are
only
used
on
macOS
.
Including
#
mac_sdk_overrides
.
gni
insures
that
this
doesn
'
t
trigger
an
unused
argument
#
warning
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk_overrides
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk_overrides
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk_overrides
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk_overrides
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
pch
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
pch
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
abi
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
abi
.
gni
"
)
}
#
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
-
240
7
+
240
7
group
(
"
common_deps
"
)
{
public_deps
=
[
]
if
(
using_sanitizer
)
{
-
public_deps
+
=
[
"
/
/
build
/
config
/
sanitizers
:
deps
"
]
+
public_deps
+
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
deps
"
]
}
#
if
(
use_custom_libcxx
)
{
-
259
7
+
259
7
group
(
"
common_deps
"
)
{
public_deps
+
=
[
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
build
/
config
:
runtime_library_group
"
]
if
(
is_asan
)
{
-
public_deps
+
=
[
"
/
/
build
/
config
/
fuchsia
:
asan_runtime_library
"
]
+
public_deps
+
=
[
"
/
/
chromium
/
build
/
config
/
fuchsia
:
asan_runtime_library
"
]
}
}
}
-
270
21
+
270
21
group
(
"
executable_deps
"
)
{
if
(
export_libcxxabi_from_executables
)
{
public_deps
+
=
[
"
/
/
buildtools
/
third_party
/
libc
+
+
abi
"
]
}
-
public_configs
=
[
"
/
/
build
/
config
/
sanitizers
:
link_executable
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
link_executable
"
]
}
#
Only
the
loadable_module
template
in
BUILDCONFIG
.
gn
should
reference
this
.
group
(
"
loadable_module_deps
"
)
{
public_deps
=
[
"
:
common_deps
"
]
-
public_configs
=
[
"
/
/
build
/
config
/
sanitizers
:
link_shared_library
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
link_shared_library
"
]
}
#
Only
the
shared_library
template
in
BUILDCONFIG
.
gn
should
reference
this
.
group
(
"
shared_library_deps
"
)
{
public_deps
=
[
"
:
common_deps
"
]
-
public_configs
=
[
"
/
/
build
/
config
/
sanitizers
:
link_shared_library
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
link_shared_library
"
]
}
#
Executable
configs
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
292
8
+
292
8
group
(
"
shared_library_deps
"
)
{
#
Windows
linker
setup
for
EXEs
and
DLLs
.
if
(
is_win
)
{
_windows_linker_configs
=
[
-
"
/
/
build
/
config
/
win
:
sdk_link
"
-
"
/
/
build
/
config
/
win
:
common_linker_setup
"
+
"
/
/
chromium
/
build
/
config
/
win
:
sdk_link
"
+
"
/
/
chromium
/
build
/
config
/
win
:
common_linker_setup
"
]
}
-
304
16
+
304
16
config
(
"
executable_config
"
)
{
if
(
is_win
)
{
configs
+
=
_windows_linker_configs
}
else
if
(
is_mac
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
mac
:
mac_dynamic_flags
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
mac
:
mac_dynamic_flags
"
]
}
else
if
(
is_ios
)
{
configs
+
=
[
-
"
/
/
build
/
config
/
ios
:
ios_dynamic_flags
"
-
"
/
/
build
/
config
/
ios
:
ios_executable_flags
"
+
"
/
/
chromium
/
build
/
config
/
ios
:
ios_dynamic_flags
"
+
"
/
/
chromium
/
build
/
config
/
ios
:
ios_executable_flags
"
]
}
else
if
(
is_linux
|
|
is_chromeos
|
|
is_android
|
|
current_os
=
=
"
aix
"
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
gcc
:
executable_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
gcc
:
executable_config
"
]
if
(
is_castos
|
|
is_cast_android
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
chromecast
:
executable_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
chromecast
:
executable_config
"
]
}
}
-
336
16
+
336
16
config
(
"
shared_library_config
"
)
{
if
(
is_win
)
{
configs
+
=
_windows_linker_configs
}
else
if
(
is_mac
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
mac
:
mac_dynamic_flags
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
mac
:
mac_dynamic_flags
"
]
}
else
if
(
is_ios
)
{
configs
+
=
[
-
"
/
/
build
/
config
/
ios
:
ios_dynamic_flags
"
-
"
/
/
build
/
config
/
ios
:
ios_shared_library_flags
"
+
"
/
/
chromium
/
build
/
config
/
ios
:
ios_dynamic_flags
"
+
"
/
/
chromium
/
build
/
config
/
ios
:
ios_shared_library_flags
"
]
}
else
if
(
is_castos
|
|
is_cast_android
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
chromecast
:
shared_library_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
chromecast
:
shared_library_config
"
]
}
else
if
(
is_linux
|
|
is_chromeos
|
|
current_os
=
=
"
aix
"
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
gcc
:
shared_library_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
gcc
:
shared_library_config
"
]
}
#
If
we
'
re
using
the
prebuilt
instrumented
libraries
with
the
sanitizers
we
-
377
12
+
377
12
config
(
"
precompiled_headers
"
)
{
#
This
is
a
file
that
GN
will
compile
with
the
above
header
.
It
will
be
#
implicitly
added
to
the
sources
(
potentially
multiple
times
with
one
#
variant
for
each
language
used
in
the
target
)
.
-
precompiled_source
=
"
/
/
build
/
precompile
.
cc
"
+
precompiled_source
=
"
/
/
chromium
/
build
/
precompile
.
cc
"
#
Force
include
the
header
.
cflags
=
[
"
/
FI
precompiled_header
"
]
}
else
if
(
is_mac
|
|
is_linux
)
{
-
precompiled_source
=
"
/
/
build
/
precompile
.
h
"
+
precompiled_source
=
"
/
/
chromium
/
build
/
precompile
.
h
"
}
}
}
diff
-
-
git
a
/
config
/
BUILDCONFIG
.
gn
b
/
config
/
BUILDCONFIG
.
gn
index
b6eb4be04
.
.
99a69ad16
100644
-
-
-
a
/
config
/
BUILDCONFIG
.
gn
+
+
+
b
/
config
/
BUILDCONFIG
.
gn
-
198
33
+
198
33
if
(
host_toolchain
=
=
"
"
)
{
if
(
host_os
=
=
"
linux
"
|
|
host_os
=
=
"
openbsd
"
)
{
if
(
target_os
!
=
"
linux
"
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
linux
:
clang_
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_
host_cpu
"
}
else
if
(
is_clang
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
linux
:
clang_
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_
host_cpu
"
}
else
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
linux
:
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
host_cpu
"
}
}
else
if
(
host_os
=
=
"
mac
"
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
mac
:
clang_
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
mac
:
clang_
host_cpu
"
}
else
if
(
host_os
=
=
"
win
"
)
{
#
On
Windows
always
use
the
target
CPU
for
host
builds
for
x86
/
x64
.
On
the
#
configurations
we
support
this
will
always
work
and
it
saves
build
steps
.
#
Windows
ARM64
targets
require
an
x64
host
for
cross
build
.
if
(
target_cpu
=
=
"
x86
"
|
|
target_cpu
=
=
"
x64
"
)
{
if
(
is_clang
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
win
:
win_clang_
target_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
win_clang_
target_cpu
"
}
else
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
win
:
target_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
target_cpu
"
}
}
else
if
(
is_clang
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
win
:
win_clang_
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
win_clang_
host_cpu
"
}
else
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
win
:
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
host_cpu
"
}
}
else
if
(
host_os
=
=
"
aix
"
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
aix
:
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
aix
:
host_cpu
"
}
else
if
(
host_os
=
=
"
zos
"
)
{
-
host_toolchain
=
"
/
/
build
/
toolchain
/
zos
:
host_cpu
"
+
host_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
zos
:
host_cpu
"
}
else
{
assert
(
false
"
Unsupported
host_os
:
host_os
"
)
}
-
234
40
+
234
40
_default_toolchain
=
"
"
if
(
target_os
=
=
"
android
"
)
{
#
assert
(
host_os
=
=
"
linux
"
"
Android
builds
are
only
supported
on
Linux
.
"
)
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
android
:
android_clang_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
android
:
android_clang_
target_cpu
"
}
else
if
(
target_os
=
=
"
chromeos
"
|
|
target_os
=
=
"
linux
"
|
|
target_os
=
=
"
openbsd
"
)
{
#
See
comments
in
build
/
toolchain
/
cros
/
BUILD
.
gn
about
board
compiles
.
if
(
is_clang
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
linux
:
clang_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_
target_cpu
"
}
else
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
linux
:
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
target_cpu
"
}
}
else
if
(
target_os
=
=
"
fuchsia
"
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
fuchsia
:
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
fuchsia
:
target_cpu
"
}
else
if
(
target_os
=
=
"
ios
"
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
ios
:
ios_clang_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
ios
:
ios_clang_
target_cpu
"
}
else
if
(
target_os
=
=
"
mac
"
)
{
#
assert
(
host_os
=
=
"
mac
"
|
|
host_os
=
=
"
linux
"
#
"
Mac
cross
-
compiles
are
unsupported
.
"
)
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
mac
:
clang_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
mac
:
clang_
target_cpu
"
}
else
if
(
target_os
=
=
"
win
"
)
{
#
On
Windows
we
use
the
same
toolchain
for
host
and
target
by
default
.
#
Beware
win
cross
builds
have
some
caveats
see
docs
/
win_cross
.
md
if
(
is_clang
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
win
:
win_clang_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
win_clang_
target_cpu
"
}
else
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
win
:
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
target_cpu
"
}
}
else
if
(
target_os
=
=
"
winuwp
"
)
{
#
Only
target
WinUWP
on
for
a
Windows
store
application
and
only
#
x86
x64
and
arm
are
supported
target
CPUs
.
assert
(
target_cpu
=
=
"
x86
"
|
|
target_cpu
=
=
"
x64
"
|
|
target_cpu
=
=
"
arm
"
|
|
target_cpu
=
=
"
arm64
"
)
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
win
:
uwp_
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
win
:
uwp_
target_cpu
"
}
else
if
(
target_os
=
=
"
aix
"
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
aix
:
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
aix
:
target_cpu
"
}
else
if
(
target_os
=
=
"
zos
"
)
{
-
_default_toolchain
=
"
/
/
build
/
toolchain
/
zos
:
target_cpu
"
+
_default_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
zos
:
target_cpu
"
}
else
{
assert
(
false
"
Unsupported
target_os
:
target_os
"
)
}
-
330
70
+
330
70
is_posix
=
!
is_win
&
&
!
is_fuchsia
#
Holds
all
configs
used
for
running
the
compiler
.
default_compiler_configs
=
[
-
"
/
/
build
/
config
:
feature_flags
"
-
"
/
/
build
/
config
/
compiler
:
afdo
"
-
"
/
/
build
/
config
/
compiler
:
afdo_optimize_size
"
-
"
/
/
build
/
config
/
compiler
:
cet_shadow_stack
"
-
"
/
/
build
/
config
/
compiler
:
chromium_code
"
-
"
/
/
build
/
config
/
compiler
:
compiler
"
-
"
/
/
build
/
config
/
compiler
:
compiler_arm_fpu
"
-
"
/
/
build
/
config
/
compiler
:
compiler_arm_thumb
"
-
"
/
/
build
/
config
/
compiler
:
default_include_dirs
"
-
"
/
/
build
/
config
/
compiler
:
default_init_stack_vars
"
-
"
/
/
build
/
config
/
compiler
:
default_optimization
"
-
"
/
/
build
/
config
/
compiler
:
default_stack_frames
"
-
"
/
/
build
/
config
/
compiler
:
default_symbols
"
-
"
/
/
build
/
config
/
compiler
:
export_dynamic
"
-
"
/
/
build
/
config
/
compiler
:
no_exceptions
"
-
"
/
/
build
/
config
/
compiler
:
no_rtti
"
-
"
/
/
build
/
config
/
compiler
:
no_unresolved_symbols
"
-
"
/
/
build
/
config
/
compiler
:
runtime_library
"
-
"
/
/
build
/
config
/
compiler
:
thin_archive
"
-
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
-
"
/
/
build
/
config
/
compiler
/
pgo
:
default_pgo_flags
"
-
"
/
/
build
/
config
/
coverage
:
default_coverage
"
-
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
+
"
/
/
chromium
/
build
/
config
:
feature_flags
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
afdo
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
afdo_optimize_size
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
cet_shadow_stack
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
compiler
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
compiler_arm_fpu
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
compiler_arm_thumb
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
default_include_dirs
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
default_init_stack_vars
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
default_optimization
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
default_stack_frames
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
default_symbols
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
export_dynamic
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
no_exceptions
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
no_rtti
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
no_unresolved_symbols
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
runtime_library
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thin_archive
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
+
"
/
/
chromium
/
build
/
config
/
compiler
/
pgo
:
default_pgo_flags
"
+
"
/
/
chromium
/
build
/
config
/
coverage
:
default_coverage
"
+
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
if
(
is_win
)
{
default_compiler_configs
+
=
[
-
"
/
/
build
/
config
/
win
:
default_cfg_compiler
"
-
"
/
/
build
/
config
/
win
:
default_crt
"
-
"
/
/
build
/
config
/
win
:
lean_and_mean
"
-
"
/
/
build
/
config
/
win
:
nominmax
"
-
"
/
/
build
/
config
/
win
:
unicode
"
-
"
/
/
build
/
config
/
win
:
winver
"
+
"
/
/
chromium
/
build
/
config
/
win
:
default_cfg_compiler
"
+
"
/
/
chromium
/
build
/
config
/
win
:
default_crt
"
+
"
/
/
chromium
/
build
/
config
/
win
:
lean_and_mean
"
+
"
/
/
chromium
/
build
/
config
/
win
:
nominmax
"
+
"
/
/
chromium
/
build
/
config
/
win
:
unicode
"
+
"
/
/
chromium
/
build
/
config
/
win
:
winver
"
]
}
if
(
is_posix
)
{
if
(
current_os
!
=
"
aix
"
)
{
default_compiler_configs
+
=
-
[
"
/
/
build
/
config
/
gcc
:
symbol_visibility_hidden
"
]
+
[
"
/
/
chromium
/
build
/
config
/
gcc
:
symbol_visibility_hidden
"
]
}
}
if
(
is_fuchsia
)
{
-
default_compiler_configs
+
=
[
"
/
/
build
/
config
/
gcc
:
symbol_visibility_hidden
"
]
+
default_compiler_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
gcc
:
symbol_visibility_hidden
"
]
}
if
(
is_android
)
{
default_compiler_configs
+
=
-
[
"
/
/
build
/
config
/
android
:
default_orderfile_instrumentation
"
]
+
[
"
/
/
chromium
/
build
/
config
/
android
:
default_orderfile_instrumentation
"
]
}
if
(
is_clang
&
&
!
is_nacl
)
{
default_compiler_configs
+
=
[
-
"
/
/
build
/
config
/
clang
:
find_bad_constructs
"
-
"
/
/
build
/
config
/
clang
:
extra_warnings
"
+
"
/
/
chromium
/
build
/
config
/
clang
:
find_bad_constructs
"
+
"
/
/
chromium
/
build
/
config
/
clang
:
extra_warnings
"
]
}
#
Debug
/
release
-
related
defines
.
if
(
is_debug
)
{
-
default_compiler_configs
+
=
[
"
/
/
build
/
config
:
debug
"
]
+
default_compiler_configs
+
=
[
"
/
/
chromium
/
build
/
config
:
debug
"
]
}
else
{
-
default_compiler_configs
+
=
[
"
/
/
build
/
config
:
release
"
]
+
default_compiler_configs
+
=
[
"
/
/
chromium
/
build
/
config
:
release
"
]
}
#
Static
libraries
and
source
sets
use
only
the
compiler
ones
.
-
403
7
+
403
7
set_defaults
(
"
static_library
"
)
{
#
For
Rust
a
static
library
involves
linking
in
all
dependencies
and
it
#
performs
LTO
.
But
since
we
will
perform
LTO
in
the
C
+
+
linker
which
#
consumes
the
library
we
defer
LTO
from
Rust
into
the
linker
.
-
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
rust_defer_lto_to_linker
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
rust_defer_lto_to_linker
"
]
}
set_defaults
(
"
source_set
"
)
{
configs
=
default_compiler_configs
-
418
28
+
418
28
if
(
is_win
)
{
#
Many
targets
remove
these
configs
so
they
are
not
contained
within
#
/
/
build
/
config
:
executable_config
for
easy
removal
.
_linker_configs
=
[
-
"
/
/
build
/
config
/
win
:
default_incremental_linking
"
+
"
/
/
chromium
/
build
/
config
/
win
:
default_incremental_linking
"
#
Default
to
console
-
mode
apps
.
Most
of
our
targets
are
tests
and
such
#
that
shouldn
'
t
use
the
windows
subsystem
.
-
"
/
/
build
/
config
/
win
:
console
"
+
"
/
/
chromium
/
build
/
config
/
win
:
console
"
]
}
else
if
(
is_mac
)
{
-
_linker_configs
=
[
"
/
/
build
/
config
/
mac
:
strip_all
"
]
+
_linker_configs
=
[
"
/
/
chromium
/
build
/
config
/
mac
:
strip_all
"
]
}
else
{
_linker_configs
=
[
]
}
#
Executable
defaults
.
default_executable_configs
=
default_compiler_configs
+
[
-
"
/
/
build
/
config
:
default_libs
"
-
"
/
/
build
/
config
:
executable_config
"
+
"
/
/
chromium
/
build
/
config
:
default_libs
"
+
"
/
/
chromium
/
build
/
config
:
executable_config
"
]
+
_linker_configs
if
(
is_win
)
{
#
Turn
on
linker
CFI
for
executables
and
position
it
so
it
can
be
removed
#
if
needed
.
-
default_executable_configs
+
=
[
"
/
/
build
/
config
/
win
:
cfi_linker
"
]
+
default_executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
win
:
cfi_linker
"
]
}
set_defaults
(
"
executable
"
)
{
-
449
19
+
449
19
set_defaults
(
"
executable
"
)
{
#
Shared
library
and
loadable
module
defaults
(
also
for
components
in
component
#
mode
)
.
default_shared_library_configs
=
default_compiler_configs
+
[
-
"
/
/
build
/
config
:
default_libs
"
-
"
/
/
build
/
config
:
shared_library_config
"
+
"
/
/
chromium
/
build
/
config
:
default_libs
"
+
"
/
/
chromium
/
build
/
config
:
shared_library_config
"
]
+
_linker_configs
if
(
is_win
)
{
#
Turn
on
linker
CFI
for
DLLs
and
position
it
so
it
can
be
removed
if
needed
.
-
default_shared_library_configs
+
=
[
"
/
/
build
/
config
/
win
:
cfi_linker
"
]
+
default_shared_library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
win
:
cfi_linker
"
]
}
if
(
is_android
)
{
#
Strip
native
JNI
exports
from
shared
libraries
by
default
.
Binaries
that
#
want
this
can
remove
this
config
.
default_shared_library_configs
+
=
-
[
"
/
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
+
[
"
/
/
chromium
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
}
set_defaults
(
"
shared_library
"
)
{
configs
=
default_shared_library_configs
-
471
20
+
471
20
set_defaults
(
"
loadable_module
"
)
{
#
loadable_modules
are
generally
used
by
other
libs
not
just
via
JNI
.
if
(
is_android
)
{
-
configs
-
=
[
"
/
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
+
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
}
}
default_rust_proc_macro_configs
=
-
default_shared_library_configs
+
[
"
/
/
build
/
rust
:
proc_macro_extern
"
]
+
+
default_shared_library_configs
+
[
"
/
/
chromium
/
build
/
rust
:
proc_macro_extern
"
]
+
#
Rust
proc
macros
don
'
t
support
(
Thin
)
LTO
so
always
remove
it
.
[
-
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
-
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
]
-
[
-
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
-
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
+
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
]
set_defaults
(
"
rust_proc_macro
"
)
{
-
508
8
+
508
8
TESTONLY_AND_VISIBILITY
=
[
#
Variables
#
no_default_deps
:
If
true
no
standard
dependencies
will
be
added
.
#
Targets
that
set
this
usually
also
want
to
remove
-
#
"
/
/
build
/
config
/
compiler
:
runtime_library
"
from
configs
(
to
remove
-
#
its
subconfig
"
/
/
build
/
config
/
c
+
+
:
runtime_library
"
)
.
+
#
"
/
/
chromium
/
build
/
config
/
compiler
:
runtime_library
"
from
configs
(
to
remove
+
#
its
subconfig
"
/
/
chromium
/
build
/
config
/
c
+
+
:
runtime_library
"
)
.
foreach
(
_target_type
[
"
executable
"
-
534
7
+
534
7
foreach
(
_target_type
#
/
/
build
/
config
:
shared_library_deps
#
(
This
explicit
list
is
so
that
grepping
for
these
configs
finds
where
#
they
are
used
.
)
-
deps
+
=
[
"
/
/
build
/
config
:
{
_target_type
}
_deps
"
]
+
deps
+
=
[
"
/
/
chromium
/
build
/
config
:
{
_target_type
}
_deps
"
]
}
#
On
Android
write
shared
library
output
file
to
metadata
.
We
will
use
-
628
7
+
628
7
if
(
is_component_build
)
{
default_component_configs
=
default_shared_library_configs
if
(
is_android
)
{
default_component_configs
-
=
-
[
"
/
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
+
[
"
/
/
chromium
/
build
/
config
/
android
:
hide_all_but_jni_onload
"
]
}
}
else
{
default_component_configs
=
default_compiler_configs
-
656
7
+
656
7
set_defaults
(
"
component
"
)
{
#
value
should
be
set
using
the
custom_processor
arg
.
#
Variables
needed
by
rbe
.
gni
aren
'
t
available
at
the
top
of
this
file
.
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
#
TODO
(
b
/
253987456
)
:
Add
action_foreach
support
.
foreach
(
_target_type
[
"
action
"
]
)
{
-
693
8
+
693
8
foreach
(
_target_type
[
"
action
"
]
)
{
#
is
enabled
and
the
environment
is
not
nacl
.
#
TODO
(
b
/
259381924
)
:
Investigate
enabling
in
nacl
config
.
if
(
allow_remote
&
&
use_remoteexec
&
&
!
is_nacl
)
{
-
pool
=
"
/
/
build
/
toolchain
:
remote_action_pool
(
default_toolchain
)
"
-
script
=
"
/
/
build
/
util
/
action_remote
.
py
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
remote_action_pool
(
default_toolchain
)
"
+
script
=
"
/
/
chromium
/
build
/
util
/
action_remote
.
py
"
inputs
=
[
invoker
.
script
]
re_inputs
=
[
rebase_path
(
invoker
.
script
rbe_exec_root
)
]
diff
-
-
git
a
/
config
/
aix
/
BUILD
.
gn
b
/
config
/
aix
/
BUILD
.
gn
index
6e55c8393
.
.
a4b574620
100644
-
-
-
a
/
config
/
aix
/
BUILD
.
gn
+
+
+
b
/
config
/
aix
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
This
is
included
by
reference
in
the
/
/
build
/
config
/
compiler
config
that
#
is
applied
to
all
targets
.
It
is
here
to
separate
out
the
logic
.
diff
-
-
git
a
/
config
/
android
/
BUILD
.
gn
b
/
config
/
android
/
BUILD
.
gn
index
784d1af90
.
.
3da187c7d
100644
-
-
-
a
/
config
/
android
/
BUILD
.
gn
+
+
+
b
/
config
/
android
/
BUILD
.
gn
-
2
13
+
2
13
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
if
(
current_toolchain
=
=
default_toolchain
)
{
-
import
(
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
}
assert
(
is_android
)
-
90
13
+
90
13
config
(
"
runtime_library
"
)
{
config
(
"
hide_all_but_jni_onload
"
)
{
ldflags
=
[
"
-
Wl
-
-
version
-
script
=
"
+
rebase_path
(
-
"
/
/
build
/
android
/
android_only_explicit_jni_exports
.
lst
"
+
"
/
/
chromium
/
build
/
android
/
android_only_explicit_jni_exports
.
lst
"
root_build_dir
)
]
}
config
(
"
hide_all_but_jni
"
)
{
ldflags
=
[
"
-
Wl
-
-
version
-
script
=
"
+
-
rebase_path
(
"
/
/
build
/
android
/
android_only_jni_exports
.
lst
"
+
rebase_path
(
"
/
/
chromium
/
build
/
android
/
android_only_jni_exports
.
lst
"
root_build_dir
)
]
}
diff
-
-
git
a
/
config
/
android
/
DIR_METADATA
b
/
config
/
android
/
DIR_METADATA
index
cdc2d6fb6
.
.
37c98f5e4
100644
-
-
-
a
/
config
/
android
/
DIR_METADATA
+
+
+
b
/
config
/
android
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
android
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
android
/
COMMON_METADATA
"
diff
-
-
git
a
/
config
/
android
/
abi
.
gni
b
/
config
/
android
/
abi
.
gni
index
43c62b1f6
.
.
5e2ec054c
100644
-
-
-
a
/
config
/
android
/
abi
.
gni
+
+
+
b
/
config
/
android
/
abi
.
gni
-
45
7
+
45
7
if
(
current_cpu
=
=
"
x86
"
)
{
android_app_abi
=
"
x86
"
android_abi_target
=
"
i686
-
linux
-
android
"
}
else
if
(
current_cpu
=
=
"
arm
"
)
{
-
import
(
"
/
/
build
/
config
/
arm
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
arm
.
gni
"
)
if
(
arm_version
<
7
)
{
android_app_abi
=
"
armeabi
"
}
else
{
-
97
5
+
97
5
if
(
target_cpu
=
=
"
arm64
"
)
{
if
(
defined
(
android_secondary_abi_cpu
)
)
{
android_secondary_abi_toolchain
=
-
"
/
/
build
/
toolchain
/
android
:
android_clang_
{
android_secondary_abi_cpu
}
"
+
"
/
/
chromium
/
build
/
toolchain
/
android
:
android_clang_
{
android_secondary_abi_cpu
}
"
}
diff
-
-
git
a
/
config
/
android
/
android_nocompile
.
gni
b
/
config
/
android
/
android_nocompile
.
gni
index
0b3f517bd
.
.
912cea490
100644
-
-
-
a
/
config
/
android
/
android_nocompile
.
gni
+
+
+
b
/
config
/
android
/
android_nocompile
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
declare_args
(
)
{
#
Used
by
tests
to
enable
generating
build
files
for
GN
targets
which
should
-
33
8
+
33
8
template
(
"
android_nocompile_test_suite
"
)
{
action
(
target_name
)
{
testonly
=
true
-
script
=
"
/
/
build
/
android
/
gyp
/
nocompile_test
.
py
"
-
pool
=
"
/
/
build
/
config
/
android
:
nocompile_pool
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
nocompile_test
.
py
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
nocompile_pool
"
_tests
=
invoker
.
tests
_test0
=
_tests
[
0
]
-
58
7
+
58
7
template
(
"
android_nocompile_test_suite
"
)
{
#
Depend
on
compile_java
Python
scripts
so
that
the
action
is
re
-
run
whenever
the
script
is
#
modified
.
-
_pydeps
=
[
"
/
/
build
/
android
/
gyp
/
compile_java
.
pydeps
"
]
+
_pydeps
=
[
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_java
.
pydeps
"
]
if
(
defined
(
invoker
.
pydeps
)
)
{
_pydeps
+
=
invoker
.
pydeps
}
diff
-
-
git
a
/
config
/
android
/
build_vars
.
gni
b
/
config
/
android
/
build_vars
.
gni
index
27866a7c1
.
.
e80bb71c1
100644
-
-
-
a
/
config
/
android
/
build_vars
.
gni
+
+
+
b
/
config
/
android
/
build_vars
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
#
Contains
useful
GN
variables
that
may
be
used
by
scripts
that
take
#
-
-
output
-
directory
as
an
arg
.
diff
-
-
git
a
/
config
/
android
/
config
.
gni
b
/
config
/
android
/
config
.
gni
index
b60b6fb8d
.
.
319e5fccd
100644
-
-
-
a
/
config
/
android
/
config
.
gni
+
+
+
b
/
config
/
android
/
config
.
gni
-
8
9
+
8
9
#
toolchain
this
GNI
file
may
be
read
and
processed
from
within
Chrome
OS
#
toolchains
.
Checking
|
is_android
|
here
would
therefore
be
too
restrictive
.
if
(
is_android
|
|
is_chromeos
)
{
-
import
(
"
/
/
build
/
config
/
android
/
channel
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
channel
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
import
(
"
abi
.
gni
"
)
-
18
7
+
18
7
if
(
is_android
|
|
is_chromeos
)
{
#
Some
non
-
chromium
projects
(
e
.
g
.
WebRTC
)
use
our
build
configs
#
heavily
but
don
'
t
write
gclient
args
files
.
-
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
if
(
defined
(
checkout_android_native_support
)
)
{
n
=
"
0x0A
"
#
Newline
assert
(
checkout_android_native_support
-
86
7
+
86
7
if
(
is_android
|
|
is_chromeos
)
{
if
(
enable_chrome_android_internal
)
{
import
(
"
/
/
clank
/
config
.
gni
"
)
}
else
{
-
import
(
"
/
/
build
/
config
/
android
/
sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
sdk
.
gni
"
)
declare_args
(
)
{
#
Which
Android
SDK
to
use
.
android_sdk_release
=
default_android_sdk_release
-
140
7
+
140
7
if
(
is_android
|
|
is_chromeos
)
{
}
if
(
!
defined
(
default_android_keystore_path
)
)
{
-
default_android_keystore_path
=
"
/
/
build
/
android
/
chromium
-
debug
.
keystore
"
+
default_android_keystore_path
=
"
/
/
chromium
/
build
/
android
/
chromium
-
debug
.
keystore
"
default_android_keystore_name
=
"
chromiumdebugkey
"
default_android_keystore_password
=
"
chromium
"
}
-
351
5
+
351
5
if
(
is_android
|
|
is_chromeos
)
{
android_sdk_tools_bundle_aapt2
=
"
{
android_sdk_tools_bundle_aapt2_dir
}
/
aapt2
"
#
Toolchain
used
to
create
native
libraries
for
robolectric_binary
(
)
targets
.
-
robolectric_toolchain
=
"
/
/
build
/
toolchain
/
android
:
robolectric_
host_cpu
"
+
robolectric_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
android
:
robolectric_
host_cpu
"
}
diff
-
-
git
a
/
config
/
android
/
copy_ex
.
gni
b
/
config
/
android
/
copy_ex
.
gni
index
8e70c3014
.
.
d28224bbf
100644
-
-
-
a
/
config
/
android
/
copy_ex
.
gni
+
+
+
b
/
config
/
android
/
copy_ex
.
gni
-
19
7
+
19
7
#
The
following
variables
have
the
usual
GN
meaning
:
data
deps
inputs
#
outputs
testonly
visibility
.
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
template
(
"
copy_ex
"
)
{
action_with_pydeps
(
target_name
)
{
-
43
7
+
43
7
template
(
"
copy_ex
"
)
{
inputs
=
invoker
.
inputs
}
-
script
=
"
/
/
build
/
android
/
gyp
/
copy_ex
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
copy_ex
.
py
"
args
=
[
"
-
-
dest
"
diff
-
-
git
a
/
config
/
android
/
create_unwind_table
.
gni
b
/
config
/
android
/
create_unwind_table
.
gni
index
92b7427c4
.
.
6fd067fe8
100644
-
-
-
a
/
config
/
android
/
create_unwind_table
.
gni
+
+
+
b
/
config
/
android
/
create_unwind_table
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
unwind_table_asset_v2_filename
=
"
unwind_cfi_32_v2
"
-
25
7
+
25
7
template
(
"
unwind_table_v2
"
)
{
"
"
)
_library_path
=
"
root_out_dir
/
lib
.
unstripped
/
shlib_prefix
_library_name
shlib_extension
"
-
script
=
"
/
/
build
/
android
/
gyp
/
create_unwind_table
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_unwind_table
.
py
"
outputs
=
[
_output_path
]
inputs
=
[
_dump_syms
diff
-
-
git
a
/
config
/
android
/
extract_unwind_tables
.
gni
b
/
config
/
android
/
extract_unwind_tables
.
gni
index
d4daa6a2a
.
.
773f5dc00
100644
-
-
-
a
/
config
/
android
/
extract_unwind_tables
.
gni
+
+
+
b
/
config
/
android
/
extract_unwind_tables
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
unwind_table_asset_v1_filename
=
"
unwind_cfi_32
"
-
24
7
+
24
7
template
(
"
unwind_table_v1
"
)
{
"
"
)
_library_path
=
"
root_out_dir
/
lib
.
unstripped
/
shlib_prefix
_library_name
shlib_extension
"
-
script
=
"
/
/
build
/
android
/
gyp
/
extract_unwind_tables
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
extract_unwind_tables
.
py
"
outputs
=
[
_output_path
]
inputs
=
[
_dump_syms
diff
-
-
git
a
/
config
/
android
/
internal_rules
.
gni
b
/
config
/
android
/
internal_rules
.
gni
index
fb39adb22
.
.
0012b6d16
100644
-
-
-
a
/
config
/
android
/
internal_rules
.
gni
+
+
+
b
/
config
/
android
/
internal_rules
.
gni
-
4
19
+
4
19
#
Do
not
add
any
imports
to
non
-
/
/
build
directories
here
.
#
Some
projects
(
e
.
g
.
V8
)
do
not
have
non
-
build
directories
DEPS
'
ed
in
.
-
import
(
"
/
/
build
/
config
/
android
/
channel
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compute_inputs_for_analyze
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
kythe
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
channel
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compute_inputs_for_analyze
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
kythe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
if
(
current_toolchain
=
=
default_toolchain
)
{
-
import
(
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
}
assert
(
is_android
)
-
160
7
+
160
7
template
(
"
write_build_config
"
)
{
deps
+
=
[
invoker
.
android_manifest_dep
]
}
-
script
=
"
/
/
build
/
android
/
gyp
/
write_build_config
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
write_build_config
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
inputs
=
[
]
outputs
=
[
invoker
.
build_config
]
-
655
11
+
655
11
template
(
"
generate_android_wrapper
"
)
{
generate_wrapper
(
target_name
)
{
forward_variables_from
(
invoker
"
*
"
TESTONLY_AND_VISIBILITY
)
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
generator_script
=
"
/
/
build
/
android
/
gyp
/
generate_android_wrapper
.
py
"
+
generator_script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
generate_android_wrapper
.
py
"
sources
=
[
-
"
/
/
build
/
android
/
gyp
/
util
/
build_utils
.
py
"
-
"
/
/
build
/
gn_helpers
.
py
"
-
"
/
/
build
/
util
/
generate_wrapper
.
py
"
+
"
/
/
chromium
/
build
/
android
/
gyp
/
util
/
build_utils
.
py
"
+
"
/
/
chromium
/
build
/
gn_helpers
.
py
"
+
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
py
"
]
}
}
-
671
7
+
671
7
template
(
"
generate_r_java
"
)
{
inputs
=
[
invoker
.
build_config
]
outputs
=
[
invoker
.
srcjar_path
]
_rebased_build_config
=
rebase_path
(
invoker
.
build_config
root_build_dir
)
-
script
=
"
/
/
build
/
android
/
gyp
/
create_r_java
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_r_java
.
py
"
args
=
[
"
-
-
depfile
"
rebase_path
(
depfile
root_build_dir
)
-
748
7
+
748
7
template
(
"
test_runner_script
"
)
{
if
(
defined
(
invoker
.
android_test_runner_script
)
)
{
_runner_script
=
invoker
.
android_test_runner_script
}
else
{
-
_runner_script
=
"
/
/
build
/
android
/
test_runner
.
py
"
+
_runner_script
=
"
/
/
chromium
/
build
/
android
/
test_runner
.
py
"
}
deps
=
[
]
-
756
11
+
756
11
template
(
"
test_runner_script
"
)
{
deps
=
invoker
.
deps
}
data_deps
=
[
-
"
/
/
build
/
android
:
test_runner_core_py
"
+
"
/
/
chromium
/
build
/
android
:
test_runner_core_py
"
"
/
/
testing
:
test_scripts_shared
"
]
if
(
_test_type
!
=
"
junit
"
)
{
-
data_deps
+
=
[
"
/
/
build
/
android
:
test_runner_device_support
"
]
+
data_deps
+
=
[
"
/
/
chromium
/
build
/
android
:
test_runner_device_support
"
]
}
if
(
defined
(
invoker
.
data_deps
)
)
{
data_deps
+
=
invoker
.
data_deps
-
1014
9
+
1014
9
if
(
enable_java_templates
)
{
#
https
:
/
/
crbug
.
com
/
1098752
Fix
for
bot
OOM
(
https
:
/
/
crbug
.
com
/
1098333
)
.
if
(
defined
(
java_cmd_pool_size
)
)
{
-
pool
=
"
/
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
}
else
{
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
}
#
Lint
requires
generated
sources
and
generated
resources
from
the
build
.
-
1059
7
+
1059
7
if
(
enable_java_templates
)
{
_lint_gen_dir
=
"
target_gen_dir
/
target_name
"
_backported_methods
=
"
/
/
third_party
/
r8
/
backported_methods
.
txt
"
-
script
=
"
/
/
build
/
android
/
gyp
/
lint
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
lint
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
inputs
=
[
_lint_jar_path
-
1141
7
+
1141
7
if
(
enable_java_templates
)
{
}
else
{
_stamp_path
=
"
target_out_dir
/
target_name
/
build
.
lint
.
stamp
"
deps
+
=
[
-
"
/
/
build
/
android
:
prepare_android_lint_cache
"
+
"
/
/
chromium
/
build
/
android
:
prepare_android_lint_cache
"
invoker
.
build_config_dep
]
inputs
+
=
[
invoker
.
build_config
]
-
1175
7
+
1175
7
if
(
enable_java_templates
)
{
template
(
"
proguard
"
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
_script
=
"
/
/
build
/
android
/
gyp
/
proguard
.
py
"
+
_script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
proguard
.
py
"
_deps
=
invoker
.
deps
_inputs
=
[
-
1365
9
+
1365
9
if
(
enable_java_templates
)
{
#
http
:
/
/
crbug
.
com
/
725224
.
Fix
for
bots
running
out
of
memory
.
if
(
defined
(
java_cmd_pool_size
)
)
{
-
pool
=
"
/
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
}
else
{
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
}
}
}
-
1394
7
+
1394
7
if
(
enable_java_templates
)
{
_max_heap_size
=
"
1G
"
}
-
script
=
"
/
/
build
/
android
/
gyp
/
create_java_binary_script
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_java_binary_script
.
py
"
inputs
=
[
_build_config
]
_java_script
=
"
root_build_dir
/
bin
/
_script_name
"
outputs
=
[
_java_script
]
-
1484
7
+
1484
7
if
(
enable_java_templates
)
{
}
if
(
_enable_main_dex_list
)
{
-
_main_dex_rules
=
"
/
/
build
/
android
/
main_dex_classes
.
flags
"
+
_main_dex_rules
=
"
/
/
chromium
/
build
/
android
/
main_dex_classes
.
flags
"
}
if
(
_desugar_needs_classpath
|
|
_proguard_enabled
)
{
-
1588
7
+
1588
7
if
(
enable_java_templates
)
{
"
data
"
"
data_deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
dex
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
dex
.
py
"
deps
=
_deps
depfile
=
"
target_gen_dir
/
target_name
.
d
"
outputs
=
[
invoker
.
output
]
-
1603
9
+
1603
9
if
(
enable_java_templates
)
{
if
(
!
_is_library
)
{
#
http
:
/
/
crbug
.
com
/
725224
.
Fix
for
bots
running
out
of
memory
.
if
(
defined
(
java_cmd_pool_size
)
)
{
-
pool
=
"
/
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
}
else
{
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
}
}
-
1746
7
+
1746
7
if
(
enable_java_templates
)
{
_sources_json_file
=
"
target_out_dir
/
{
target_name
}
__jacoco_sources
.
json
"
_jacococli_jar
=
"
/
/
third_party
/
jacoco
/
lib
/
jacococli
.
jar
"
-
script
=
"
/
/
build
/
android
/
gyp
/
jacoco_instr
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
jacoco_instr
.
py
"
inputs
=
invoker
.
source_files
+
[
_jacococli_jar
invoker
.
input_jar_path
-
1778
7
+
1778
7
if
(
enable_java_templates
)
{
template
(
"
filter_jar
"
)
{
action_with_pydeps
(
target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
filter_zip
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
filter_zip
.
py
"
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
-
1861
7
+
1861
7
if
(
enable_java_templates
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
data_deps
"
]
)
_bytecode_checker_script
=
"
root_build_dir
/
bin
/
helper
/
bytecode_processor
"
-
script
=
"
/
/
build
/
android
/
gyp
/
bytecode_processor
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
bytecode_processor
.
py
"
inputs
=
[
invoker
.
build_config
invoker
.
input_jar
-
1870
7
+
1870
7
if
(
enable_java_templates
)
{
outputs
=
[
"
target_out_dir
/
target_name
.
bytecode
.
stamp
"
]
deps
=
invoker
.
deps
+
-
[
"
/
/
build
/
android
/
bytecode
:
bytecode_processor
(
default_toolchain
)
"
]
+
[
"
/
/
chromium
/
build
/
android
/
bytecode
:
bytecode_processor
(
default_toolchain
)
"
]
_rebased_build_config
=
rebase_path
(
invoker
.
build_config
root_build_dir
)
args
=
[
"
-
-
target
-
name
"
-
1909
7
+
1909
7
if
(
enable_java_templates
)
{
template
(
"
merge_manifests
"
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
merge_manifest
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
merge_manifest
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
inputs
=
[
-
1989
7
+
1989
7
if
(
enable_java_templates
)
{
"
public_deps
"
"
sources
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
prepare_resources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
prepare_resources
.
py
"
depfile
=
"
target_gen_dir
/
{
invoker
.
target_name
}
.
d
"
outputs
=
[
-
2145
7
+
2145
7
if
(
enable_java_templates
)
{
}
_final_srcjar_path
=
"
{
target_gen_dir
}
/
{
target_name
}
.
srcjar
"
-
_script
=
"
/
/
build
/
android
/
gyp
/
compile_resources
.
py
"
+
_script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_resources
.
py
"
_inputs
=
[
invoker
.
build_config
-
2471
7
+
2471
7
if
(
enable_java_templates
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
optimize_resources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
optimize_resources
.
py
"
outputs
=
[
invoker
.
optimized_proto_output
]
inputs
=
[
android_sdk_tools_bundle_aapt2
-
2519
7
+
2519
7
if
(
enable_java_templates
)
{
template
(
"
unused_resources
"
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
unused_resources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
unused_resources
.
py
"
depfile
=
"
target_gen_dir
/
{
target_name
}
.
d
"
_unused_resources_script
=
"
root_build_dir
/
bin
/
helper
/
unused_resources
"
inputs
=
[
_unused_resources_script
]
-
2530
7
+
2530
7
if
(
enable_java_templates
)
{
if
(
!
defined
(
deps
)
)
{
deps
=
[
]
}
-
deps
+
=
[
"
/
/
build
/
android
/
unused_resources
:
unused_resources
"
]
+
deps
+
=
[
"
/
/
chromium
/
build
/
android
/
unused_resources
:
unused_resources
"
]
_rebased_module_build_config
=
rebase_path
(
invoker
.
build_config
root_build_dir
)
args
=
[
-
2576
7
+
2576
7
if
(
enable_java_templates
)
{
template
(
"
create_size_info_files
"
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
create_size_info_files
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_size_info_files
.
py
"
_jar_info_path
=
"
root_build_dir
/
size
-
info
/
{
invoker
.
name
}
.
jar
.
info
"
_pak_info_path
=
"
root_build_dir
/
size
-
info
/
{
invoker
.
name
}
.
pak
.
info
"
_res_info_path
=
"
root_build_dir
/
size
-
info
/
{
invoker
.
name
}
.
res
.
info
"
-
2672
7
+
2672
7
if
(
enable_java_templates
)
{
invoker
.
secondary_native_lib_placeholders
}
-
_script
=
"
/
/
build
/
android
/
gyp
/
apkbuilder
.
py
"
+
_script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
apkbuilder
.
py
"
_inputs
=
[
invoker
.
packaged_resources_path
]
-
2929
9
+
2929
9
if
(
enable_java_templates
)
{
action_with_pydeps
(
target_name
)
{
if
(
invoker
.
use_turbine
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
turbine
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
turbine
.
py
"
}
else
{
-
script
=
"
/
/
build
/
android
/
gyp
/
compile_java
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_java
.
py
"
}
if
(
target_name
=
=
"
chrome_java__header
"
)
{
-
3027
7
+
3027
7
if
(
enable_java_templates
)
{
args
+
=
[
"
-
-
gomacc
-
path
=
goma_dir
/
gomacc
"
]
#
Override
the
default
action_pool
when
goma
is
enabled
.
-
pool
=
"
/
/
build
/
config
/
android
:
goma_javac_pool
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
goma_javac_pool
"
}
#
Flag
enable_kythe_annotations
requires
-
3117
7
+
3117
7
if
(
enable_java_templates
)
{
}
action_with_pydeps
(
target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
compile_kt
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_kt
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
deps
=
_srcjar_deps
if
(
defined
(
invoker
.
deps
)
)
{
-
3162
7
+
3162
7
if
(
enable_java_templates
)
{
args
+
=
[
"
-
-
gomacc
-
path
=
goma_dir
/
gomacc
"
]
#
Override
the
default
action_pool
when
goma
is
enabled
.
-
pool
=
"
/
/
build
/
config
/
android
:
goma_javac_pool
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
goma_javac_pool
"
}
if
(
_chromium_code
)
{
-
3192
7
+
3192
7
if
(
enable_java_templates
)
{
"
data_deps
"
"
public_deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
ijar
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
ijar
.
py
"
deps
=
[
_ijar_target
]
if
(
defined
(
invoker
.
deps
)
)
{
deps
+
=
invoker
.
deps
-
3895
7
+
3895
7
if
(
enable_java_templates
)
{
get_label_info
(
invoker
.
bytecode_rewriter_target
"
name
"
)
_rebased_build_config
=
rebase_path
(
_build_config
root_build_dir
)
action_with_pydeps
(
_rewritten_jar_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
bytecode_rewriter
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
bytecode_rewriter
.
py
"
inputs
=
[
_rewriter_path
_build_config
-
4236
7
+
4236
7
template
(
"
create_android_app_bundle_module
"
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
_deps
=
invoker
.
deps
-
_script
=
"
/
/
build
/
android
/
gyp
/
apkbuilder
.
py
"
+
_script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
apkbuilder
.
py
"
#
NOTE
:
Compared
to
the
inputs
of
the
"
package_apk
"
template
action
#
this
list
is
much
smaller
since
finalize_apk
is
never
called
-
4378
7
+
4378
7
template
(
"
create_android_app_bundle_module
"
)
{
#
output
:
Path
to
native
libraries
config
.
template
(
"
allot_native_libraries
"
)
{
action_with_pydeps
(
target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
allot_native_libraries
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
allot_native_libraries
.
py
"
args
=
[
"
-
-
output
"
rebase_path
(
invoker
.
output
root_build_dir
)
diff
-
-
git
a
/
config
/
android
/
linker_version_script
.
gni
b
/
config
/
android
/
linker_version_script
.
gni
index
7dab72227
.
.
b978a1b1e
100644
-
-
-
a
/
config
/
android
/
linker_version_script
.
gni
+
+
+
b
/
config
/
android
/
linker_version_script
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
#
Generate
a
custom
linker
version
script
that
can
later
be
used
with
#
"
-
Wl
-
-
version
-
script
=
<
path
>
"
ldflags
.
-
18
7
+
18
7
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
template
(
"
generate_linker_version_script
"
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
script
=
"
/
/
build
/
android
/
gyp
/
generate_linker_version_script
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
generate_linker_version_script
.
py
"
outputs
=
[
invoker
.
linker_script
]
inputs
=
[
]
args
=
[
"
-
-
output
=
"
+
rebase_path
(
invoker
.
linker_script
root_build_dir
)
]
diff
-
-
git
a
/
config
/
android
/
rules
.
gni
b
/
config
/
android
/
rules
.
gni
index
70b8b3742
.
.
7ffdc2f56
100644
-
-
-
a
/
config
/
android
/
rules
.
gni
+
+
+
b
/
config
/
android
/
rules
.
gni
-
4
16
+
4
16
#
Do
not
add
any
imports
to
non
-
/
/
build
directories
here
.
#
Some
projects
(
e
.
g
.
V8
)
do
not
have
non
-
build
directories
DEPS
'
ed
in
.
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
copy_ex
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rts
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
zip
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
copy_ex
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rts
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
zip
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
assert
(
is_android
|
|
is_robolectric
)
declare_args
(
)
{
-
133
7
+
133
7
template
(
"
create_native_executable_dist
"
)
{
if
(
enable_java_templates
)
{
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
internal_rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
internal_rules
.
gni
"
)
}
#
JNI
target
implementation
.
See
generate_jni
or
generate_jar_jni
for
usage
.
-
155
7
+
155
7
if
(
enable_java_templates
)
{
#
cycle
though
.
"
/
/
base
:
debugging_buildflags
"
"
/
/
base
:
logging_buildflags
"
-
"
/
/
build
:
chromeos_buildflags
"
+
"
/
/
chromium
/
build
:
chromeos_buildflags
"
]
}
-
276
9
+
276
9
if
(
enable_java_templates
)
{
public_deps
=
[
]
public_deps
=
[
"
:
target_name
(
default_toolchain
)
"
]
public_configs
=
-
[
"
/
/
build
/
config
/
android
:
jni_include_dir
(
default_toolchain
)
"
]
+
[
"
/
/
chromium
/
build
/
config
/
android
:
jni_include_dir
(
default_toolchain
)
"
]
}
else
{
-
public_configs
=
[
"
/
/
build
/
config
/
android
:
jni_include_dir
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
config
/
android
:
jni_include_dir
"
]
if
(
defined
(
visibility
)
)
{
#
Allow
dependency
on
ourselves
from
secondary
toolchain
.
visibility
+
=
[
"
:
target_name
"
]
-
474
7
+
474
7
if
(
enable_java_templates
&
&
is_android
)
{
]
#
This
gives
targets
depending
on
this
registration
access
to
our
generated
header
.
-
public_configs
=
[
"
/
/
build
/
config
/
android
:
jni_include_dir
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
config
/
android
:
jni_include_dir
"
]
}
if
(
defined
(
invoker
.
file_exclusions
)
)
{
-
532
7
+
532
7
if
(
enable_java_templates
&
&
is_android
)
{
"
testonly
"
"
visibility
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
gcc_preprocess
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
gcc_preprocess
.
py
"
outputs
=
[
"
target_gen_dir
/
target_name
.
srcjar
"
]
_include_dirs
=
[
-
582
7
+
582
7
if
(
enable_java_templates
&
&
is_android
)
{
#
The
sources
aren
'
t
compiled
so
don
'
t
check
their
dependencies
.
check_includes
=
false
-
script
=
"
/
/
build
/
android
/
gyp
/
java_cpp_enum
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
java_cpp_enum
.
py
"
_srcjar_path
=
"
{
target_gen_dir
}
/
{
target_name
}
.
srcjar
"
_rebased_srcjar_path
=
rebase_path
(
_srcjar_path
root_build_dir
)
-
646
7
+
646
7
if
(
enable_java_templates
&
&
is_android
)
{
#
The
sources
aren
'
t
compiled
so
don
'
t
check
their
dependencies
.
check_includes
=
false
-
script
=
"
/
/
build
/
android
/
gyp
/
java_cpp_strings
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
java_cpp_strings
.
py
"
_srcjar_path
=
"
{
target_gen_dir
}
/
{
target_name
}
.
srcjar
"
_rebased_srcjar_path
=
rebase_path
(
_srcjar_path
root_build_dir
)
-
719
7
+
719
7
if
(
enable_java_templates
&
&
is_android
)
{
#
The
sources
aren
'
t
compiled
so
don
'
t
check
their
dependencies
.
check_includes
=
false
-
script
=
"
/
/
build
/
android
/
gyp
/
java_cpp_features
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
java_cpp_features
.
py
"
_srcjar_path
=
"
{
target_gen_dir
}
/
{
target_name
}
.
srcjar
"
_rebased_srcjar_path
=
rebase_path
(
_srcjar_path
root_build_dir
)
-
758
7
+
758
7
if
(
enable_java_templates
&
&
is_android
)
{
if
(
defined
(
invoker
.
includes
)
)
{
inputs
+
=
invoker
.
includes
}
-
script
=
"
/
/
build
/
android
/
gyp
/
jinja_template
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
jinja_template
.
py
"
outputs
=
[
invoker
.
output
]
-
809
7
+
809
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
write_native_libraries_java
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
write_native_libraries_java
.
py
"
outputs
=
[
_native_libraries_file
]
args
=
[
"
-
-
output
"
-
869
7
+
869
7
if
(
enable_java_templates
&
&
is_android
)
{
#
#
action
(
"
my_resources__create_zip
"
)
{
#
_depfile
=
"
target_gen_dir
/
{
target_name
}
.
d
"
-
#
script
=
"
/
/
build
/
path
/
to
/
create_my_resources_zip
.
py
"
+
#
script
=
"
/
/
chromium
/
build
/
path
/
to
/
create_my_resources_zip
.
py
"
#
args
=
[
#
"
-
-
depfile
"
rebase_path
(
_depfile
root_build_dir
)
#
"
-
-
output
-
zip
"
rebase_path
(
_zip_archive
root_build_dir
)
-
907
7
+
907
7
if
(
enable_java_templates
&
&
is_android
)
{
]
inputs
=
[
invoker
.
generated_resources_zip
]
outputs
=
[
_rtxt_out_path
]
-
script
=
"
/
/
build
/
android
/
gyp
/
create_r_txt
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_r_txt
.
py
"
args
=
[
"
-
-
resources
-
zip
-
path
"
rebase_path
(
invoker
.
generated_resources_zip
root_build_dir
)
-
945
7
+
945
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
_generating_target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
inputs
=
invoker
.
resources
-
script
=
"
/
/
build
/
android
/
gyp
/
jinja_template
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
jinja_template
.
py
"
outputs
=
[
_resources_zip
]
-
999
7
+
999
7
if
(
enable_java_templates
&
&
is_android
)
{
"
deps
"
"
testonly
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
process_native_prebuilt
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
process_native_prebuilt
.
py
"
_lib_path
=
"
{
invoker
.
base_dir
}
/
android_app_abi
/
{
invoker
.
lib_name
}
"
_stripped_output_path
=
"
root_out_dir
/
{
invoker
.
lib_name
}
"
_unstripped_output_path
=
-
1296
7
+
1296
7
if
(
enable_java_templates
&
&
is_android
)
{
forward_variables_from
(
invoker
[
"
deps
"
]
)
public_deps
=
[
"
:
_build_config_target_name
"
]
-
script
=
"
/
/
build
/
android
/
gyp
/
validate_inputs
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
validate_inputs
.
py
"
inputs
=
_all_sources
outputs
=
[
"
target_gen_dir
/
target_name
.
stamp
"
]
args
=
[
-
1501
7
+
1501
7
if
(
enable_java_templates
&
&
is_android
)
{
if
(
defined
(
invoker
.
android_manifest
)
)
{
input_manifest
=
invoker
.
android_manifest
}
else
{
-
input_manifest
=
"
/
/
build
/
android
/
AndroidManifest
.
xml
"
+
input_manifest
=
"
/
/
chromium
/
build
/
android
/
AndroidManifest
.
xml
"
}
if
(
defined
(
_package_name
)
)
{
-
1623
7
+
1623
7
if
(
enable_java_templates
&
&
is_android
)
{
}
srcjar_deps
+
=
[
"
:
_compile_resources_target_name
"
-
"
/
/
build
/
android
:
build_config_for_testing_gen
"
+
"
/
/
chromium
/
build
/
android
:
build_config_for_testing_gen
"
]
if
(
_generate_final_jni
)
{
srcjar_deps
+
=
[
-
1820
7
+
1820
7
if
(
enable_java_templates
&
&
is_android
)
{
_rebased_build_config
=
rebase_path
(
_build_config
root_build_dir
)
action_with_pydeps
(
_jar_target_name
)
{
forward_variables_from
(
invoker
[
"
data
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
zip
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
zip
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
deps
=
[
_build_config_dep
]
-
2039
7
+
2039
7
if
(
enable_java_templates
&
&
is_android
)
{
]
)
depfile
=
"
target_gen_dir
/
target_name
.
d
"
deps
=
_deps
-
script
=
"
/
/
build
/
android
/
gyp
/
dist_aar
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
dist_aar
.
py
"
inputs
=
[
_build_config
]
-
2252
7
+
2252
7
if
(
enable_java_templates
&
&
is_android
)
{
template
(
"
generate_build_config_srcjar
"
)
{
java_cpp_template
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
sources
=
[
"
/
/
build
/
android
/
java
/
templates
/
BuildConfig
.
template
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
android
/
java
/
templates
/
BuildConfig
.
template
"
]
defines
=
[
]
#
Set
these
even
when
!
use_final_fields
so
that
they
have
correct
default
-
2325
7
+
2325
7
if
(
enable_java_templates
&
&
is_android
)
{
defines
+
=
[
"
USE_FINAL
"
]
}
-
sources
=
[
"
/
/
build
/
android
/
java
/
templates
/
ProductConfig
.
template
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
android
/
java
/
templates
/
ProductConfig
.
template
"
]
defines
+
=
[
"
PACKAGE
=
{
invoker
.
java_package
}
"
]
_use_chromium_linker
=
-
2713
7
+
2713
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
_incremental_manifest_target_name
)
{
deps
=
[
"
:
_merge_manifest_target
"
]
script
=
-
"
/
/
build
/
android
/
incremental_install
/
generate_android_manifest
.
py
"
+
"
/
/
chromium
/
build
/
android
/
incremental_install
/
generate_android_manifest
.
py
"
inputs
=
[
_android_manifest
]
outputs
=
[
_incremental_android_manifest
]
-
3122
7
+
3122
7
if
(
enable_java_templates
&
&
is_android
)
{
(
!
defined
(
testonly
)
|
|
!
testonly
)
&
&
#
Injected
JaCoCo
code
causes
-
checkdiscards
to
fail
.
!
use_jacoco_coverage
)
{
-
proguard_configs
+
=
[
"
/
/
build
/
android
/
dcheck_is_off
.
flags
"
]
+
proguard_configs
+
=
[
"
/
/
chromium
/
build
/
android
/
dcheck_is_off
.
flags
"
]
}
if
(
!
_is_bundle_module
)
{
proguard_mapping_path
=
_proguard_mapping_path
-
3293
7
+
3293
7
if
(
enable_java_templates
&
&
is_android
)
{
deps
=
_invoker_deps
+
[
"
:
_build_config_target
"
]
if
(
_incremental_apk
)
{
-
_dex_target
=
"
/
/
build
/
android
/
incremental_install
:
apk_dex
"
+
_dex_target
=
"
/
/
chromium
/
build
/
android
/
incremental_install
:
apk_dex
"
deps
+
=
[
"
:
_compile_resources_target
"
-
3338
7
+
3338
7
if
(
enable_java_templates
&
&
is_android
)
{
if
(
_incremental_apk
)
{
_write_installer_json_rule_name
=
"
{
_template_name
}
__incremental_json
"
action_with_pydeps
(
_write_installer_json_rule_name
)
{
-
script
=
"
/
/
build
/
android
/
incremental_install
/
write_installer_json
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
incremental_install
/
write_installer_json
.
py
"
deps
=
[
"
:
_build_config_target
"
]
+
_all_native_libs_deps
data
=
[
_incremental_install_json_path
]
-
3388
7
+
3388
7
if
(
enable_java_templates
&
&
is_android
)
{
_apk_operations_target_name
=
"
{
target_name
}
__apk_operations
"
action_with_pydeps
(
_apk_operations_target_name
)
{
_generated_script
=
"
root_build_dir
/
bin
/
{
invoker
.
target_name
}
"
-
script
=
"
/
/
build
/
android
/
gyp
/
create_apk_operations_script
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_apk_operations_script
.
py
"
outputs
=
[
_generated_script
]
args
=
[
"
-
-
script
-
output
-
path
"
-
3425
13
+
3425
13
if
(
enable_java_templates
&
&
is_android
)
{
}
data
=
[
]
data_deps
=
[
-
"
/
/
build
/
android
:
apk_operations_py
"
-
"
/
/
build
/
android
:
stack_tools
"
+
"
/
/
chromium
/
build
/
android
:
apk_operations_py
"
+
"
/
/
chromium
/
build
/
android
:
stack_tools
"
]
if
(
_proguard_enabled
&
&
!
_incremental_apk
)
{
#
Required
by
logcat
command
.
-
data_deps
+
=
[
"
/
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
+
data_deps
+
=
[
"
/
/
chromium
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
data
+
=
[
"
_final_apk_path
.
mapping
"
]
args
+
=
[
"
-
-
proguard
-
mapping
-
path
"
-
3804
7
+
3804
7
if
(
enable_java_templates
&
&
is_android
)
{
template
(
"
instrumentation_test_runner
"
)
{
if
(
use_rts
)
{
action
(
"
{
invoker
.
target_name
}
__rts_filters
"
)
{
-
script
=
"
/
/
build
/
add_rts_filters
.
py
"
+
script
=
"
/
/
chromium
/
build
/
add_rts_filters
.
py
"
rts_file
=
"
{
root_build_dir
}
/
gen
/
rts
/
{
invoker
.
target_name
}
.
filter
"
inverted_rts_file
=
"
{
root_build_dir
}
/
gen
/
rts
/
{
invoker
.
target_name
}
_inverted
.
filter
"
-
3831
7
+
3831
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
_apk_operations_target_name
)
{
testonly
=
true
-
script
=
"
/
/
build
/
android
/
gyp
/
create_test_apk_wrapper_script
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_test_apk_wrapper_script
.
py
"
deps
=
[
]
_generated_script
=
"
root_build_dir
/
bin
/
{
invoker
.
target_name
}
"
outputs
=
[
_generated_script
]
-
4163
7
+
4163
7
if
(
enable_java_templates
&
&
is_android
)
{
if
(
!
defined
(
use_default_launcher
)
|
|
use_default_launcher
)
{
deps
+
=
[
-
"
/
/
build
/
android
/
gtest_apk
:
native_test_instrumentation_test_runner_java
"
+
"
/
/
chromium
/
build
/
android
/
gtest_apk
:
native_test_instrumentation_test_runner_java
"
"
/
/
testing
/
android
/
native_test
:
native_test_java
"
]
}
-
4198
7
+
4198
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
script
=
"
/
/
build
/
android
/
gyp
/
aidl
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
aidl
.
py
"
depfile
=
"
target_gen_dir
/
target_name
.
d
"
sources
=
invoker
.
sources
-
4278
7
+
4278
7
if
(
enable_java_templates
&
&
is_android
)
{
#
The
suffix
"
__protoc_java
.
srcjar
"
is
used
by
SuperSize
to
identify
#
protobuf
symbols
.
_srcjar_path
=
"
target_gen_dir
/
target_name
.
srcjar
"
-
script
=
"
/
/
build
/
protoc_java
.
py
"
+
script
=
"
/
/
chromium
/
build
/
protoc_java
.
py
"
if
(
defined
(
invoker
.
deps
)
)
{
#
Need
to
care
only
about
targets
that
might
generate
.
proto
files
.
-
4378
7
+
4378
7
if
(
enable_java_templates
&
&
is_android
)
{
action_with_pydeps
(
"
{
_template_name
}
__flatc_java
"
)
{
_srcjar_path
=
"
target_gen_dir
/
target_name
.
srcjar
"
-
script
=
"
/
/
build
/
android
/
gyp
/
flatc_java
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
flatc_java
.
py
"
deps
=
[
_flatc_dep
]
if
(
defined
(
invoker
.
deps
)
)
{
-
4502
7
+
4502
7
if
(
enable_java_templates
&
&
is_android
)
{
#
Some
libraries
might
not
have
resources
;
others
might
have
two
jars
.
if
(
update_android_aar_prebuilts
)
{
print
(
"
Writing
"
+
rebase_path
(
_info_path
"
/
/
"
)
)
-
exec_script
(
"
/
/
build
/
android
/
gyp
/
aar
.
py
"
+
exec_script
(
"
/
/
chromium
/
build
/
android
/
gyp
/
aar
.
py
"
[
"
list
"
"
-
-
output
"
-
4536
7
+
4536
7
if
(
enable_java_templates
&
&
is_android
)
{
assert
(
_scanned_files
.
has_classes_jar
|
|
_scanned_files
.
subjars
=
=
[
]
)
action_with_pydeps
(
_unpack_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
aar
.
py
"
#
Unzips
the
AAR
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
aar
.
py
"
#
Unzips
the
AAR
args
=
[
"
extract
"
"
-
-
output
-
dir
"
-
5026
12
+
5026
12
if
(
enable_java_templates
&
&
is_android
)
{
if
(
_proguard_enabled
)
{
if
(
_add_view_trace_events
)
{
_trace_event_rewriter_target
=
-
"
/
/
build
/
android
/
bytecode
:
trace_event_adder
"
+
"
/
/
chromium
/
build
/
android
/
bytecode
:
trace_event_adder
"
_rewritten_jar_target_name
=
"
{
target_name
}
__trace_event_rewritten
"
_rewriter_path
=
root_build_dir
+
"
/
bin
/
helper
/
trace_event_adder
"
_stamp
=
"
{
target_out_dir
}
/
{
target_name
}
.
trace_event_rewrite
.
stamp
"
action_with_pydeps
(
_rewritten_jar_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
trace_event_bytecode_rewriter
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
trace_event_bytecode_rewriter
.
py
"
inputs
=
[
_rewriter_path
_build_config
-
5243
7
+
5243
7
if
(
enable_java_templates
&
&
is_android
)
{
_bundle_target_name
=
"
{
_target_name
}
__bundle
"
action_with_pydeps
(
_bundle_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
create_app_bundle
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_app_bundle
.
py
"
inputs
=
_all_module_zip_paths
+
_all_module_build_configs
+
[
_BUNDLETOOL_JAR_PATH
]
outputs
=
[
_bundle_path
]
-
5317
9
+
5317
9
if
(
enable_java_templates
&
&
is_android
)
{
#
http
:
/
/
crbug
.
com
/
725224
.
Fix
for
bots
running
out
of
memory
.
if
(
defined
(
java_cmd_pool_size
)
)
{
-
pool
=
"
/
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
}
else
{
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
}
}
-
5358
7
+
5358
7
if
(
enable_java_templates
&
&
is_android
)
{
_bundle_wrapper_script_path
=
"
_bundle_wrapper_script_dir
/
_target_name
"
action_with_pydeps
(
"
{
_target_name
}
__wrapper_script
"
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
create_bundle_wrapper_script
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_bundle_wrapper_script
.
py
"
inputs
=
[
_base_module_build_config
]
outputs
=
[
_bundle_wrapper_script_path
]
-
5370
8
+
5370
8
if
(
enable_java_templates
&
&
is_android
)
{
_bundle_path
]
data_deps
=
[
-
"
/
/
build
/
android
:
apk_operations_py
"
-
"
/
/
build
/
android
:
stack_tools
"
+
"
/
/
chromium
/
build
/
android
:
apk_operations_py
"
+
"
/
/
chromium
/
build
/
android
:
stack_tools
"
]
deps
=
[
_base_module_build_config_target
]
-
5426
7
+
5426
7
if
(
enable_java_templates
&
&
is_android
)
{
]
#
Required
by
logcat
command
.
-
data_deps
+
=
[
"
/
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
+
data_deps
+
=
[
"
/
/
chromium
/
build
/
android
/
stacktrace
:
java_deobfuscate
"
]
data
+
=
[
_proguard_mapping_path
]
}
}
-
5481
7
+
5481
7
if
(
enable_java_templates
&
&
is_android
)
{
_apks_path
=
"
root_build_dir
/
apks
/
_bundle_name
.
apks
"
action_with_pydeps
(
"
{
_target_name
}
_apks
"
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
create_app_bundle_apks
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_app_bundle_apks
.
py
"
inputs
=
[
_bundle_path
_BUNDLETOOL_JAR_PATH
-
5515
9
+
5515
9
if
(
enable_java_templates
&
&
is_android
)
{
#
http
:
/
/
crbug
.
com
/
725224
.
Fix
for
bots
running
out
of
memory
.
if
(
defined
(
java_cmd_pool_size
)
)
{
-
pool
=
"
/
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
config
/
android
:
java_cmd_pool
(
default_toolchain
)
"
}
else
{
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
}
}
}
-
5539
7
+
5539
7
if
(
enable_java_templates
&
&
is_android
)
{
template
(
"
create_app_bundle_minimal_apks
"
)
{
action_with_pydeps
(
target_name
)
{
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
+
[
"
deps
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
create_app_bundle_apks
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_app_bundle_apks
.
py
"
_dir
=
get_path_info
(
invoker
.
bundle_path
"
dir
"
)
_name
=
get_path_info
(
invoker
.
bundle_path
"
name
"
)
_output_path
=
"
_dir
/
_name
.
minimal
.
apks
"
-
5579
7
+
5579
7
template
(
"
generate_ui_locale_resources
"
)
{
"
{
target_name
}
.
zip
"
action_with_pydeps
(
_generating_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
create_ui_locale_resources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_ui_locale_resources
.
py
"
outputs
=
[
_output_zip
]
args
=
[
"
-
-
locale
-
list
=
{
invoker
.
ui_locales
}
"
diff
-
-
git
a
/
config
/
android
/
system_image
.
gni
b
/
config
/
android
/
system_image
.
gni
index
79f856099
.
.
162e1091c
100644
-
-
-
a
/
config
/
android
/
system_image
.
gni
+
+
+
b
/
config
/
android
/
system_image
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
#
Creates
a
stub
.
apk
suitable
for
use
with
compressed
system
APKs
.
#
-
31
7
+
31
7
template
(
"
system_image_stub_apk
"
)
{
_manifest_path
=
"
target_gen_dir
/
_manifest_target_name
.
xml
"
action
(
"
_manifest_target_name
"
)
{
outputs
=
[
_manifest_path
]
-
script
=
"
/
/
build
/
android
/
gyp
/
create_stub_manifest
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
create_stub_manifest
.
py
"
args
=
[
"
-
-
output
"
rebase_path
(
_manifest_path
root_build_dir
)
-
55
7
+
55
7
template
(
"
system_image_stub_apk
"
)
{
}
action_with_pydeps
(
_resource_apk_target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
compile_resources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
compile_resources
.
py
"
inputs
=
[
_manifest_path
android_sdk_jar
-
140
7
+
140
7
template
(
"
system_image_apks
"
)
{
}
action_with_pydeps
(
target_name
)
{
-
script
=
"
/
/
build
/
android
/
gyp
/
system_image_apks
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
system_image_apks
.
py
"
deps
=
[
invoker
.
apk_or_bundle_target
]
inputs
=
[
invoker
.
input_apk_or_bundle
]
if
(
defined
(
invoker
.
stub_output
)
)
{
-
165
7
+
165
7
template
(
"
system_image_apks
"
)
{
rebase_path
(
_wrapper_path
root_out_dir
)
]
inputs
+
=
[
_wrapper_path
]
-
deps
+
=
[
"
/
/
build
/
android
:
apk_operations_py
"
]
+
deps
+
=
[
"
/
/
chromium
/
build
/
android
:
apk_operations_py
"
]
if
(
defined
(
invoker
.
fuse_apk
)
&
&
invoker
.
fuse_apk
)
{
args
+
=
[
"
-
-
fuse
-
apk
"
]
}
diff
-
-
git
a
/
config
/
android
/
test
/
classpath_order
/
BUILD
.
gn
b
/
config
/
android
/
test
/
classpath_order
/
BUILD
.
gn
index
376d244b1
.
.
35ad24a88
100644
-
-
-
a
/
config
/
android
/
test
/
classpath_order
/
BUILD
.
gn
+
+
+
b
/
config
/
android
/
test
/
classpath_order
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
template
(
"
test_resources
"
)
{
jinja_template_resources
(
target_name
)
{
diff
-
-
git
a
/
config
/
android
/
test
/
proto
/
BUILD
.
gn
b
/
config
/
android
/
test
/
proto
/
BUILD
.
gn
index
1d0f37a33
.
.
96cba4a48
100644
-
-
-
a
/
config
/
android
/
test
/
proto
/
BUILD
.
gn
+
+
+
b
/
config
/
android
/
test
/
proto
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
import
(
"
/
/
third_party
/
protobuf
/
proto_library
.
gni
"
)
#
The
purpose
of
these
targets
is
test
that
|
deps
|
satisfies
java
compilation
diff
-
-
git
a
/
config
/
android
/
test
/
resource_overlay
/
BUILD
.
gn
b
/
config
/
android
/
test
/
resource_overlay
/
BUILD
.
gn
index
0a5812c65
.
.
312680837
100644
-
-
-
a
/
config
/
android
/
test
/
resource_overlay
/
BUILD
.
gn
+
+
+
b
/
config
/
android
/
test
/
resource_overlay
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
)
#
Tests
for
'
resource_overlay
'
parameter
in
android_resources
(
)
template
.
diff
-
-
git
a
/
config
/
apple
/
symbols
.
gni
b
/
config
/
apple
/
symbols
.
gni
index
ef6faf0a2
.
.
3585454ea
100644
-
-
-
a
/
config
/
apple
/
symbols
.
gni
+
+
+
b
/
config
/
apple
/
symbols
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
#
This
file
declares
arguments
and
configs
that
control
whether
dSYM
debug
#
info
is
produced
and
whether
build
products
are
stripped
.
diff
-
-
git
a
/
config
/
arm
.
gni
b
/
config
/
arm
.
gni
index
cc82ed5ba
.
.
ceed953f1
100644
-
-
-
a
/
config
/
arm
.
gni
+
+
+
b
/
config
/
arm
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
v8_target_cpu
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
v8_target_cpu
.
gni
"
)
#
These
are
primarily
relevant
in
current_cpu
=
=
"
arm
"
contexts
where
#
ARM
code
is
being
compiled
.
But
they
can
also
be
relevant
in
the
diff
-
-
git
a
/
config
/
buildflags_paint_preview
.
gni
b
/
config
/
buildflags_paint_preview
.
gni
index
951b6608e
.
.
edd38f5b2
100644
-
-
-
a
/
config
/
buildflags_paint_preview
.
gni
+
+
+
b
/
config
/
buildflags_paint_preview
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
declare_args
(
)
{
#
Enable
basic
paint
preview
support
.
Does
not
work
on
iOS
.
Should
diff
-
-
git
a
/
config
/
c
+
+
/
BUILD
.
gn
b
/
config
/
c
+
+
/
BUILD
.
gn
index
c00dcef4c
.
.
3cfaf10ee
100644
-
-
-
a
/
config
/
c
+
+
/
BUILD
.
gn
+
+
+
b
/
config
/
c
+
+
/
BUILD
.
gn
-
1
8
+
1
8
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
import
(
"
/
/
buildtools
/
deps_revisions
.
gni
"
)
assert
(
use_custom_libcxx
"
should
only
be
used
if
use_custom_libcxx
is
set
"
)
diff
-
-
git
a
/
config
/
c
+
+
/
c
+
+
.
gni
b
/
config
/
c
+
+
/
c
+
+
.
gni
index
25ece4cdb
.
.
1117c13e4
100644
-
-
-
a
/
config
/
c
+
+
/
c
+
+
.
gni
+
+
+
b
/
config
/
c
+
+
/
c
+
+
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
declare_args
(
)
{
diff
-
-
git
a
/
config
/
chromebox_for_meetings
/
BUILD
.
gn
b
/
config
/
chromebox_for_meetings
/
BUILD
.
gn
index
08d74f97d
.
.
db5dd3b6f
100644
-
-
-
a
/
config
/
chromebox_for_meetings
/
BUILD
.
gn
+
+
+
b
/
config
/
chromebox_for_meetings
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromebox_for_meetings
/
buildflags
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromebox_for_meetings
/
buildflags
.
gni
"
)
buildflag_header
(
"
buildflags
"
)
{
header
=
"
buildflags
.
h
"
diff
-
-
git
a
/
config
/
chromecast
/
BUILD
.
gn
b
/
config
/
chromecast
/
BUILD
.
gn
index
acaf990a2
.
.
55a9c50f3
100644
-
-
-
a
/
config
/
chromecast
/
BUILD
.
gn
+
+
+
b
/
config
/
chromecast
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
assert
(
is_castos
|
|
is_cast_android
)
diff
-
-
git
a
/
config
/
chromeos
/
BUILD
.
gn
b
/
config
/
chromeos
/
BUILD
.
gn
index
060607265
.
.
e8135939b
100644
-
-
-
a
/
config
/
chromeos
/
BUILD
.
gn
+
+
+
b
/
config
/
chromeos
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
assert
(
is_chromeos
)
diff
-
-
git
a
/
config
/
chromeos
/
rules
.
gni
b
/
config
/
chromeos
/
rules
.
gni
index
10af886af
.
.
f369a6f76
100644
-
-
-
a
/
config
/
chromeos
/
rules
.
gni
+
+
+
b
/
config
/
chromeos
/
rules
.
gni
-
2
13
+
2
13
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
assert
(
is_chromeos
&
&
is_chromeos_device
)
-
46
7
+
46
7
if
(
cros_sdk_version
!
=
"
"
)
{
foreach
(
b
_potential_test_boards
)
{
_cache_path_prefix
=
-
"
/
/
build
/
cros_cache
/
chrome
-
sdk
/
symlinks
/
{
b
}
+
{
cros_sdk_version
}
"
+
"
/
/
chromium
/
build
/
cros_cache
/
chrome
-
sdk
/
symlinks
/
{
b
}
+
{
cros_sdk_version
}
"
_cros_is_vm
=
false
foreach
(
b1
string_split
(
cros_boards_with_qemu_images
"
:
"
)
)
{
-
84
7
+
84
7
if
(
cros_sdk_version
!
=
"
"
)
{
_all_symlinks
+
=
m
[
1
]
}
_all_symlink_targets
=
-
exec_script
(
"
/
/
build
/
get_symlink_targets
.
py
"
_all_symlinks
"
list
lines
"
)
+
exec_script
(
"
/
/
chromium
/
build
/
get_symlink_targets
.
py
"
_all_symlinks
"
list
lines
"
)
_index
=
0
foreach
(
m
_symlink_map
)
{
_symlink_targets
=
[
]
-
134
7
+
134
7
template
(
"
generate_skylab_deps
"
)
{
"
The
test_exe
and
generated_script
must
both
be
defined
when
"
+
"
generating
the
skylab
runner
script
"
)
action
(
target_name
)
{
-
script
=
"
/
/
build
/
chromeos
/
generate_skylab_deps
.
py
"
+
script
=
"
/
/
chromium
/
build
/
chromeos
/
generate_skylab_deps
.
py
"
outputs
=
[
generated_script
]
args
=
[
"
generate
-
runner
"
-
207
7
+
207
7
template
(
"
generate_skylab_deps
"
)
{
}
}
action
(
target_name
)
{
-
script
=
"
/
/
build
/
chromeos
/
generate_skylab_deps
.
py
"
+
script
=
"
/
/
chromium
/
build
/
chromeos
/
generate_skylab_deps
.
py
"
if
(
defined
(
tast_control
)
)
{
sources
=
[
tast_control
]
}
-
353
7
+
353
7
template
(
"
generate_runner_script
"
)
{
}
generate_wrapper
(
target_name
)
{
-
executable
=
"
/
/
build
/
chromeos
/
test_runner
.
py
"
+
executable
=
"
/
/
chromium
/
build
/
chromeos
/
test_runner
.
py
"
wrapper_script
=
generated_script
executable_args
=
[
]
-
468
15
+
468
15
template
(
"
generate_runner_script
"
)
{
#
We
use
android
test
-
runner
'
s
results
libs
to
construct
gtest
output
#
json
.
-
"
/
/
build
/
android
/
pylib
/
__init__
.
py
"
-
"
/
/
build
/
android
/
pylib
/
base
/
"
-
"
/
/
build
/
android
/
pylib
/
results
/
"
-
"
/
/
build
/
chromeos
/
"
-
"
/
/
build
/
util
/
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
__init__
.
py
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
base
/
"
+
"
/
/
chromium
/
build
/
android
/
pylib
/
results
/
"
+
"
/
/
chromium
/
build
/
chromeos
/
"
+
"
/
/
chromium
/
build
/
util
/
"
#
Needed
for
various
SDK
components
used
below
.
-
"
/
/
build
/
cros_cache
/
chrome
-
sdk
/
misc
/
"
-
"
/
/
build
/
cros_cache
/
chrome
-
sdk
/
symlinks
/
"
+
"
/
/
chromium
/
build
/
cros_cache
/
chrome
-
sdk
/
misc
/
"
+
"
/
/
chromium
/
build
/
cros_cache
/
chrome
-
sdk
/
symlinks
/
"
"
/
/
chrome
/
VERSION
"
#
The
LKGM
file
controls
what
version
of
the
VM
image
to
download
.
Add
it
-
565
7
+
565
7
template
(
"
tast_test
"
)
{
if
(
deploy_lacros_chrome
)
{
data
+
=
[
#
A
script
needed
to
launch
Lacros
in
Lacros
Tast
tests
.
-
"
/
/
build
/
lacros
/
mojo_connection_lacros_launcher
.
py
"
+
"
/
/
chromium
/
build
/
lacros
/
mojo_connection_lacros_launcher
.
py
"
]
}
}
-
597
7
+
597
7
template
(
"
lacros_tast_tests
"
)
{
"
/
/
components
/
crash
/
content
/
tools
/
generate_breakpad_symbols
.
py
"
#
A
script
needed
to
launch
Lacros
in
Lacros
Tast
tests
.
-
"
/
/
build
/
lacros
/
mojo_connection_lacros_launcher
.
py
"
+
"
/
/
chromium
/
build
/
lacros
/
mojo_connection_lacros_launcher
.
py
"
]
if
(
is_skylab
)
{
diff
-
-
git
a
/
config
/
chromeos
/
ui_mode
.
gni
b
/
config
/
chromeos
/
ui_mode
.
gni
index
ce8fa8b4d
.
.
2f68f1865
100644
-
-
-
a
/
config
/
chromeos
/
ui_mode
.
gni
+
+
+
b
/
config
/
chromeos
/
ui_mode
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
declare_args
(
)
{
#
Deprecated
use
is_chromeos_lacros
.
diff
-
-
git
a
/
config
/
clang
/
clang
.
gni
b
/
config
/
clang
/
clang
.
gni
index
7196fcf6c
.
.
5083c65a0
100644
-
-
-
a
/
config
/
clang
/
clang
.
gni
+
+
+
b
/
config
/
clang
/
clang
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
default_clang_base_path
=
"
/
/
third_party
/
llvm
-
build
/
Release
+
Asserts
"
-
12
7
+
12
7
declare_args
(
)
{
#
Chrome
OS
'
s
.
clang_use_chrome_plugins
=
is_clang
&
&
!
is_nacl
&
&
current_os
!
=
"
zos
"
&
&
-
default_toolchain
!
=
"
/
/
build
/
toolchain
/
cros
:
target
"
+
default_toolchain
!
=
"
/
/
chromium
/
build
/
toolchain
/
cros
:
target
"
clang_base_path
=
default_clang_base_path
}
diff
-
-
git
a
/
config
/
compiler
/
BUILD
.
gn
b
/
config
/
compiler
/
BUILD
.
gn
index
77fdcb8ba
.
.
f497086b8
100644
-
-
-
a
/
config
/
compiler
/
BUILD
.
gn
+
+
+
b
/
config
/
compiler
/
BUILD
.
gn
-
2
45
+
2
45
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
-
#
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
host_byteorder
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
#
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
host_byteorder
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
if
(
current_cpu
=
=
"
arm
"
|
|
current_cpu
=
=
"
arm64
"
)
{
-
import
(
"
/
/
build
/
config
/
arm
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
arm
.
gni
"
)
}
if
(
current_cpu
=
=
"
mipsel
"
|
|
current_cpu
=
=
"
mips64el
"
|
|
current_cpu
=
=
"
mips
"
|
|
current_cpu
=
=
"
mips64
"
)
{
-
import
(
"
/
/
build
/
config
/
mips
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mips
.
gni
"
)
}
if
(
is_mac
)
{
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
}
if
(
is_ios
)
{
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
}
if
(
is_nacl
)
{
#
To
keep
NaCl
variables
out
of
builds
that
don
'
t
include
NaCl
all
#
variables
defined
in
nacl
/
config
.
gni
referenced
here
should
be
protected
by
#
is_nacl
conditions
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
}
lld_path
=
"
"
-
268
23
+
268
23
config
(
"
compiler
"
)
{
#
categories
here
add
it
to
the
associated
file
to
keep
this
shared
config
#
smaller
.
if
(
is_win
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
win
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
win
:
compiler
"
]
}
else
if
(
is_android
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
android
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
android
:
compiler
"
]
}
else
if
(
is_linux
|
|
is_chromeos
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
linux
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
linux
:
compiler
"
]
}
else
if
(
is_nacl
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
nacl
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
nacl
:
compiler
"
]
}
else
if
(
is_mac
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
mac
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
mac
:
compiler
"
]
}
else
if
(
is_ios
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
ios
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
compiler
"
]
}
else
if
(
is_fuchsia
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
fuchsia
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
fuchsia
:
compiler
"
]
}
else
if
(
current_os
=
=
"
aix
"
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
aix
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
aix
:
compiler
"
]
}
else
if
(
current_os
=
=
"
zos
"
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
zos
:
compiler
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
zos
:
compiler
"
]
}
configs
+
=
[
-
950
8
+
950
8
config
(
"
thinlto_optimize_default
"
)
{
#
Use
this
to
enable
optimization
in
the
ThinLTO
link
step
for
select
targets
#
when
thin_lto_enable_optimizations
is
set
by
doing
:
#
-
#
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
]
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
]
+
#
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_default
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
thinlto_optimize_max
"
]
#
#
Since
it
makes
linking
significantly
slower
and
more
resource
intensive
only
#
use
it
on
important
targets
such
as
the
main
browser
executable
or
dll
.
-
985
7
+
985
7
config
(
"
compiler_cpu_abi
"
)
{
configs
=
[
]
if
(
is_chromeos
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
chromeos
:
compiler_cpu_abi
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
chromeos
:
compiler_cpu_abi
"
]
}
#
TODO
(
https
:
/
/
crbug
.
com
/
1383873
)
:
Remove
this
once
figured
out
.
-
1306
7
+
1306
7
config
(
"
compiler_codegen
"
)
{
ldflags
=
[
]
if
(
is_nacl
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
nacl
:
compiler_codegen
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
nacl
:
compiler_codegen
"
]
}
if
(
current_cpu
=
=
"
arm64
"
&
&
!
is_win
&
&
is_clang
)
{
-
1490
31
+
1490
31
config
(
"
runtime_library
"
)
{
#
libandroid_support
in
the
-
isystem
include
order
.
Otherwise
there
will
be
#
build
errors
related
to
symbols
declared
in
math
.
h
.
if
(
use_custom_libcxx
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
c
+
+
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
c
+
+
:
runtime_library
"
]
}
#
TODO
(
crbug
.
com
/
830987
)
:
Come
up
with
a
better
name
for
is
POSIX
+
Fuchsia
#
configuration
.
if
(
is_posix
|
|
is_fuchsia
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
posix
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
posix
:
runtime_library
"
]
}
#
System
-
specific
flags
.
If
your
compiler
flags
apply
to
one
of
the
#
categories
here
add
it
to
the
associated
file
to
keep
this
shared
config
#
smaller
.
if
(
is_win
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
win
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
win
:
runtime_library
"
]
}
else
if
(
is_linux
|
|
is_chromeos
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
linux
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
linux
:
runtime_library
"
]
if
(
is_chromeos
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
chromeos
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
chromeos
:
runtime_library
"
]
}
}
else
if
(
is_ios
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
ios
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
runtime_library
"
]
}
else
if
(
is_mac
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
mac
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
mac
:
runtime_library
"
]
}
else
if
(
is_android
)
{
-
configs
+
=
[
"
/
/
build
/
config
/
android
:
runtime_library
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
android
:
runtime_library
"
]
}
if
(
is_component_build
)
{
-
1690
7
+
1690
7
config
(
"
default_warnings
"
)
{
#
See
also
:
https
:
/
/
docs
.
google
.
com
/
document
/
d
/
1CTbQ
-
5cQjnjU8aCOtLiA7G6P0i5C6HpSDNlSNq6nl5E
#
#
To
enable
in
a
GN
target
use
:
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
prevent_unsafe_narrowing
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
prevent_unsafe_narrowing
"
]
config
(
"
prevent_unsafe_narrowing
"
)
{
if
(
is_clang
)
{
-
2009
8
+
2009
8
config
(
"
no_incompatible_pointer_warnings
"
)
{
#
You
can
override
the
optimization
level
on
a
per
-
target
basis
by
removing
the
#
default
config
and
then
adding
the
named
one
you
want
:
#
-
#
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
default_optimization
"
]
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
optimize_max
"
]
+
#
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
default_optimization
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
optimize_max
"
]
#
Shared
settings
for
both
"
optimize
"
and
"
optimize_max
"
configs
.
#
IMPORTANT
:
On
Windows
"
/
O1
"
and
"
/
O2
"
must
go
before
the
common
flags
.
-
2223
12
+
2223
12
config
(
"
optimize_max
"
)
{
#
The
NaCl
IRT
is
a
special
case
and
always
wants
its
own
config
.
#
Various
components
do
:
#
if
(
!
is_debug
)
{
-
#
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
default_optimization
"
]
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
optimize_max
"
]
+
#
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
default_optimization
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
optimize_max
"
]
#
}
#
So
this
config
has
to
have
the
selection
logic
just
like
#
"
default_optimization
"
below
.
-
configs
=
[
"
/
/
build
/
config
/
nacl
:
irt_optimize
"
]
+
configs
=
[
"
/
/
chromium
/
build
/
config
/
nacl
:
irt_optimize
"
]
}
else
{
ldflags
=
common_optimize_on_ldflags
if
(
is_win
)
{
-
2256
12
+
2256
12
config
(
"
optimize_speed
"
)
{
#
The
NaCl
IRT
is
a
special
case
and
always
wants
its
own
config
.
#
Various
components
do
:
#
if
(
!
is_debug
)
{
-
#
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
default_optimization
"
]
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
optimize_max
"
]
+
#
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
default_optimization
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
optimize_max
"
]
#
}
#
So
this
config
has
to
have
the
selection
logic
just
like
#
"
default_optimization
"
below
.
-
configs
=
[
"
/
/
build
/
config
/
nacl
:
irt_optimize
"
]
+
configs
=
[
"
/
/
chromium
/
build
/
config
/
nacl
:
irt_optimize
"
]
}
else
{
ldflags
=
common_optimize_on_ldflags
if
(
is_win
)
{
-
2290
7
+
2290
7
config
(
"
default_optimization
"
)
{
if
(
is_nacl
&
&
is_nacl_irt
)
{
#
The
NaCl
IRT
is
a
special
case
and
always
wants
its
own
config
.
#
It
gets
optimized
the
same
way
regardless
of
the
type
of
build
.
-
configs
=
[
"
/
/
build
/
config
/
nacl
:
irt_optimize
"
]
+
configs
=
[
"
/
/
chromium
/
build
/
config
/
nacl
:
irt_optimize
"
]
}
else
if
(
is_debug
)
{
configs
=
[
"
:
no_optimize
"
]
}
else
if
(
optimize_for_fuzzing
)
{
-
2378
8
+
2378
8
config
(
"
afdo
"
)
{
#
You
can
override
the
symbol
level
on
a
per
-
target
basis
by
removing
the
#
default
config
and
then
adding
the
named
one
you
want
:
#
-
#
configs
-
=
[
"
/
/
build
/
config
/
compiler
:
default_symbols
"
]
-
#
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
symbols
"
]
+
#
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
default_symbols
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
symbols
"
]
#
A
helper
config
that
all
configs
passing
/
DEBUG
to
the
linker
should
#
include
as
sub
-
config
.
-
2516
7
+
2516
7
config
(
"
symbols
"
)
{
#
https
:
/
/
b
/
243982712
.
if
(
symbol_level
=
=
2
&
&
is_chromeos_device
&
&
!
use_debug_fission
&
&
!
is_nacl
&
&
current_cpu
=
=
"
arm
"
)
{
-
configs
+
=
[
"
/
/
build
/
config
:
compress_debug_sections
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
:
compress_debug_sections
"
]
}
if
(
is_clang
&
&
(
!
is_nacl
|
|
is_nacl_saigo
)
&
&
current_os
!
=
"
zos
"
)
{
diff
-
-
git
a
/
config
/
compiler
/
compiler
.
gni
b
/
config
/
compiler
/
compiler
.
gni
index
4738ee80d
.
.
e728e8441
100644
-
-
-
a
/
config
/
compiler
/
compiler
.
gni
+
+
+
b
/
config
/
compiler
/
compiler
.
gni
-
2
32
+
2
32
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
cronet
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
cronet
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
abi
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
abi
.
gni
"
)
}
if
(
current_cpu
=
=
"
arm
"
|
|
current_cpu
=
=
"
arm64
"
)
{
-
import
(
"
/
/
build
/
config
/
arm
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
arm
.
gni
"
)
}
if
(
is_apple
)
{
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
}
if
(
is_ios
)
{
-
import
(
"
/
/
build
/
config
/
ios
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
config
.
gni
"
)
}
declare_args
(
)
{
diff
-
-
git
a
/
config
/
compiler
/
pgo
/
BUILD
.
gn
b
/
config
/
compiler
/
pgo
/
BUILD
.
gn
index
900ae0623
.
.
26b48aba8
100644
-
-
-
a
/
config
/
compiler
/
pgo
/
BUILD
.
gn
+
+
+
b
/
config
/
compiler
/
pgo
/
BUILD
.
gn
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
Configuration
that
enables
PGO
instrumentation
.
config
(
"
pgo_instrumentation_flags
"
)
{
diff
-
-
git
a
/
config
/
compiler
/
pgo
/
pgo
.
gni
b
/
config
/
compiler
/
pgo
/
pgo
.
gni
index
9e9a0c524
.
.
beea1093d
100644
-
-
-
a
/
config
/
compiler
/
pgo
/
pgo
.
gni
+
+
+
b
/
config
/
compiler
/
pgo
/
pgo
.
gni
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
declare_args
(
)
{
#
Specify
the
current
PGO
phase
.
diff
-
-
git
a
/
config
/
coverage
/
BUILD
.
gn
b
/
config
/
coverage
/
BUILD
.
gn
index
59941c3cd
.
.
9208203ff
100644
-
-
-
a
/
config
/
coverage
/
BUILD
.
gn
+
+
+
b
/
config
/
coverage
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
config
(
"
default_coverage
"
)
{
if
(
use_clang_coverage
)
{
diff
-
-
git
a
/
config
/
coverage
/
coverage
.
gni
b
/
config
/
coverage
/
coverage
.
gni
index
2e5b7ab74
.
.
1b9a53f33
100644
-
-
-
a
/
config
/
coverage
/
coverage
.
gni
+
+
+
b
/
config
/
coverage
/
coverage
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
if
(
is_fuchsia
)
{
import
(
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
build
/
component
.
gni
"
)
}
diff
-
-
git
a
/
config
/
dcheck_always_on
.
gni
b
/
config
/
dcheck_always_on
.
gni
index
cca3a547c
.
.
6d0533f48
100644
-
-
-
a
/
config
/
dcheck_always_on
.
gni
+
+
+
b
/
config
/
dcheck_always_on
.
gni
-
5
7
+
5
7
#
TODO
(
crbug
.
com
/
1233050
)
:
Until
the
bug
is
resolved
we
need
to
include
#
gclient_args
for
the
definition
of
build_with_chromium
and
build_overrides
#
for
client
overrides
of
that
flag
.
The
latter
should
go
away
.
-
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
declare_args
(
)
{
#
Enables
DCHECKs
to
be
built
-
in
but
to
default
to
being
non
-
fatal
/
log
-
only
.
diff
-
-
git
a
/
config
/
devtools
.
gni
b
/
config
/
devtools
.
gni
index
4338e2555
.
.
558b40b75
100644
-
-
-
a
/
config
/
devtools
.
gni
+
+
+
b
/
config
/
devtools
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
declare_args
(
)
{
diff
-
-
git
a
/
config
/
features
.
gni
b
/
config
/
features
.
gni
index
852ac56a8
.
.
064e77167
100644
-
-
-
a
/
config
/
features
.
gni
+
+
+
b
/
config
/
features
.
gni
-
14
8
+
14
8
#
There
is
more
advice
on
where
to
put
build
flags
in
the
"
Build
flag
"
section
#
of
/
/
build
/
config
/
BUILDCONFIG
.
gn
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
declare_args
(
)
{
#
Enables
proprietary
codecs
and
demuxers
;
e
.
g
.
H264
AAC
MP3
and
MP4
.
diff
-
-
git
a
/
config
/
freetype
/
BUILD
.
gn
b
/
config
/
freetype
/
BUILD
.
gn
index
88a9c59f0
.
.
52170c9ef
100644
-
-
-
a
/
config
/
freetype
/
BUILD
.
gn
+
+
+
b
/
config
/
freetype
/
BUILD
.
gn
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
freetype
/
freetype
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
freetype
/
freetype
.
gni
"
)
group
(
"
freetype
"
)
{
if
(
use_system_freetype
)
{
-
public_configs
=
[
"
/
/
build
/
linux
:
freetype_from_pkgconfig
"
]
+
public_configs
=
[
"
/
/
chromium
/
build
/
linux
:
freetype_from_pkgconfig
"
]
}
else
{
public_deps
=
[
"
/
/
third_party
:
freetype_harfbuzz
"
]
}
diff
-
-
git
a
/
config
/
fuchsia
/
BUILD
.
gn
b
/
config
/
fuchsia
/
BUILD
.
gn
index
dd5a73b1a
.
.
0dde70a2f
100644
-
-
-
a
/
config
/
fuchsia
/
BUILD
.
gn
+
+
+
b
/
config
/
fuchsia
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
"
)
import
(
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
build
/
config
/
config
.
gni
"
)
assert
(
is_fuchsia
)
-
27
8
+
27
8
config
(
"
compiler
"
)
{
#
Files
required
to
run
on
Fuchsia
on
isolated
swarming
clients
.
group
(
"
deployment_resources
"
)
{
data
=
[
-
"
/
/
build
/
fuchsia
/
"
-
"
/
/
build
/
util
/
lib
/
"
+
"
/
/
chromium
/
build
/
fuchsia
/
"
+
"
/
/
chromium
/
build
/
util
/
lib
/
"
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
.
build
-
id
/
"
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
bin
/
fpave
.
sh
"
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
bin
/
fuchsia
-
common
.
sh
"
diff
-
-
git
a
/
config
/
fuchsia
/
DIR_METADATA
b
/
config
/
fuchsia
/
DIR_METADATA
index
210aa6a95
.
.
ddd134a2b
100644
-
-
-
a
/
config
/
fuchsia
/
DIR_METADATA
+
+
+
b
/
config
/
fuchsia
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
fuchsia
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
fuchsia
/
COMMON_METADATA
"
diff
-
-
git
a
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
b
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
index
e7453092b
.
.
df23bd052
100644
-
-
-
a
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
+
+
+
b
/
config
/
fuchsia
/
generate_runner_scripts
.
gni
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
fuchsia
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
fuchsia
/
fuchsia_package_metadata
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
fuchsia
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
fuchsia
/
fuchsia_package_metadata
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
assert
(
is_fuchsia
)
-
92
7
+
92
7
template
(
"
fuchsia_run_script_with_packages
"
)
{
if
(
!
defined
(
data_deps
)
)
{
data_deps
=
[
]
}
-
data_deps
+
=
[
"
/
/
build
/
config
/
fuchsia
:
deployment_resources
"
]
+
data_deps
+
=
[
"
/
/
chromium
/
build
/
config
/
fuchsia
:
deployment_resources
"
]
_combined_package_list
=
[
invoker
.
package
]
-
168
7
+
168
7
template
(
"
fuchsia_package_installer
"
)
{
"
*
"
TESTONLY_AND_VISIBILITY
+
[
"
executable_args
"
]
)
forward_variables_from
(
invoker
TESTONLY_AND_VISIBILITY
)
-
executable
=
rebase_path
(
"
/
/
build
/
fuchsia
/
test
/
deploy_to_fuchsia
.
py
"
)
+
executable
=
rebase_path
(
"
/
/
chromium
/
build
/
fuchsia
/
test
/
deploy_to_fuchsia
.
py
"
)
executable_args
=
[
"
-
-
out
-
dir
"
"
WrappedPath
(
.
)
"
-
195
7
+
195
7
template
(
"
fuchsia_test_runner
"
)
{
"
package_deps
"
]
)
-
_test_runner_py
=
"
/
/
build
/
fuchsia
/
test
/
run_test
.
py
"
+
_test_runner_py
=
"
/
/
chromium
/
build
/
fuchsia
/
test
/
run_test
.
py
"
executable
=
rebase_path
(
_test_runner_py
)
diff
-
-
git
a
/
config
/
fuchsia
/
packaged_content_embedder_excluded_dirs
.
gni
b
/
config
/
fuchsia
/
packaged_content_embedder_excluded_dirs
.
gni
index
f179a66d7
.
.
3e43cde86
100644
-
-
-
a
/
config
/
fuchsia
/
packaged_content_embedder_excluded_dirs
.
gni
+
+
+
b
/
config
/
fuchsia
/
packaged_content_embedder_excluded_dirs
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
devtools
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
devtools
.
gni
"
)
assert
(
is_fuchsia
)
diff
-
-
git
a
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
b
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
index
9a366c7bf
.
.
fbc274ad5
100644
-
-
-
a
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
+
+
+
b
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
-
8
7
+
8
7
#
#
To
use
it
do
one
of
the
following
:
#
*
Add
the
following
to
your
gn
args
:
-
#
import
(
"
/
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
"
)
+
#
import
(
"
/
/
chromium
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
"
)
#
*
Add
the
following
to
gn_args
in
a
bot
recipe
:
#
'
args_file
'
:
'
/
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
'
diff
-
-
git
a
/
config
/
fuchsia
/
size_optimized_cast_receiver_args_internal
.
gn
b
/
config
/
fuchsia
/
size_optimized_cast_receiver_args_internal
.
gn
index
b59ce96a6
.
.
a7152fa3c
100644
-
-
-
a
/
config
/
fuchsia
/
size_optimized_cast_receiver_args_internal
.
gn
+
+
+
b
/
config
/
fuchsia
/
size_optimized_cast_receiver_args_internal
.
gn
-
11
7
+
11
7
#
*
Add
the
following
to
gn_args
in
a
bot
recipe
:
#
'
args_file
'
:
'
/
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args_internal
.
gn
'
-
import
(
"
/
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
fuchsia
/
size_optimized_cast_receiver_args
.
gn
"
)
enable_widevine
=
true
use_internal_isolated_origins
=
true
diff
-
-
git
a
/
config
/
fuchsia
/
sizes
.
gni
b
/
config
/
fuchsia
/
sizes
.
gni
index
fc9767622
.
.
f78d1ca9b
100644
-
-
-
a
/
config
/
fuchsia
/
sizes
.
gni
+
+
+
b
/
config
/
fuchsia
/
sizes
.
gni
-
4
7
+
4
7
assert
(
is_fuchsia
)
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
template
(
"
compute_fuchsia_package_sizes
"
)
{
generate_wrapper
(
target_name
)
{
-
14
7
+
14
7
template
(
"
compute_fuchsia_package_sizes
"
)
{
"
data_deps
"
]
)
testonly
=
true
-
executable
=
"
/
/
build
/
fuchsia
/
binary_sizes
.
py
"
+
executable
=
"
/
/
chromium
/
build
/
fuchsia
/
binary_sizes
.
py
"
wrapper_script
=
"
root_out_dir
/
bin
/
run_
{
target_name
}
"
assert
(
target_cpu
=
=
"
arm64
"
|
|
target_cpu
=
=
"
x64
"
-
33
7
+
33
7
template
(
"
compute_fuchsia_package_sizes
"
)
{
#
TODO
(
crbug
.
com
/
1347172
)
:
Remove
arm64
once
the
execution
of
fuchsia_sizes
#
has
been
migrated
to
x64
machines
.
data
+
=
[
-
"
/
/
build
/
fuchsia
/
"
+
"
/
/
chromium
/
build
/
fuchsia
/
"
"
/
/
tools
/
fuchsia
/
size_tests
/
"
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
arch
/
"
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
tools
/
arm64
/
"
diff
-
-
git
a
/
config
/
fuchsia
/
symbol_archive
.
gni
b
/
config
/
fuchsia
/
symbol_archive
.
gni
index
e05af1155
.
.
09060e4ab
100644
-
-
-
a
/
config
/
fuchsia
/
symbol_archive
.
gni
+
+
+
b
/
config
/
fuchsia
/
symbol_archive
.
gni
-
19
7
+
19
7
template
(
"
symbol_archive
"
)
{
_ids_txt
=
invoker
.
ids_txt
_build_ids
=
invoker
.
archive_name
-
script
=
"
/
/
build
/
config
/
fuchsia
/
build_symbol_archive
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
fuchsia
/
build_symbol_archive
.
py
"
inputs
=
[
_ids_txt
]
diff
-
-
git
a
/
config
/
fuchsia
/
test
/
gfx_test_ui_stack
.
shard
.
test
-
cml
b
/
config
/
fuchsia
/
test
/
gfx_test_ui_stack
.
shard
.
test
-
cml
index
2e51f033f
.
.
3bd80a343
100644
-
-
-
a
/
config
/
fuchsia
/
test
/
gfx_test_ui_stack
.
shard
.
test
-
cml
+
+
+
b
/
config
/
fuchsia
/
test
/
gfx_test_ui_stack
.
shard
.
test
-
cml
-
7
7
+
7
7
/
/
choice
of
API
-
set
is
not
important
.
{
include
:
[
-
"
/
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
]
children
:
[
{
diff
-
-
git
a
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
b
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
index
13b5a1b79
.
.
edc4f37ab
100644
-
-
-
a
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
+
+
+
b
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
-
3
7
+
3
7
/
/
found
in
the
LICENSE
file
.
{
include
:
[
-
"
/
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
]
children
:
[
{
diff
-
-
git
a
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
b
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
index
102867cf1
.
.
59a3ce897
100644
-
-
-
a
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
+
+
+
b
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
-
2
7
+
2
7
/
/
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
/
/
found
in
the
LICENSE
file
.
{
-
include
:
[
"
/
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
]
+
include
:
[
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
sysmem
.
shard
.
test
-
cml
"
]
children
:
[
{
name
:
"
test_ui_stack
"
diff
-
-
git
a
/
config
/
fuchsia
/
test
/
web_instance
.
shard
.
test
-
cml
b
/
config
/
fuchsia
/
test
/
web_instance
.
shard
.
test
-
cml
index
b996f4ab6
.
.
793c329de
100644
-
-
-
a
/
config
/
fuchsia
/
test
/
web_instance
.
shard
.
test
-
cml
+
+
+
b
/
config
/
fuchsia
/
test
/
web_instance
.
shard
.
test
-
cml
-
3
12
+
3
12
/
/
found
in
the
LICENSE
file
.
{
include
:
[
-
"
/
/
build
/
config
/
fuchsia
/
test
/
audio_output
.
shard
.
test
-
cml
"
-
"
/
/
build
/
config
/
fuchsia
/
test
/
fonts
.
shard
.
test
-
cml
"
-
"
/
/
build
/
config
/
fuchsia
/
test
/
mark_vmo_executable
.
shard
.
test
-
cml
"
-
"
/
/
build
/
config
/
fuchsia
/
test
/
network
.
shard
.
test
-
cml
"
-
"
/
/
build
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
"
-
"
/
/
build
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
audio_output
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
fonts
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
mark_vmo_executable
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
network
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
platform_video_codecs
.
shard
.
test
-
cml
"
+
"
/
/
chromium
/
build
/
config
/
fuchsia
/
test
/
test_ui_stack
.
shard
.
test
-
cml
"
"
vulkan
/
client
.
shard
.
cml
"
]
use
:
[
diff
-
-
git
a
/
config
/
gcc
/
BUILD
.
gn
b
/
config
/
gcc
/
BUILD
.
gn
index
147ebfc53
.
.
880e6e3e9
100644
-
-
-
a
/
config
/
gcc
/
BUILD
.
gn
+
+
+
b
/
config
/
gcc
/
BUILD
.
gn
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
declare_args
(
)
{
#
When
non
empty
overrides
the
target
rpath
value
.
This
allows
a
user
to
-
60
7
+
60
7
config
(
"
symbol_visibility_default
"
)
{
#
this
is
OK
.
For
these
cases
use
something
like
this
:
#
#
if
(
(
is_linux
|
|
is_chromeos
)
&
&
!
is_component_build
)
{
-
#
configs
+
=
[
"
/
/
build
/
config
/
gcc
:
rpath_for_built_shared_libraries
"
]
+
#
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
gcc
:
rpath_for_built_shared_libraries
"
]
#
}
config
(
"
rpath_for_built_shared_libraries
"
)
{
if
(
!
is_android
&
&
current_os
!
=
"
aix
"
&
&
!
is_castos
)
{
diff
-
-
git
a
/
config
/
host_byteorder
.
gni
b
/
config
/
host_byteorder
.
gni
index
1c3c72dd6
.
.
6156e1496
100644
-
-
-
a
/
config
/
host_byteorder
.
gni
+
+
+
b
/
config
/
host_byteorder
.
gni
-
17
7
+
17
7
if
(
host_cpu
=
=
"
ppc64
"
)
{
}
else
{
#
Only
use
the
script
when
absolutely
necessary
host_byteorder
=
-
exec_script
(
"
/
/
build
/
config
/
get_host_byteorder
.
py
"
[
]
"
trim
string
"
)
+
exec_script
(
"
/
/
chromium
/
build
/
config
/
get_host_byteorder
.
py
"
[
]
"
trim
string
"
)
}
}
else
if
(
host_cpu
=
=
"
ppc
"
|
|
host_cpu
=
=
"
s390
"
|
|
host_cpu
=
=
"
s390x
"
|
|
host_cpu
=
=
"
mips
"
|
|
host_cpu
=
=
"
mips64
"
)
{
diff
-
-
git
a
/
config
/
ios
/
BUILD
.
gn
b
/
config
/
ios
/
BUILD
.
gn
index
f0b85cc65
.
.
4b6029c5e
100644
-
-
-
a
/
config
/
ios
/
BUILD
.
gn
+
+
+
b
/
config
/
ios
/
BUILD
.
gn
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
#
This
is
included
by
reference
in
the
/
/
build
/
config
/
compiler
config
that
-
262
7
+
262
7
_xctrunner_path
=
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
)
{
action
(
"
copy_xctrunner_app
"
)
{
testonly
=
true
-
script
=
"
/
/
build
/
noop
.
py
"
+
script
=
"
/
/
chromium
/
build
/
noop
.
py
"
outputs
=
[
"
_xctrunner_path
/
Info
.
plist
"
"
_xctrunner_path
/
PkgInfo
"
-
276
7
+
276
7
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
)
{
#
yet
supported
by
Apple
)
.
action
(
"
xctest_runner_without_arm64e
"
)
{
testonly
=
true
-
script
=
"
/
/
build
/
config
/
ios
/
strip_arm64e
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
strip_arm64e
.
py
"
sources
=
[
"
_xctrunner_path
/
XCTRunner
"
]
outputs
=
[
"
target_out_dir
/
XCTRunner
"
]
args
=
[
-
290
7
+
290
7
action
(
"
xctest_runner_without_arm64e
"
)
{
#
When
running
under
ASan
the
ASan
runtime
library
must
be
packaged
alongside
#
the
test
runner
binary
.
-
deps
=
[
"
/
/
build
/
config
/
sanitizers
:
deps
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
deps
"
]
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
)
{
deps
+
=
[
"
:
copy_xctrunner_app
"
]
}
diff
-
-
git
a
/
config
/
ios
/
asset_catalog
.
gni
b
/
config
/
ios
/
asset_catalog
.
gni
index
79ffdb7e9
.
.
0cd4b2e4f
100644
-
-
-
a
/
config
/
ios
/
asset_catalog
.
gni
+
+
+
b
/
config
/
ios
/
asset_catalog
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
#
This
template
declares
a
bundle_data
target
that
references
an
asset
#
catalog
so
that
it
is
compiled
to
the
asset
catalog
of
the
generated
-
85
7
+
85
7
template
(
"
asset_catalog
"
)
{
"
testonly
"
]
)
-
script
=
"
/
/
build
/
config
/
ios
/
hardlink
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
hardlink
.
py
"
visibility
=
[
"
:
_data_target_name
"
]
sources
=
_sources
diff
-
-
git
a
/
config
/
ios
/
ios_sdk
.
gni
b
/
config
/
ios
/
ios_sdk
.
gni
index
af498ced8
.
.
bfeb80051
100644
-
-
-
a
/
config
/
ios
/
ios_sdk
.
gni
+
+
+
b
/
config
/
ios
/
ios_sdk
.
gni
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk_overrides
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk_overrides
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
assert
(
current_os
=
=
"
ios
"
)
-
149
7
+
149
7
if
(
ios_sdk_path
=
=
"
"
)
{
root_build_dir
]
}
-
script_name
=
"
/
/
build
/
config
/
apple
/
sdk_info
.
py
"
+
script_name
=
"
/
/
chromium
/
build
/
config
/
apple
/
sdk_info
.
py
"
_ios_sdk_result
=
exec_script
(
script_name
ios_sdk_info_args
"
scope
"
)
ios_bin_path
=
rebase_path
(
"
{
_ios_sdk_result
.
toolchains_path
}
/
usr
/
bin
/
"
root_build_dir
)
diff
-
-
git
a
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
b
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
index
25108c5dd
.
.
0e449a9e0
100644
-
-
-
a
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
+
+
+
b
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
#
Invokes
generate_wrapper
to
create
an
executable
script
wrapping
iOS
'
#
run
.
py
with
baked
in
arguments
.
Only
takes
effect
when
test
entry
in
diff
-
-
git
a
/
config
/
ios
/
ios_test_runner_xcuitest
.
gni
b
/
config
/
ios
/
ios_test_runner_xcuitest
.
gni
index
6aeb08b1f
.
.
1df968aea
100644
-
-
-
a
/
config
/
ios
/
ios_test_runner_xcuitest
.
gni
+
+
+
b
/
config
/
ios
/
ios_test_runner_xcuitest
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ios
/
rules
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_test_runner_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
rules
.
gni
"
)
#
ios_test_runner_xcuitest
are
just
ios_xcuitest_test
with
an
#
ios_test_runner_wrapper
.
Currently
used
by
Crashpad
tests
which
do
not
depend
diff
-
-
git
a
/
config
/
ios
/
rules
.
gni
b
/
config
/
ios
/
rules
.
gni
index
c41850715
.
.
597c4366f
100644
-
-
-
a
/
config
/
ios
/
rules
.
gni
+
+
+
b
/
config
/
ios
/
rules
.
gni
-
2
13
+
2
13
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
apple
/
apple_info_plist
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
apple
/
apple_info_plist
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
#
Constants
corresponding
to
the
bundle
type
identifiers
use
application
-
70
10
+
70
10
template
(
"
lipo_binary
"
)
{
"
output_name
"
]
)
-
script
=
"
/
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
+
script
=
"
/
/
chromium
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
#
http
:
/
/
crbug
.
com
/
762840
.
Fix
for
bots
running
out
of
memory
.
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
outputs
=
[
"
target_out_dir
/
_output_name
"
]
-
279
7
+
279
7
template
(
"
create_signed_bundle
"
)
{
if
(
_enable_entitlements
)
{
if
(
!
defined
(
invoker
.
entitlements_target
)
)
{
-
_entitlements_path
=
"
/
/
build
/
config
/
ios
/
entitlements
.
plist
"
+
_entitlements_path
=
"
/
/
chromium
/
build
/
config
/
ios
/
entitlements
.
plist
"
if
(
defined
(
invoker
.
entitlements_path
)
)
{
_entitlements_path
=
invoker
.
entitlements_path
}
-
371
7
+
371
7
template
(
"
create_signed_bundle
"
)
{
deps
=
[
]
}
-
code_signing_script
=
"
/
/
build
/
config
/
ios
/
codesign
.
py
"
+
code_signing_script
=
"
/
/
chromium
/
build
/
config
/
ios
/
codesign
.
py
"
code_signing_sources
=
[
_bundle_binary_path
]
if
(
_enable_entitlements
)
{
if
(
defined
(
invoker
.
entitlements_target
)
)
{
-
456
7
+
456
7
template
(
"
create_signed_bundle
"
)
{
invoker
.
partial_info_plist
]
-
_plist_compiler_path
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
_plist_compiler_path
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
code_signing_sources
+
=
_partial_info_plists
code_signing_sources
+
=
[
_plist_compiler_path
]
-
528
7
+
528
7
template
(
"
ios_info_plist
"
)
{
extra_substitutions
+
=
invoker
.
extra_substitutions
}
plist_templates
=
[
-
"
/
/
build
/
config
/
ios
/
BuildInfo
.
plist
"
+
"
/
/
chromium
/
build
/
config
/
ios
/
BuildInfo
.
plist
"
_info_plist
]
if
(
defined
(
invoker
.
info_plist_target
)
)
{
-
821
7
+
821
7
template
(
"
ios_app_bundle
"
)
{
if
(
!
is_fat_secondary_toolchain
)
{
if
(
!
defined
(
invoker
.
entitlements_target
)
)
{
-
_entitlements_path
=
"
/
/
build
/
config
/
ios
/
entitlements
.
plist
"
+
_entitlements_path
=
"
/
/
chromium
/
build
/
config
/
ios
/
entitlements
.
plist
"
if
(
defined
(
invoker
.
entitlements_path
)
)
{
_entitlements_path
=
invoker
.
entitlements_path
}
-
839
7
+
839
7
template
(
"
ios_app_bundle
"
)
{
_gen_info_plist_outputs
=
get_target_outputs
(
"
:
_generate_info_plist
"
)
_info_plist_path
=
_gen_info_plist_outputs
[
0
]
-
script
=
"
/
/
build
/
config
/
ios
/
codesign
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
codesign
.
py
"
deps
=
[
"
:
_generate_info_plist
"
]
if
(
defined
(
invoker
.
entitlements_target
)
)
{
deps
+
=
[
invoker
.
entitlements_target
]
-
869
8
+
869
8
template
(
"
ios_app_bundle
"
)
{
_create_pkg_info
=
target_name
+
"
_pkg_info
"
action
(
_create_pkg_info
)
{
forward_variables_from
(
invoker
[
"
testonly
"
]
)
-
script
=
"
/
/
build
/
apple
/
write_pkg_info
.
py
"
-
inputs
=
[
"
/
/
build
/
apple
/
plist_util
.
py
"
]
+
script
=
"
/
/
chromium
/
build
/
apple
/
write_pkg_info
.
py
"
+
inputs
=
[
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
]
sources
=
get_target_outputs
(
"
:
_generate_info_plist
"
)
outputs
=
[
#
Cannot
name
the
output
PkgInfo
as
the
name
will
not
be
unique
if
-
952
7
+
952
7
template
(
"
ios_app_bundle
"
)
{
action
(
_target_name
)
{
forward_variables_from
(
invoker
[
"
testonly
"
]
)
-
script
=
"
/
/
build
/
config
/
ios
/
hardlink
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
hardlink
.
py
"
public_deps
=
[
]
foreach
(
_variant
_variants
)
{
public_deps
+
=
[
"
:
{
_variant
.
target_name
}
"
]
-
1017
7
+
1017
7
template
(
"
ios_appex_bundle
"
)
{
}
set_defaults
(
"
ios_appex_bundle
"
)
{
-
configs
=
[
"
/
/
build
/
config
/
ios
:
ios_extension_executable_flags
"
]
+
configs
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
ios_extension_executable_flags
"
]
}
#
Template
to
compile
.
xib
and
.
storyboard
files
.
-
1048
7
+
1048
7
template
(
"
compile_ib_files
"
)
{
_output_extension
=
invoker
.
output_extension
-
script
=
"
/
/
build
/
config
/
ios
/
compile_ib_files
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
compile_ib_files
.
py
"
sources
=
invoker
.
sources
outputs
=
[
"
target_gen_dir
/
target_name
/
{
{
source_name_part
}
}
.
_output_extension
"
-
1452
7
+
1452
7
template
(
"
ios_framework_bundle
"
)
{
"
public_deps
"
"
testonly
"
]
)
-
script
=
"
/
/
build
/
config
/
ios
/
write_framework_hmap
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
write_framework_hmap
.
py
"
outputs
=
[
_header_map_filename
]
#
The
header
map
generation
only
wants
the
list
of
headers
not
all
of
-
1475
7
+
1475
7
template
(
"
ios_framework_bundle
"
)
{
_create_module_map_target
=
_target_name
+
"
_module_map
"
action
(
_create_module_map_target
)
{
visibility
=
[
"
:
_framework_headers_target
"
]
-
script
=
"
/
/
build
/
config
/
ios
/
write_framework_modulemap
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
write_framework_modulemap
.
py
"
outputs
=
[
"
_framework_contents_dir
/
Modules
/
module
.
modulemap
"
]
args
=
[
_output_name
-
1731
7
+
1731
7
template
(
"
ios_xctest_bundle
"
)
{
}
deps
=
[
"
:
_arch_loadable_module_source
"
]
-
configs
+
=
[
"
/
/
build
/
config
/
ios
:
xctest_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
xctest_config
"
]
output_dir
=
"
target_out_dir
/
current_cpu
"
output_name
=
_output_name
-
1763
7
+
1763
7
template
(
"
ios_xctest_bundle
"
)
{
testonly
=
true
visibility
=
[
"
:
_info_plist_bundle
"
]
-
info_plist
=
"
/
/
build
/
config
/
ios
/
Module
-
Info
.
plist
"
+
info_plist
=
"
/
/
chromium
/
build
/
config
/
ios
/
Module
-
Info
.
plist
"
executable_name
=
_output_name
if
(
defined
(
invoker
.
xctest_bundle_principal_class
)
)
{
-
1892
9
+
1892
9
template
(
"
ios_xctest_test
"
)
{
_xctest_module_target_name
=
_xctest_target
+
"
shell_source
"
_xctest_module_target
=
"
:
_xctest_module_target_name
"
source_set
(
_xctest_module_target_name
)
{
-
sources
=
[
"
/
/
build
/
config
/
ios
/
xctest_shell
.
mm
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
config
/
ios
/
xctest_shell
.
mm
"
]
-
configs
+
=
[
"
/
/
build
/
config
/
ios
:
xctest_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
xctest_config
"
]
}
}
-
1919
10
+
1919
10
template
(
"
ios_xctest_test
"
)
{
testonly
=
true
output_name
=
_host_output
-
configs
+
=
[
"
/
/
build
/
config
/
ios
:
xctest_config
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
xctest_config
"
]
if
(
!
defined
(
invoker
.
info_plist
)
&
&
!
defined
(
invoker
.
info_plist_target
)
)
{
-
info_plist
=
"
/
/
build
/
config
/
ios
/
Host
-
Info
.
plist
"
+
info_plist
=
"
/
/
chromium
/
build
/
config
/
ios
/
Host
-
Info
.
plist
"
}
#
Xcode
needs
the
following
frameworks
installed
in
the
application
(
and
-
1999
7
+
1999
7
template
(
"
ios_xcuitest_test_runner_bundle
"
)
{
action
(
_info_plist_merge_plist
)
{
testonly
=
true
-
script
=
"
/
/
build
/
apple
/
plist_util
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
sources
=
[
"
_xctrunner_path
/
Info
.
plist
"
-
2007
7
+
2007
7
template
(
"
ios_xcuitest_test_runner_bundle
"
)
{
#
NOTE
:
The
XCTRunnerAddition
+
Info
.
plist
must
come
after
the
Info
.
plist
#
because
it
overrides
the
values
under
"
CFBundleIdentifier
"
and
#
"
CFBundleName
"
.
-
"
/
/
build
/
config
/
ios
/
resources
/
XCTRunnerAddition
+
Info
.
plist
"
+
"
/
/
chromium
/
build
/
config
/
ios
/
resources
/
XCTRunnerAddition
+
Info
.
plist
"
]
_output_name
=
"
target_gen_dir
/
{
_target_name
}
_merged
.
plist
"
-
2020
7
+
2020
7
template
(
"
ios_xcuitest_test_runner_bundle
"
)
{
]
+
rebase_path
(
sources
root_build_dir
)
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
)
{
-
deps
=
[
"
/
/
build
/
config
/
ios
:
copy_xctrunner_app
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
copy_xctrunner_app
"
]
}
}
-
2053
7
+
2053
7
template
(
"
ios_xcuitest_test_runner_bundle
"
)
{
outputs
=
[
"
{
{
bundle_contents_dir
}
}
/
PkgInfo
"
]
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
)
{
-
public_deps
=
[
"
/
/
build
/
config
/
ios
:
copy_xctrunner_app
"
]
+
public_deps
=
[
"
/
/
chromium
/
build
/
config
/
ios
:
copy_xctrunner_app
"
]
}
}
-
2061
7
+
2061
7
template
(
"
ios_xcuitest_test_runner_bundle
"
)
{
create_signed_bundle
(
_target_name
)
{
testonly
=
true
-
bundle_binary_target
=
"
/
/
build
/
config
/
ios
:
xctest_runner_without_arm64e
"
+
bundle_binary_target
=
"
/
/
chromium
/
build
/
config
/
ios
:
xctest_runner_without_arm64e
"
bundle_binary_output
=
"
XCTRunner
"
bundle_extension
=
"
.
app
"
product_type
=
_ios_xcode_app_bundle_id
diff
-
-
git
a
/
config
/
linux
/
BUILD
.
gn
b
/
config
/
linux
/
BUILD
.
gn
index
b96e8cbe3
.
.
6ba0fde13
100644
-
-
-
a
/
config
/
linux
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
group
(
"
linux
"
)
{
visibility
=
[
"
/
/
:
optimize_gn_gen
"
]
-
16
7
+
16
7
group
(
"
linux
"
)
{
#
Linux
-
only
.
This
is
not
applied
to
Android
but
is
applied
to
ChromeOS
.
config
(
"
compiler
"
)
{
if
(
current_cpu
=
=
"
arm64
"
)
{
-
import
(
"
/
/
build
/
config
/
arm
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
arm
.
gni
"
)
cflags
=
[
]
asmflags
=
[
]
if
(
arm_control_flow_integrity
=
=
"
standard
"
)
{
-
42
7
+
42
7
config
(
"
runtime_library
"
)
{
#
Mozilla
disable
libatomic
on
linux
builds
if
(
false
)
{
-
if
(
(
!
is_chromeos
|
|
default_toolchain
!
=
"
/
/
build
/
toolchain
/
cros
:
target
"
)
&
&
+
if
(
(
!
is_chromeos
|
|
default_toolchain
!
=
"
/
/
chromium
/
build
/
toolchain
/
cros
:
target
"
)
&
&
(
!
use_custom_libcxx
|
|
current_cpu
=
=
"
mipsel
"
)
)
{
libs
=
[
"
atomic
"
]
}
diff
-
-
git
a
/
config
/
linux
/
atk
/
BUILD
.
gn
b
/
config
/
linux
/
atk
/
BUILD
.
gn
index
239c3870a
.
.
e771711f1
100644
-
-
-
a
/
config
/
linux
/
atk
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
atk
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
#
CrOS
doesn
'
t
install
GTK
or
any
gnome
packages
.
assert
(
!
is_chromeos
)
diff
-
-
git
a
/
config
/
linux
/
atspi2
/
BUILD
.
gn
b
/
config
/
linux
/
atspi2
/
BUILD
.
gn
index
51b6d33aa
.
.
a37f7d5f5
100644
-
-
-
a
/
config
/
linux
/
atspi2
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
atspi2
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
#
These
packages
should
_only_
be
expected
when
building
for
a
target
.
assert
(
current_toolchain
=
=
default_toolchain
)
diff
-
-
git
a
/
config
/
linux
/
dbus
/
BUILD
.
gn
b
/
config
/
linux
/
dbus
/
BUILD
.
gn
index
2414c3416
.
.
2f19b75d2
100644
-
-
-
a
/
config
/
linux
/
dbus
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
dbus
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
assert
(
use_dbus
)
diff
-
-
git
a
/
config
/
linux
/
dri
/
BUILD
.
gn
b
/
config
/
linux
/
dri
/
BUILD
.
gn
index
e3a0a83a9
.
.
bdafaac36
100644
-
-
-
a
/
config
/
linux
/
dri
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
dri
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
assert
(
is_linux
"
This
file
should
only
be
referenced
on
Linux
"
)
diff
-
-
git
a
/
config
/
linux
/
gtk
/
BUILD
.
gn
b
/
config
/
linux
/
gtk
/
BUILD
.
gn
index
355067ea1
.
.
467b5f1a2
100644
-
-
-
a
/
config
/
linux
/
gtk
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
gtk
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
gtk
/
gtk
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
gtk
/
gtk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
assert
(
is_linux
"
This
file
should
only
be
referenced
on
Linux
"
)
diff
-
-
git
a
/
config
/
linux
/
gtk
/
gtk
.
gni
b
/
config
/
linux
/
gtk
/
gtk
.
gni
index
4f560b290
.
.
927e11688
100644
-
-
-
a
/
config
/
linux
/
gtk
/
gtk
.
gni
+
+
+
b
/
config
/
linux
/
gtk
/
gtk
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
declare_args
(
)
{
#
Whether
or
not
we
should
use
libgtk
.
diff
-
-
git
a
/
config
/
linux
/
libdrm
/
BUILD
.
gn
b
/
config
/
linux
/
libdrm
/
BUILD
.
gn
index
7791c7e7c
.
.
2179849ac
100644
-
-
-
a
/
config
/
linux
/
libdrm
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
libdrm
/
BUILD
.
gn
-
1
9
+
1
9
#
Copyright
2018
The
Chromium
Authors
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
assert
(
is_linux
|
|
is_chromeos
)
diff
-
-
git
a
/
config
/
linux
/
libffi
/
BUILD
.
gn
b
/
config
/
linux
/
libffi
/
BUILD
.
gn
index
771170c3e
.
.
809938fb1
100644
-
-
-
a
/
config
/
linux
/
libffi
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
libffi
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
declare_args
(
)
{
#
Controls
whether
the
build
should
use
the
version
of
libffi
library
shipped
-
10
7
+
10
7
declare_args
(
)
{
#
on
Linux
libffi
must
be
statically
linked
to
prevent
a
situation
where
the
#
runtime
version
of
libffi
is
different
from
the
build
-
time
version
from
the
#
sysroot
.
-
use_system_libffi
=
default_toolchain
=
=
"
/
/
build
/
toolchain
/
cros
:
target
"
+
use_system_libffi
=
default_toolchain
=
=
"
/
/
chromium
/
build
/
toolchain
/
cros
:
target
"
}
if
(
use_system_libffi
)
{
diff
-
-
git
a
/
config
/
linux
/
libva
/
BUILD
.
gn
b
/
config
/
linux
/
libva
/
BUILD
.
gn
index
380da0435
.
.
0053888dd
100644
-
-
-
a
/
config
/
linux
/
libva
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
libva
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
assert
(
is_linux
|
|
is_chromeos
"
This
file
should
only
be
referenced
on
Linux
"
)
diff
-
-
git
a
/
config
/
linux
/
nss
/
BUILD
.
gn
b
/
config
/
linux
/
nss
/
BUILD
.
gn
index
c67cefc14
.
.
2b8f4b5cf
100644
-
-
-
a
/
config
/
linux
/
nss
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
nss
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
if
(
is_linux
|
|
is_chromeos
)
{
#
This
is
a
dependency
on
NSS
with
no
libssl3
.
On
Linux
and
Chrome
OS
we
use
diff
-
-
git
a
/
config
/
linux
/
pangocairo
/
BUILD
.
gn
b
/
config
/
linux
/
pangocairo
/
BUILD
.
gn
index
e2030b817
.
.
4286dd90c
100644
-
-
-
a
/
config
/
linux
/
pangocairo
/
BUILD
.
gn
+
+
+
b
/
config
/
linux
/
pangocairo
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
if
(
use_pangocairo
)
{
pkg_config
(
"
pangocairo
"
)
{
diff
-
-
git
a
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
b
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
index
c7662ac33
.
.
b41da9fa6
100644
-
-
-
a
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
+
+
+
b
/
config
/
linux
/
pangocairo
/
pangocairo
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
declare_args
(
)
{
use_pangocairo
=
is_linux
&
&
!
is_castos
diff
-
-
git
a
/
config
/
linux
/
pkg_config
.
gni
b
/
config
/
linux
/
pkg_config
.
gni
index
cb9b46003
.
.
56ea19e28
100644
-
-
-
a
/
config
/
linux
/
pkg_config
.
gni
+
+
+
b
/
config
/
linux
/
pkg_config
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
#
Defines
a
config
specifying
the
result
of
running
pkg
-
config
for
the
given
#
packages
.
Put
the
package
names
you
want
to
query
in
the
"
packages
"
variable
-
47
7
+
47
7
declare_args
(
)
{
system_libdir
=
"
lib
"
}
-
pkg_config_script
=
"
/
/
build
/
config
/
linux
/
pkg
-
config
.
py
"
+
pkg_config_script
=
"
/
/
chromium
/
build
/
config
/
linux
/
pkg
-
config
.
py
"
#
Define
the
args
we
pass
to
the
pkg
-
config
script
for
other
build
files
that
#
need
to
invoke
it
manually
.
diff
-
-
git
a
/
config
/
locales
.
gni
b
/
config
/
locales
.
gni
index
ed26f3de9
.
.
b23b608c7
100644
-
-
-
a
/
config
/
locales
.
gni
+
+
+
b
/
config
/
locales
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
#
This
file
creates
|
platform_pak_locales
|
which
is
the
set
of
packed
locales
#
based
on
the
current
platform
.
Locales
in
this
list
are
formatted
based
on
diff
-
-
git
a
/
config
/
logging
.
gni
b
/
config
/
logging
.
gni
index
a08195b7d
.
.
3f4df140e
100644
-
-
-
a
/
config
/
logging
.
gni
+
+
+
b
/
config
/
logging
.
gni
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
declare_args
(
)
{
#
Use
LogErrorNotReached
(
)
for
NOTREACHED
(
)
.
diff
-
-
git
a
/
config
/
mac
/
BUILD
.
gn
b
/
config
/
mac
/
BUILD
.
gn
index
8cfb2778c
.
.
36c46ca39
100644
-
-
-
a
/
config
/
mac
/
BUILD
.
gn
+
+
+
b
/
config
/
mac
/
BUILD
.
gn
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
#
This
is
included
by
reference
in
the
/
/
build
/
config
/
compiler
config
that
#
is
applied
to
all
targets
.
It
is
here
to
separate
out
the
logic
.
-
125
7
+
125
7
config
(
"
strip_all
"
)
{
if
(
use_system_xcode
&
&
(
use_goma
|
|
use_remoteexec
)
&
&
target_os
=
=
"
mac
"
&
&
current_toolchain
=
=
default_toolchain
)
{
action
(
"
sdk_inputs
"
)
{
-
script
=
"
/
/
build
/
noop
.
py
"
+
script
=
"
/
/
chromium
/
build
/
noop
.
py
"
outputs
=
[
"
mac_sdk_path
/
usr
/
include
/
mach
/
exc
.
defs
"
"
mac_sdk_path
/
usr
/
include
/
mach
/
mach_exc
.
defs
"
diff
-
-
git
a
/
config
/
mac
/
mac_sdk
.
gni
b
/
config
/
mac
/
mac_sdk
.
gni
index
396cb56a3
.
.
2c38ef4e3
100644
-
-
-
a
/
config
/
mac
/
mac_sdk
.
gni
+
+
+
b
/
config
/
mac
/
mac_sdk
.
gni
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
gclient_args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk_overrides
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
gclient_args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk_overrides
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
assert
(
current_os
=
=
"
mac
"
|
|
current_toolchain
=
=
default_toolchain
)
-
70
10
+
70
10
if
(
is_chrome_branded
&
&
is_official_build
&
&
target_os
!
=
"
ios
"
)
{
#
The
path
to
the
hermetic
install
of
Xcode
.
Only
relevant
when
#
use_system_xcode
=
false
.
if
(
!
use_system_xcode
)
{
-
_hermetic_xcode_path
=
"
/
/
build
/
mac_files
/
xcode_binaries
"
+
_hermetic_xcode_path
=
"
/
/
chromium
/
build
/
mac_files
/
xcode_binaries
"
}
-
script_name
=
"
/
/
build
/
config
/
apple
/
sdk_info
.
py
"
+
script_name
=
"
/
/
chromium
/
build
/
config
/
apple
/
sdk_info
.
py
"
sdk_info_args
=
[
]
if
(
!
use_system_xcode
)
{
sdk_info_args
+
=
[
-
112
7
+
112
7
if
(
use_system_xcode
)
{
mac_sdk_min
]
find_sdk_lines
=
-
exec_script
(
"
/
/
build
/
mac
/
find_sdk
.
py
"
find_sdk_args
"
list
lines
"
)
+
exec_script
(
"
/
/
chromium
/
build
/
mac
/
find_sdk
.
py
"
find_sdk_args
"
list
lines
"
)
mac_sdk_version
=
find_sdk_lines
[
3
]
mac_sdk_build_version
=
find_sdk_lines
[
2
]
if
(
mac_sdk_path
=
=
"
"
)
{
diff
-
-
git
a
/
config
/
mac
/
rules
.
gni
b
/
config
/
mac
/
rules
.
gni
index
f613a049b
.
.
023190749
100644
-
-
-
a
/
config
/
mac
/
rules
.
gni
+
+
+
b
/
config
/
mac
/
rules
.
gni
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
apple
/
apple_info_plist
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
apple
/
apple_info_plist
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
#
Generates
Info
.
plist
files
for
Mac
apps
and
frameworks
.
#
-
52
7
+
52
7
template
(
"
mac_info_plist
"
)
{
extra_substitutions
+
=
invoker
.
extra_substitutions
}
plist_templates
=
[
-
"
/
/
build
/
config
/
mac
/
BuildInfo
.
plist
"
+
"
/
/
chromium
/
build
/
config
/
mac
/
BuildInfo
.
plist
"
_info_plist
]
if
(
defined
(
invoker
.
info_plist_target
)
)
{
-
229
7
+
229
7
template
(
"
mac_framework_bundle
"
)
{
#
Clean
the
entire
framework
if
the
framework_version
changes
.
_version_file
=
"
target_out_dir
/
{
target_name
}
_version
"
-
exec_script
(
"
/
/
build
/
config
/
mac
/
prepare_framework_version
.
py
"
+
exec_script
(
"
/
/
chromium
/
build
/
config
/
mac
/
prepare_framework_version
.
py
"
[
rebase_path
(
_version_file
)
rebase_path
(
_framework_base_dir
)
-
239
7
+
239
7
template
(
"
mac_framework_bundle
"
)
{
#
Create
the
symlinks
.
_framework_package_target
=
target_name
+
"
_package
"
action
(
_framework_package_target
)
{
-
script
=
"
/
/
build
/
config
/
mac
/
package_framework
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
mac
/
package_framework
.
py
"
#
The
TOC
file
never
needs
to
be
read
since
its
contents
are
the
values
#
of
GN
variables
.
It
is
only
used
to
trigger
this
rule
when
the
values
-
466
8
+
466
8
template
(
"
mac_app_bundle
"
)
{
action
(
_pkg_info_target
)
{
forward_variables_from
(
invoker
[
"
testonly
"
]
)
-
script
=
"
/
/
build
/
apple
/
write_pkg_info
.
py
"
-
inputs
=
[
"
/
/
build
/
apple
/
plist_util
.
py
"
]
+
script
=
"
/
/
chromium
/
build
/
apple
/
write_pkg_info
.
py
"
+
inputs
=
[
"
/
/
chromium
/
build
/
apple
/
plist_util
.
py
"
]
sources
=
get_target_outputs
(
"
:
_info_plist_target
"
)
outputs
=
[
"
target_gen_dir
/
_pkg_info_target
"
]
args
=
[
"
-
-
plist
"
]
+
rebase_path
(
sources
root_build_dir
)
+
diff
-
-
git
a
/
config
/
mips
.
gni
b
/
config
/
mips
.
gni
index
986ffcb45
.
.
2df1646a8
100644
-
-
-
a
/
config
/
mips
.
gni
+
+
+
b
/
config
/
mips
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
v8_target_cpu
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
v8_target_cpu
.
gni
"
)
#
These
are
primarily
relevant
in
current_cpu
=
=
"
mips
*
"
contexts
where
#
MIPS
code
is
being
compiled
.
But
they
can
also
be
relevant
in
the
diff
-
-
git
a
/
config
/
nacl
/
BUILD
.
gn
b
/
config
/
nacl
/
BUILD
.
gn
index
d60994291
.
.
22d5827b9
100644
-
-
-
a
/
config
/
nacl
/
BUILD
.
gn
+
+
+
b
/
config
/
nacl
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
#
Native
Client
Definitions
config
(
"
nacl_defines
"
)
{
diff
-
-
git
a
/
config
/
nacl
/
config
.
gni
b
/
config
/
nacl
/
config
.
gni
index
c8062b41a
.
.
dd774495e
100644
-
-
-
a
/
config
/
nacl
/
config
.
gni
+
+
+
b
/
config
/
nacl
/
config
.
gni
-
49
5
+
49
5
nacl_toolchain_tooldir
=
"
{
nacl_toolchain_dir
}
/
{
nacl_toolchain_package
}
/
{
_nacl_tuple
}
"
nacl_toolprefix
=
"
{
nacl_toolchain_bindir
}
/
{
_nacl_tuple
}
-
"
-
nacl_irt_toolchain
=
"
/
/
build
/
toolchain
/
nacl
:
irt_
"
+
current_cpu
+
nacl_irt_toolchain
=
"
/
/
chromium
/
build
/
toolchain
/
nacl
:
irt_
"
+
current_cpu
is_nacl_irt
=
current_toolchain
=
=
nacl_irt_toolchain
diff
-
-
git
a
/
config
/
nacl
/
host_toolchain
.
gni
b
/
config
/
nacl
/
host_toolchain
.
gni
index
09b93b14a
.
.
df74e1e5f
100644
-
-
-
a
/
config
/
nacl
/
host_toolchain
.
gni
+
+
+
b
/
config
/
nacl
/
host_toolchain
.
gni
-
4
8
+
4
8
#
The
compiler
for
the
trusted
nacl_helper_bootstrap
binary
.
nacl_bootstrap_compiler
=
"
g
+
+
"
-
if
(
default_toolchain
=
=
"
/
/
build
/
toolchain
/
cros
:
target
"
)
{
-
import
(
"
/
/
build
/
toolchain
/
cros_toolchain
.
gni
"
)
+
if
(
default_toolchain
=
=
"
/
/
chromium
/
build
/
toolchain
/
cros
:
target
"
)
{
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cros_toolchain
.
gni
"
)
if
(
target_cpu
=
=
"
arm64
"
&
&
current_cpu
=
=
"
arm
"
)
{
nacl_bootstrap_compiler
=
cros_nacl_helper_arm32_cxx
}
else
{
diff
-
-
git
a
/
config
/
nacl
/
rules
.
gni
b
/
config
/
nacl
/
rules
.
gni
index
a15d32622
.
.
7d916e8f5
100644
-
-
-
a
/
config
/
nacl
/
rules
.
gni
+
+
+
b
/
config
/
nacl
/
rules
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
#
Generate
a
nmf
file
#
-
101
7
+
101
7
template
(
"
generate_nmf
"
)
{
if
(
current_cpu
=
=
"
x64
"
|
|
target_os
=
=
"
win
"
)
{
#
For
x86
-
64
the
lib
/
directory
is
called
lib64
/
instead
#
when
copied
by
create_nmf
.
py
.
-
glibc_tc
=
"
/
/
build
/
toolchain
/
nacl
:
glibc
"
+
glibc_tc
=
"
/
/
chromium
/
build
/
toolchain
/
nacl
:
glibc
"
assert
(
current_toolchain
=
=
"
{
glibc_tc
}
_
{
current_cpu
}
"
)
if
(
current_cpu
=
=
"
x64
"
)
{
x64_out_dir
=
root_out_dir
diff
-
-
git
a
/
config
/
ozone
.
gni
b
/
config
/
ozone
.
gni
index
05e3319b9
.
.
f7b6ffc1a
100644
-
-
-
a
/
config
/
ozone
.
gni
+
+
+
b
/
config
/
ozone
.
gni
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
declare_args
(
)
{
#
Indicates
if
Ozone
is
enabled
.
Ozone
is
a
low
-
level
library
layer
for
Linux
-
15
7
+
15
7
declare_args
(
)
{
declare_args
(
)
{
#
Ozone
extra
platforms
file
path
.
Can
be
overridden
to
build
out
of
#
tree
ozone
platforms
.
-
ozone_extra_path
=
"
/
/
build
/
config
/
ozone_extra
.
gni
"
+
ozone_extra_path
=
"
/
/
chromium
/
build
/
config
/
ozone_extra
.
gni
"
#
Select
platforms
automatically
.
Turn
this
off
for
manual
control
.
ozone_auto_platforms
=
use_ozone
diff
-
-
git
a
/
config
/
pch
.
gni
b
/
config
/
pch
.
gni
index
bc4e9e6d1
.
.
c5f9b8b16
100644
-
-
-
a
/
config
/
pch
.
gni
+
+
+
b
/
config
/
pch
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
declare_args
(
)
{
#
Precompiled
header
file
support
is
by
default
available
diff
-
-
git
a
/
config
/
posix
/
BUILD
.
gn
b
/
config
/
posix
/
BUILD
.
gn
index
8312d7ecf
.
.
19cd33757
100644
-
-
-
a
/
config
/
posix
/
BUILD
.
gn
+
+
+
b
/
config
/
posix
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
#
This
build
configuration
is
used
by
both
Fuchsia
and
POSIX
systems
.
assert
(
is_posix
|
|
is_fuchsia
)
-
34
10
+
34
10
config
(
"
runtime_library
"
)
{
#
line
and
build
system
rebuilds
things
when
their
commandline
#
changes
)
.
Nothing
should
ever
read
this
define
.
sysroot_key
=
-
exec_script
(
"
/
/
build
/
linux
/
sysroot_scripts
/
install
-
sysroot
.
py
"
+
exec_script
(
"
/
/
chromium
/
build
/
linux
/
sysroot_scripts
/
install
-
sysroot
.
py
"
[
"
-
-
print
-
key
=
current_cpu
"
]
"
trim
string
"
-
[
"
/
/
build
/
linux
/
sysroot_scripts
/
sysroots
.
json
"
]
)
+
[
"
/
/
chromium
/
build
/
linux
/
sysroot_scripts
/
sysroots
.
json
"
]
)
defines
+
=
[
"
CR_SYSROOT_KEY
=
sysroot_key
"
]
}
asmflags
+
=
sysroot_flags
diff
-
-
git
a
/
config
/
profiling
/
profiling
.
gni
b
/
config
/
profiling
/
profiling
.
gni
index
d30ef7456
.
.
f45647613
100644
-
-
-
a
/
config
/
profiling
/
profiling
.
gni
+
+
+
b
/
config
/
profiling
/
profiling
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
pgo
/
pgo
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
declare_args
(
)
{
use_clang_profiling
=
diff
-
-
git
a
/
config
/
python
.
gni
b
/
config
/
python
.
gni
index
f3431fcc0
.
.
36c46e008
100644
-
-
-
a
/
config
/
python
.
gni
+
+
+
b
/
config
/
python
.
gni
-
67
8
+
67
8
template
(
"
python_library
"
)
{
#
associated
.
pydeps
file
.
In
other
words
:
#
#
-
This
is
very
similar
to
just
an
action
(
)
except
that
|
script
|
must
point
-
#
to
a
Python
script
(
e
.
g
.
"
/
/
build
/
.
.
.
/
foo
.
py
"
)
that
has
a
corresponding
-
#
.
pydeps
file
in
the
source
tree
(
e
.
g
.
"
/
/
build
/
.
.
.
/
foo
.
pydeps
"
)
.
+
#
to
a
Python
script
(
e
.
g
.
"
/
/
chromium
/
build
/
.
.
.
/
foo
.
py
"
)
that
has
a
corresponding
+
#
.
pydeps
file
in
the
source
tree
(
e
.
g
.
"
/
/
chromium
/
build
/
.
.
.
/
foo
.
pydeps
"
)
.
#
#
-
The
.
pydeps
file
contains
a
list
of
python
dependencies
(
imports
really
)
#
and
is
generated
_manually_
by
using
a
command
like
:
diff
-
-
git
a
/
config
/
riscv
.
gni
b
/
config
/
riscv
.
gni
index
b9597a0a9
.
.
6e99e6f03
100644
-
-
-
a
/
config
/
riscv
.
gni
+
+
+
b
/
config
/
riscv
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
v8_target_cpu
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
v8_target_cpu
.
gni
"
)
if
(
current_cpu
=
=
"
riscv64
"
|
|
v8_current_cpu
=
=
"
riscv64
"
)
{
declare_args
(
)
{
diff
-
-
git
a
/
config
/
rust
.
gni
b
/
config
/
rust
.
gni
index
b054403d2
.
.
ce483576c
100644
-
-
-
a
/
config
/
rust
.
gni
+
+
+
b
/
config
/
rust
.
gni
-
2
13
+
2
13
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
}
declare_args
(
)
{
-
162
7
+
162
7
if
(
is_linux
)
{
}
rust_abi_target
=
cpu
+
"
-
unknown
-
linux
-
gnu
"
}
else
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
abi
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
abi
.
gni
"
)
rust_abi_target
=
android_abi_target
if
(
rust_abi_target
=
=
"
arm
-
linux
-
androideabi
"
)
{
#
Android
clang
target
specifications
mostly
match
Rust
but
this
diff
-
-
git
a
/
config
/
sanitizers
/
BUILD
.
gn
b
/
config
/
sanitizers
/
BUILD
.
gn
index
8a50b7e02
.
.
8dec8b59b
100644
-
-
-
a
/
config
/
sanitizers
/
BUILD
.
gn
+
+
+
b
/
config
/
sanitizers
/
BUILD
.
gn
-
2
15
+
2
15
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
if
(
is_ios
)
{
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
}
#
Contains
the
dependencies
needed
for
sanitizers
to
link
into
executables
and
-
85
7
+
85
7
if
(
(
is_apple
|
|
is_win
)
&
&
is_asan
)
{
#
On
iOS
the
runtime
library
need
to
be
code
signed
(
adhoc
signature
)
#
starting
with
Xcode
8
so
use
an
action
instead
of
a
copy
on
iOS
.
action
(
"
copy_asan_runtime
"
)
{
-
script
=
"
/
/
build
/
config
/
ios
/
codesign
.
py
"
+
script
=
"
/
/
chromium
/
build
/
config
/
ios
/
codesign
.
py
"
sources
=
[
_clang_rt_dso_full_path
]
outputs
=
[
"
root_out_dir
/
"
+
get_path_info
(
sources
[
0
]
"
file
"
)
]
args
=
[
-
121
30
+
121
30
static_library
(
"
options_sources
"
)
{
"
:
deps
"
"
/
/
:
gn_all
"
]
-
sources
=
[
"
/
/
build
/
sanitizers
/
sanitizer_options
.
cc
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
sanitizers
/
sanitizer_options
.
cc
"
]
#
Don
'
t
compile
this
target
with
any
sanitizer
code
.
It
can
be
called
from
#
the
sanitizer
runtimes
so
instrumenting
these
functions
could
cause
#
recursive
calls
into
the
runtime
if
there
is
an
error
.
-
configs
-
=
[
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
+
configs
-
=
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
if
(
is_asan
)
{
if
(
!
defined
(
asan_suppressions_file
)
)
{
-
asan_suppressions_file
=
"
/
/
build
/
sanitizers
/
asan_suppressions
.
cc
"
+
asan_suppressions_file
=
"
/
/
chromium
/
build
/
sanitizers
/
asan_suppressions
.
cc
"
}
sources
+
=
[
asan_suppressions_file
]
}
if
(
is_lsan
)
{
if
(
!
defined
(
lsan_suppressions_file
)
)
{
-
lsan_suppressions_file
=
"
/
/
build
/
sanitizers
/
lsan_suppressions
.
cc
"
+
lsan_suppressions_file
=
"
/
/
chromium
/
build
/
sanitizers
/
lsan_suppressions
.
cc
"
}
sources
+
=
[
lsan_suppressions_file
]
}
if
(
is_tsan
)
{
if
(
!
defined
(
tsan_suppressions_file
)
)
{
-
tsan_suppressions_file
=
"
/
/
build
/
sanitizers
/
tsan_suppressions
.
cc
"
+
tsan_suppressions_file
=
"
/
/
chromium
/
build
/
sanitizers
/
tsan_suppressions
.
cc
"
}
sources
+
=
[
tsan_suppressions_file
]
}
-
588
7
+
588
7
config
(
"
not_fuzzed
"
)
{
#
optimize_for_fuzzing
(
-
O1
)
.
When
given
multiple
optimization
flags
clang
#
obeys
the
last
one
so
as
long
as
this
flag
comes
after
-
O1
it
should
work
.
#
Since
this
config
will
always
be
depended
on
after
-
#
"
/
/
build
/
config
/
compiler
:
default_optimization
"
(
which
adds
-
O1
when
+
#
"
/
/
chromium
/
build
/
config
/
compiler
:
default_optimization
"
(
which
adds
-
O1
when
#
optimize_for_fuzzing
is
true
)
-
O2
should
always
be
the
second
flag
.
Even
#
though
this
sounds
fragile
it
isn
'
t
a
big
deal
if
it
breaks
since
proto
#
fuzzers
will
still
work
they
will
just
be
slightly
slower
.
diff
-
-
git
a
/
config
/
sanitizers
/
sanitizers
.
gni
b
/
config
/
sanitizers
/
sanitizers
.
gni
index
15008ca78
.
.
043246140
100644
-
-
-
a
/
config
/
sanitizers
/
sanitizers
.
gni
+
+
+
b
/
config
/
sanitizers
/
sanitizers
.
gni
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
profiling
/
profiling
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
profiling
/
profiling
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
declare_args
(
)
{
#
Compile
for
Address
Sanitizer
to
find
memory
bugs
.
-
284
21
+
284
21
not_fuzzed_remove_nonasan_configs
=
[
]
if
(
use_fuzzing_engine
)
{
#
Removing
coverage
should
always
just
work
.
-
not_fuzzed_remove_configs
+
=
[
"
/
/
build
/
config
/
coverage
:
default_coverage
"
]
+
not_fuzzed_remove_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
coverage
:
default_coverage
"
]
not_fuzzed_remove_nonasan_configs
+
=
-
[
"
/
/
build
/
config
/
coverage
:
default_coverage
"
]
+
[
"
/
/
chromium
/
build
/
config
/
coverage
:
default_coverage
"
]
if
(
!
is_msan
)
{
#
Allow
sanitizer
instrumentation
to
be
removed
if
we
are
not
using
MSan
#
since
binaries
cannot
be
partially
instrumented
with
MSan
.
not_fuzzed_remove_configs
+
=
-
[
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
+
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
#
Certain
parts
of
binaries
must
be
instrumented
with
ASan
if
the
rest
of
#
the
binary
is
.
For
these
only
remove
non
-
ASan
sanitizer
instrumentation
.
if
(
!
is_asan
)
{
not_fuzzed_remove_nonasan_configs
+
=
-
[
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
+
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
assert
(
not_fuzzed_remove_nonasan_configs
=
=
not_fuzzed_remove_configs
)
}
-
308
8
+
308
8
if
(
use_fuzzing_engine
)
{
#
Options
common
to
different
fuzzer
engines
.
#
Engine
should
be
compiled
without
coverage
(
infinite
loop
in
trace_cmp
)
.
fuzzing_engine_remove_configs
=
[
-
"
/
/
build
/
config
/
coverage
:
default_coverage
"
-
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
+
"
/
/
chromium
/
build
/
config
/
coverage
:
default_coverage
"
+
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags
"
]
#
Add
any
sanitizer
flags
back
.
In
MSAN
builds
instrumenting
libfuzzer
with
-
322
4
+
322
4
fuzzing_engine_remove_configs
=
[
#
expecting
one
particular
ABI
(
https
:
/
/
crbug
.
com
/
915422
)
.
The
other
sanitizers
#
are
added
back
for
the
same
reason
.
fuzzing_engine_add_configs
=
-
[
"
/
/
build
/
config
/
sanitizers
:
default_sanitizer_flags_but_coverage
"
]
+
[
"
/
/
chromium
/
build
/
config
/
sanitizers
:
default_sanitizer_flags_but_coverage
"
]
diff
-
-
git
a
/
config
/
sysroot
.
gni
b
/
config
/
sysroot
.
gni
index
c7ae6b2c2
.
.
09167b5a6
100644
-
-
-
a
/
config
/
sysroot
.
gni
+
+
+
b
/
config
/
sysroot
.
gni
-
11
7
+
11
7
declare_args
(
)
{
target_sysroot
=
"
"
#
The
path
to
directory
containing
linux
sysroot
images
.
-
target_sysroot_dir
=
"
/
/
build
/
linux
"
+
target_sysroot_dir
=
"
/
/
chromium
/
build
/
linux
"
#
The
path
of
the
sysroot
for
the
current
toolchain
.
If
empty
default
#
sysroot
is
used
.
-
29
7
+
29
7
if
(
sysroot
=
=
"
"
)
{
target_sysroot
!
=
"
"
)
{
sysroot
=
target_sysroot
}
else
if
(
is_android
)
{
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
#
Android
uses
unified
headers
and
thus
a
single
compile
time
sysroot
sysroot
=
"
android_toolchain_root
/
sysroot
"
-
60
16
+
60
16
if
(
sysroot
=
=
"
"
)
{
_script_arch
=
"
amd64
"
}
#
assert
(
-
#
exec_script
(
"
/
/
build
/
dir_exists
.
py
"
+
#
exec_script
(
"
/
/
chromium
/
build
/
dir_exists
.
py
"
#
[
rebase_path
(
sysroot
)
]
#
"
string
"
)
=
=
"
True
"
#
"
Missing
sysroot
(
sysroot
)
.
To
fix
run
:
build
/
linux
/
sysroot_scripts
/
install
-
sysroot
.
py
-
-
arch
=
_script_arch
"
)
}
}
else
if
(
is_mac
)
{
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
sysroot
=
mac_sdk_path
}
else
if
(
is_ios
)
{
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
sysroot
=
ios_sdk_path
}
else
if
(
is_fuchsia
)
{
if
(
current_cpu
=
=
"
arm64
"
|
|
current_cpu
=
=
"
x64
"
)
{
diff
-
-
git
a
/
config
/
ui
.
gni
b
/
config
/
ui
.
gni
index
b62dfa56d
.
.
b29d7c2db
100644
-
-
-
a
/
config
/
ui
.
gni
+
+
+
b
/
config
/
ui
.
gni
-
17
10
+
17
10
#
There
is
more
advice
on
where
to
put
build
flags
in
the
"
Build
flag
"
section
#
of
/
/
build
/
config
/
BUILDCONFIG
.
gn
.
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
args
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ozone
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
args
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ozone
.
gni
"
)
declare_args
(
)
{
#
Indicates
if
Aura
is
enabled
.
Aura
is
a
low
-
level
windowing
library
sort
diff
-
-
git
a
/
config
/
v8_target_cpu
.
gni
b
/
config
/
v8_target_cpu
.
gni
index
6c41226a6
.
.
cc165effb
100644
-
-
-
a
/
config
/
v8_target_cpu
.
gni
+
+
+
b
/
config
/
v8_target_cpu
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
declare_args
(
)
{
#
This
arg
is
used
when
we
want
to
tell
the
JIT
-
generating
v8
code
-
34
18
+
34
18
declare_args
(
)
{
}
if
(
v8_target_cpu
=
=
"
"
)
{
-
if
(
current_toolchain
=
=
"
/
/
build
/
toolchain
/
linux
:
clang_x64_v8_arm64
"
)
{
+
if
(
current_toolchain
=
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_x64_v8_arm64
"
)
{
v8_target_cpu
=
"
arm64
"
-
}
else
if
(
current_toolchain
=
=
"
/
/
build
/
toolchain
/
linux
:
clang_x86_v8_arm
"
)
{
+
}
else
if
(
current_toolchain
=
=
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_x86_v8_arm
"
)
{
v8_target_cpu
=
"
arm
"
}
else
if
(
current_toolchain
=
=
-
"
/
/
build
/
toolchain
/
linux
:
clang_x86_v8_mips64el
"
)
{
+
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_x86_v8_mips64el
"
)
{
v8_target_cpu
=
"
mips64el
"
}
else
if
(
current_toolchain
=
=
-
"
/
/
build
/
toolchain
/
linux
:
clang_x86_v8_mipsel
"
)
{
+
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_x86_v8_mipsel
"
)
{
v8_target_cpu
=
"
mipsel
"
}
else
if
(
current_toolchain
=
=
-
"
/
/
build
/
toolchain
/
linux
:
clang_x64_v8_riscv64
"
)
{
+
"
/
/
chromium
/
build
/
toolchain
/
linux
:
clang_x64_v8_riscv64
"
)
{
v8_target_cpu
=
"
riscv64
"
}
else
if
(
is_msan
)
{
#
If
we
'
re
running
under
a
sanitizer
if
we
configure
v8
to
generate
diff
-
-
git
a
/
config
/
win
/
BUILD
.
gn
b
/
config
/
win
/
BUILD
.
gn
index
9600e2bac
.
.
9f6ff38d1
100644
-
-
-
a
/
config
/
win
/
BUILD
.
gn
+
+
+
b
/
config
/
win
/
BUILD
.
gn
-
2
16
+
2
16
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
win
/
control_flow_guard
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
-
import
(
"
/
/
build
/
timestamp
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
control_flow_guard
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
timestamp
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
assert
(
is_win
)
-
131
7
+
131
7
config
(
"
compiler
"
)
{
cflags
+
=
[
"
-
msse3
"
]
}
-
if
(
exec_script
(
"
/
/
build
/
win
/
use_ansi_codes
.
py
"
[
]
"
trim
string
"
)
=
=
+
if
(
exec_script
(
"
/
/
chromium
/
build
/
win
/
use_ansi_codes
.
py
"
[
]
"
trim
string
"
)
=
=
"
True
"
)
{
cflags
+
=
[
#
cmd
.
exe
doesn
'
t
understand
ANSI
escape
codes
by
default
diff
-
-
git
a
/
config
/
win
/
console_app
.
gni
b
/
config
/
win
/
console_app
.
gni
index
038801e9f
.
.
5264410f1
100644
-
-
-
a
/
config
/
win
/
console_app
.
gni
+
+
+
b
/
config
/
win
/
console_app
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
declare_args
(
)
{
#
If
true
builds
as
a
console
app
(
rather
than
a
windowed
app
)
which
allows
diff
-
-
git
a
/
config
/
win
/
control_flow_guard
.
gni
b
/
config
/
win
/
control_flow_guard
.
gni
index
176947f7f
.
.
76f082332
100644
-
-
-
a
/
config
/
win
/
control_flow_guard
.
gni
+
+
+
b
/
config
/
win
/
control_flow_guard
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
declare_args
(
)
{
#
Set
this
to
true
to
enable
generation
of
CFG
indirect
call
dispatch
diff
-
-
git
a
/
config
/
win
/
manifest
.
gni
b
/
config
/
win
/
manifest
.
gni
index
e1859eacd
.
.
05e8a1a9a
100644
-
-
-
a
/
config
/
win
/
manifest
.
gni
+
+
+
b
/
config
/
win
/
manifest
.
gni
-
26
26
+
26
26
#
Reference
this
manifest
as
a
source
from
windows_manifest
targets
to
get
#
the
default
Chrome
OS
compatibility
list
.
-
default_compatibility_manifest
=
"
/
/
build
/
win
/
compatibility
.
manifest
"
+
default_compatibility_manifest
=
"
/
/
chromium
/
build
/
win
/
compatibility
.
manifest
"
#
Reference
this
manifest
as
a
source
from
windows_manifest
targets
to
get
#
the
default
Chrome
common
constrols
compatibility
.
-
common_controls_manifest
=
"
/
/
build
/
win
/
common_controls
.
manifest
"
+
common_controls_manifest
=
"
/
/
chromium
/
build
/
win
/
common_controls
.
manifest
"
#
Reference
this
manifest
to
request
that
Windows
not
perform
any
elevation
#
when
running
your
program
.
Otherwise
it
might
do
some
autodetection
and
#
request
elevated
privileges
from
the
user
.
This
is
normally
what
you
want
.
-
as_invoker_manifest
=
"
/
/
build
/
win
/
as_invoker
.
manifest
"
+
as_invoker_manifest
=
"
/
/
chromium
/
build
/
win
/
as_invoker
.
manifest
"
#
An
alternative
to
as_invoker_manifest
when
you
want
the
application
to
always
#
elevate
.
-
require_administrator_manifest
=
"
/
/
build
/
win
/
require_administrator
.
manifest
"
+
require_administrator_manifest
=
"
/
/
chromium
/
build
/
win
/
require_administrator
.
manifest
"
#
Request
the
segment
heap
.
See
https
:
/
/
crbug
.
com
/
1014701
for
details
.
declare_args
(
)
{
enable_segment_heap
=
false
}
-
segment_heap_manifest
=
"
/
/
build
/
win
/
segment_heap
.
manifest
"
+
segment_heap_manifest
=
"
/
/
chromium
/
build
/
win
/
segment_heap
.
manifest
"
#
Construct
a
target
to
combine
the
given
manifest
files
into
a
.
rc
file
.
#
diff
-
-
git
a
/
config
/
zip
.
gni
b
/
config
/
zip
.
gni
index
d623a0d0a
.
.
679a0d536
100644
-
-
-
a
/
config
/
zip
.
gni
+
+
+
b
/
config
/
zip
.
gni
-
29
7
+
29
7
template
(
"
zip
"
)
{
"
testonly
"
"
visibility
"
]
)
-
script
=
"
/
/
build
/
android
/
gyp
/
zip
.
py
"
+
script
=
"
/
/
chromium
/
build
/
android
/
gyp
/
zip
.
py
"
inputs
=
invoker
.
inputs
outputs
=
[
invoker
.
output
]
diff
-
-
git
a
/
config
/
zos
/
BUILD
.
gn
b
/
config
/
zos
/
BUILD
.
gn
index
082ac1d38
.
.
1aa49e2ff
100644
-
-
-
a
/
config
/
zos
/
BUILD
.
gn
+
+
+
b
/
config
/
zos
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
This
is
included
by
reference
in
the
/
/
build
/
config
/
compiler
config
that
#
is
applied
to
all
targets
.
It
is
here
to
separate
out
the
logic
.
diff
-
-
git
a
/
dotfile_settings
.
gni
b
/
dotfile_settings
.
gni
index
94b4fb0ab
.
.
59a0b5f6b
100644
-
-
-
a
/
dotfile_settings
.
gni
+
+
+
b
/
dotfile_settings
.
gni
-
7
37
+
7
37
build_dotfile_settings
=
{
exec_script_whitelist
=
[
-
"
/
/
build
/
config
/
android
/
rules
.
gni
"
-
"
/
/
build
/
config
/
chromeos
/
rules
.
gni
"
-
"
/
/
build
/
config
/
compiler
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
compiler
/
pgo
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
gcc
/
gcc_version
.
gni
"
-
"
/
/
build
/
config
/
host_byteorder
.
gni
"
-
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
-
"
/
/
build
/
config
/
ios
/
rules
.
gni
"
-
"
/
/
build
/
config
/
linux
/
atk
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
linux
/
atspi2
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
linux
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
linux
/
dri
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
-
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
-
"
/
/
build
/
config
/
mac
/
rules
.
gni
"
-
"
/
/
build
/
config
/
posix
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
rust
.
gni
"
-
"
/
/
build
/
config
/
sysroot
.
gni
"
-
"
/
/
build
/
config
/
win
/
BUILD
.
gn
"
-
"
/
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
-
"
/
/
build
/
rust
/
analyze
.
gni
"
-
"
/
/
build
/
timestamp
.
gni
"
-
"
/
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
-
"
/
/
build
/
toolchain
/
BUILD
.
gn
"
-
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
-
"
/
/
build
/
toolchain
/
goma
.
gni
"
-
"
/
/
build
/
toolchain
/
nacl
/
BUILD
.
gn
"
-
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
-
"
/
/
build
/
toolchain
/
win
/
BUILD
.
gn
"
-
"
/
/
build
/
toolchain
/
win
/
toolchain
.
gni
"
-
"
/
/
build
/
toolchain
/
zos
/
BUILD
.
gn
"
-
"
/
/
build
/
util
/
branding
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
android
/
rules
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
chromeos
/
rules
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
compiler
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
compiler
/
pgo
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
gcc
/
gcc_version
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
host_byteorder
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
ios
/
rules
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
linux
/
atk
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
linux
/
atspi2
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
linux
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
linux
/
dri
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
mac
/
rules
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
posix
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
+
"
/
/
chromium
/
build
/
config
/
win
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
+
"
/
/
chromium
/
build
/
rust
/
analyze
.
gni
"
+
"
/
/
chromium
/
build
/
timestamp
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
nacl
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
win
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
toolchain
/
win
/
toolchain
.
gni
"
+
"
/
/
chromium
/
build
/
toolchain
/
zos
/
BUILD
.
gn
"
+
"
/
/
chromium
/
build
/
util
/
branding
.
gni
"
]
}
diff
-
-
git
a
/
fuchsia
/
DIR_METADATA
b
/
fuchsia
/
DIR_METADATA
index
210aa6a95
.
.
ddd134a2b
100644
-
-
-
a
/
fuchsia
/
DIR_METADATA
+
+
+
b
/
fuchsia
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
fuchsia
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
fuchsia
/
COMMON_METADATA
"
diff
-
-
git
a
/
fuchsia
/
cipd
/
BUILD
.
gn
b
/
fuchsia
/
cipd
/
BUILD
.
gn
index
0019b8645
.
.
21dee7f28
100644
-
-
-
a
/
fuchsia
/
cipd
/
BUILD
.
gn
+
+
+
b
/
fuchsia
/
cipd
/
BUILD
.
gn
-
6
9
+
6
9
assert
(
is_fuchsia
)
-
import
(
"
/
/
build
/
cipd
/
cipd
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
process_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
cipd
/
cipd
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
process_version
.
gni
"
)
import
(
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
build
/
build_id_dir
.
gni
"
)
import
(
"
/
/
third_party
/
fuchsia
-
sdk
/
sdk
/
build
/
cipd
.
gni
"
)
-
263
7
+
263
7
action
(
"
strip_chromedriver_binary
"
)
{
prog_name
=
"
{
root_out_dir
}
/
clang_x64
/
chromedriver
"
deps
=
[
"
/
/
chrome
/
test
/
chromedriver
:
chromedriver_server
(
host_toolchain
)
"
]
-
script
=
"
/
/
build
/
gn_run_binary
.
py
"
+
script
=
"
/
/
chromium
/
build
/
gn_run_binary
.
py
"
sources
=
[
"
/
/
buildtools
/
third_party
/
eu
-
strip
/
bin
/
eu
-
strip
"
prog_name
diff
-
-
git
a
/
fuchsia
/
cipd
/
DIR_METADATA
b
/
fuchsia
/
cipd
/
DIR_METADATA
index
210aa6a95
.
.
ddd134a2b
100644
-
-
-
a
/
fuchsia
/
cipd
/
DIR_METADATA
+
+
+
b
/
fuchsia
/
cipd
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
fuchsia
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
fuchsia
/
COMMON_METADATA
"
diff
-
-
git
a
/
fuchsia
/
test
/
run_pytype
.
py
b
/
fuchsia
/
test
/
run_pytype
.
py
index
8e603313c
.
.
c7c3f873f
100755
-
-
-
a
/
fuchsia
/
test
/
run_pytype
.
py
+
+
+
b
/
fuchsia
/
test
/
run_pytype
.
py
-
27
7
+
27
7
FILES_AND_DIRECTORIES_TO_CHECK
=
[
os
.
path
.
join
(
FUCHSIA_TEST_DIR
f
)
for
f
in
COVERED_FILES
]
TEST_NAME
=
'
fuchsia_pytype
'
-
TEST_LOCATION
=
"
/
/
build
/
fuchsia
/
test
/
run_pytype
.
py
"
+
TEST_LOCATION
=
"
/
/
chromium
/
build
/
fuchsia
/
test
/
run_pytype
.
py
"
def
main
(
)
-
>
int
:
diff
-
-
git
a
/
gn_logs
.
gni
b
/
gn_logs
.
gni
index
495f38658
.
.
88fefd761
100644
-
-
-
a
/
gn_logs
.
gni
+
+
+
b
/
gn_logs
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
#
Log
lines
for
gn_logs
.
txt
that
originate
from
within
/
/
build
.
build_gn_logs
=
[
"
#
#
#
#
get_concurrent_links
.
py
#
#
#
#
"
]
+
concurrent_links_logs
diff
-
-
git
a
/
ios
/
intent_definition
.
gni
b
/
ios
/
intent_definition
.
gni
index
29f859cbd
.
.
89c217e20
100644
-
-
-
a
/
ios
/
intent_definition
.
gni
+
+
+
b
/
ios
/
intent_definition
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
#
Template
to
compile
an
.
intentdefinition
file
.
#
-
34
7
+
34
7
template
(
"
intent_definition
"
)
{
"
target_gen_dir
/
"
+
get_path_info
(
invoker
.
intent_file
"
file
"
)
action
(
_compile_intent_target
)
{
-
script
=
"
/
/
build
/
apple
/
xcrun
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
xcrun
.
py
"
inputs
=
[
invoker
.
intent_file
]
outputs
=
[
_compile_intent_output
]
args
=
[
-
71
7
+
71
7
template
(
"
intent_definition
"
)
{
}
action
(
_generate_source_target
)
{
-
script
=
"
/
/
build
/
apple
/
xcrun
.
py
"
+
script
=
"
/
/
chromium
/
build
/
apple
/
xcrun
.
py
"
inputs
=
[
invoker
.
intent_file
]
outputs
=
_generate_source_output
args
=
[
-
111
7
+
111
7
template
(
"
intent_definition
"
)
{
}
sources
=
_generate_source_output
-
configs
+
=
[
"
/
/
build
/
config
/
compiler
:
enable_arc
"
]
+
configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
enable_arc
"
]
deps
+
=
[
"
:
_compile_intent_bundle
"
"
:
_generate_source_target
"
diff
-
-
git
a
/
lacros
/
BUILD
.
gn
b
/
lacros
/
BUILD
.
gn
index
0a9389146
.
.
e76639749
100644
-
-
-
a
/
lacros
/
BUILD
.
gn
+
+
+
b
/
lacros
/
BUILD
.
gn
-
2
14
+
2
14
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
-
import
(
"
/
/
build
/
util
/
process_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
process_version
.
gni
"
)
python_library
(
"
lacros_resource_sizes_py
"
)
{
pydeps_file
=
"
lacros_resource_sizes
.
pydeps
"
data
=
[
"
/
/
buildtools
/
third_party
/
eu
-
strip
/
bin
/
eu
-
strip
"
]
data_deps
=
[
-
"
/
/
build
/
util
:
test_results
"
+
"
/
/
chromium
/
build
/
util
:
test_results
"
"
/
/
third_party
/
catapult
/
tracing
:
convert_chart_json
"
]
}
diff
-
-
git
a
/
lacros
/
lacros_resource_sizes
.
gni
b
/
lacros
/
lacros_resource_sizes
.
gni
index
7d1e91965
.
.
1313ae0ae
100644
-
-
-
a
/
lacros
/
lacros_resource_sizes
.
gni
+
+
+
b
/
lacros
/
lacros_resource_sizes
.
gni
-
2
17
+
2
17
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
util
/
generate_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
gni
"
)
#
Generates
a
script
in
the
bin
directory
that
runs
#
/
/
build
/
lacros
/
lacros_resource_sizes
.
py
for
the
provided
configuration
.
template
(
"
lacros_resource_sizes_test
"
)
{
generate_wrapper
(
target_name
)
{
forward_variables_from
(
invoker
[
"
data_deps
"
]
)
-
executable
=
"
/
/
build
/
lacros
/
lacros_resource_sizes
.
py
"
+
executable
=
"
/
/
chromium
/
build
/
lacros
/
lacros_resource_sizes
.
py
"
wrapper_script
=
"
root_out_dir
/
bin
/
run_
{
target_name
}
"
-
deps
=
[
"
/
/
build
/
lacros
:
lacros_resource_sizes_py
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
lacros
:
lacros_resource_sizes_py
"
]
executable_args
=
[
"
-
-
chromium
-
output
-
directory
"
"
WrappedPath
(
.
)
"
diff
-
-
git
a
/
linux
/
BUILD
.
gn
b
/
linux
/
BUILD
.
gn
index
b298abb70
.
.
892ab1689
100644
-
-
-
a
/
linux
/
BUILD
.
gn
+
+
+
b
/
linux
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
features
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
freetype
/
freetype
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
features
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
freetype
/
freetype
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
if
(
use_gio
)
{
pkg_config
(
"
gio_config
"
)
{
-
23
7
+
23
7
if
(
use_system_freetype
)
{
#
the
system
use
with
caution
for
details
see
build
/
config
/
freetype
/
BUILD
.
gn
.
pkg_config
(
"
freetype_from_pkgconfig
"
)
{
visibility
=
[
-
"
/
/
build
/
config
/
freetype
:
freetype
"
+
"
/
/
chromium
/
build
/
config
/
freetype
:
freetype
"
"
/
/
third_party
:
freetype_harfbuzz
"
"
/
/
third_party
/
harfbuzz
-
ng
:
harfbuzz_source
"
]
diff
-
-
git
a
/
linux
/
extract_symbols
.
gni
b
/
linux
/
extract_symbols
.
gni
index
8fef1312d
.
.
259ab3722
100644
-
-
-
a
/
linux
/
extract_symbols
.
gni
+
+
+
b
/
linux
/
extract_symbols
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
Extracts
symbols
from
a
binary
into
a
symbol
file
using
dump_app_syms
.
py
.
#
-
22
8
+
22
8
template
(
"
extract_symbols
"
)
{
dump_syms_binary
=
get_label_info
(
dump_syms_label
"
root_out_dir
"
)
+
"
/
"
+
"
dump_syms
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
-
script
=
"
/
/
build
/
linux
/
dump_app_syms
.
py
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
script
=
"
/
/
chromium
/
build
/
linux
/
dump_app_syms
.
py
"
inputs
=
[
invoker
.
binary
dump_syms_binary
diff
-
-
git
a
/
linux
/
strip_binary
.
gni
b
/
linux
/
strip_binary
.
gni
index
3675d39a5
.
.
fd4aed705
100644
-
-
-
a
/
linux
/
strip_binary
.
gni
+
+
+
b
/
linux
/
strip_binary
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
#
Extracts
symbols
from
a
binary
into
a
symbol
file
.
#
-
21
7
+
21
7
template
(
"
strip_binary
"
)
{
]
)
action
(
"
{
target_name
}
"
)
{
eu_strip_binary
=
"
/
/
buildtools
/
third_party
/
eu
-
strip
/
bin
/
eu
-
strip
"
-
script
=
"
/
/
build
/
linux
/
strip_binary
.
py
"
+
script
=
"
/
/
chromium
/
build
/
linux
/
strip_binary
.
py
"
if
(
defined
(
invoker
.
stripped_binary_output
)
)
{
stripped_binary_output
=
invoker
.
stripped_binary_output
diff
-
-
git
a
/
linux
/
unbundle
/
absl_algorithm
.
gn
b
/
linux
/
unbundle
/
absl_algorithm
.
gn
index
cc41c6861
.
.
09067ebe9
100644
-
-
-
a
/
linux
/
unbundle
/
absl_algorithm
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_algorithm
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_algorithm_container
"
)
{
packages
=
[
"
absl_algorithm_container
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_base
.
gn
b
/
linux
/
unbundle
/
absl_base
.
gn
index
d83e9786a
.
.
843e12b86
100644
-
-
-
a
/
linux
/
unbundle
/
absl_base
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_base
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_base
"
)
{
packages
=
[
"
absl_base
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_cleanup
.
gn
b
/
linux
/
unbundle
/
absl_cleanup
.
gn
index
61455edf3
.
.
31086cf1d
100644
-
-
-
a
/
linux
/
unbundle
/
absl_cleanup
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_cleanup
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_cleanup
"
)
{
packages
=
[
"
absl_cleanup
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_container
.
gn
b
/
linux
/
unbundle
/
absl_container
.
gn
index
4e9796a83
.
.
525fb5c4f
100644
-
-
-
a
/
linux
/
unbundle
/
absl_container
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_container
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_btree
"
)
{
packages
=
[
"
absl_btree
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_debugging
.
gn
b
/
linux
/
unbundle
/
absl_debugging
.
gn
index
2c38e4357
.
.
4ebe7e008
100644
-
-
-
a
/
linux
/
unbundle
/
absl_debugging
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_debugging
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_failure_signal_handler
"
)
{
packages
=
[
"
absl_failure_signal_handler
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_flags
.
gn
b
/
linux
/
unbundle
/
absl_flags
.
gn
index
e420603fc
.
.
e20e137dc
100644
-
-
-
a
/
linux
/
unbundle
/
absl_flags
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_flags
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_flags
"
)
{
packages
=
[
"
absl_flags
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_functional
.
gn
b
/
linux
/
unbundle
/
absl_functional
.
gn
index
1719587a9
.
.
af7812f14
100644
-
-
-
a
/
linux
/
unbundle
/
absl_functional
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_functional
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_any_invocable
"
)
{
packages
=
[
"
absl_any_invocable
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_hash
.
gn
b
/
linux
/
unbundle
/
absl_hash
.
gn
index
cb07851c8
.
.
066c30d87
100644
-
-
-
a
/
linux
/
unbundle
/
absl_hash
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_hash
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_hash
"
)
{
packages
=
[
"
absl_hash
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_memory
.
gn
b
/
linux
/
unbundle
/
absl_memory
.
gn
index
5d6abe87f
.
.
144e32ec1
100644
-
-
-
a
/
linux
/
unbundle
/
absl_memory
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_memory
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_memory
"
)
{
packages
=
[
"
absl_memory
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_meta
.
gn
b
/
linux
/
unbundle
/
absl_meta
.
gn
index
7f79a06cc
.
.
494d790f3
100644
-
-
-
a
/
linux
/
unbundle
/
absl_meta
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_meta
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_type_traits
"
)
{
packages
=
[
"
absl_type_traits
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_numeric
.
gn
b
/
linux
/
unbundle
/
absl_numeric
.
gn
index
c3688f9f2
.
.
5ff1d2665
100644
-
-
-
a
/
linux
/
unbundle
/
absl_numeric
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_numeric
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_bits
"
)
{
packages
=
[
"
absl_bits
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_random
.
gn
b
/
linux
/
unbundle
/
absl_random
.
gn
index
e52c9fcd9
.
.
cedd0f7a1
100644
-
-
-
a
/
linux
/
unbundle
/
absl_random
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_random
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_random_random
"
)
{
packages
=
[
"
absl_random_random
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_status
.
gn
b
/
linux
/
unbundle
/
absl_status
.
gn
index
b7f40b0bf
.
.
07b23bb98
100644
-
-
-
a
/
linux
/
unbundle
/
absl_status
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_status
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_status
"
)
{
packages
=
[
"
absl_status
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_strings
.
gn
b
/
linux
/
unbundle
/
absl_strings
.
gn
index
f06a19bc1
.
.
e9420483d
100644
-
-
-
a
/
linux
/
unbundle
/
absl_strings
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_strings
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_cord
"
)
{
packages
=
[
"
absl_cord
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_synchronization
.
gn
b
/
linux
/
unbundle
/
absl_synchronization
.
gn
index
60bcf9421
.
.
f01940413
100644
-
-
-
a
/
linux
/
unbundle
/
absl_synchronization
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_synchronization
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_synchronization
"
)
{
packages
=
[
"
absl_synchronization
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_time
.
gn
b
/
linux
/
unbundle
/
absl_time
.
gn
index
df5cd20f4
.
.
a08b728fb
100644
-
-
-
a
/
linux
/
unbundle
/
absl_time
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_time
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_time
"
)
{
packages
=
[
"
absl_time
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_types
.
gn
b
/
linux
/
unbundle
/
absl_types
.
gn
index
4bb77f1b6
.
.
24fa11da8
100644
-
-
-
a
/
linux
/
unbundle
/
absl_types
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_types
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_any
"
)
{
packages
=
[
"
absl_any
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
absl_utility
.
gn
b
/
linux
/
unbundle
/
absl_utility
.
gn
index
8dda6ed01
.
.
813bb153d
100644
-
-
-
a
/
linux
/
unbundle
/
absl_utility
.
gn
+
+
+
b
/
linux
/
unbundle
/
absl_utility
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_absl_utility
"
)
{
packages
=
[
"
absl_utility
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
brotli
.
gn
b
/
linux
/
unbundle
/
brotli
.
gn
index
09f55d1ad
.
.
d91369afa
100644
-
-
-
a
/
linux
/
unbundle
/
brotli
.
gn
+
+
+
b
/
linux
/
unbundle
/
brotli
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_brotli_dec
"
)
{
packages
=
[
"
libbrotlidec
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
crc32c
.
gn
b
/
linux
/
unbundle
/
crc32c
.
gn
index
23f2292d9
.
.
36a7b9d8c
100644
-
-
-
a
/
linux
/
unbundle
/
crc32c
.
gn
+
+
+
b
/
linux
/
unbundle
/
crc32c
.
gn
-
1
4
+
1
4
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
crc32c_shim
"
)
{
root_path
=
"
src
/
include
"
diff
-
-
git
a
/
linux
/
unbundle
/
dav1d
.
gn
b
/
linux
/
unbundle
/
dav1d
.
gn
index
3d65158bc
.
.
d2318c20e
100644
-
-
-
a
/
linux
/
unbundle
/
dav1d
.
gn
+
+
+
b
/
linux
/
unbundle
/
dav1d
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_dav1d
"
)
{
packages
=
[
"
dav1d
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
double
-
conversion
.
gn
b
/
linux
/
unbundle
/
double
-
conversion
.
gn
index
8f970c5a2
.
.
6feda2a2e
100644
-
-
-
a
/
linux
/
unbundle
/
double
-
conversion
.
gn
+
+
+
b
/
linux
/
unbundle
/
double
-
conversion
.
gn
-
1
4
+
1
4
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
double_conversion_shim
"
)
{
root_path
=
"
.
"
diff
-
-
git
a
/
linux
/
unbundle
/
ffmpeg
.
gn
b
/
linux
/
unbundle
/
ffmpeg
.
gn
index
0008275da
.
.
6e1f58a20
100644
-
-
-
a
/
linux
/
unbundle
/
ffmpeg
.
gn
+
+
+
b
/
linux
/
unbundle
/
ffmpeg
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_ffmpeg
"
)
{
packages
=
[
diff
-
-
git
a
/
linux
/
unbundle
/
flac
.
gn
b
/
linux
/
unbundle
/
flac
.
gn
index
ce9a1b377
.
.
6b01855b9
100644
-
-
-
a
/
linux
/
unbundle
/
flac
.
gn
+
+
+
b
/
linux
/
unbundle
/
flac
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_flac
"
)
{
packages
=
[
"
flac
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
icu
.
gn
b
/
linux
/
unbundle
/
icu
.
gn
index
366ffd5a3
.
.
6147de65a
100644
-
-
-
a
/
linux
/
unbundle
/
icu
.
gn
+
+
+
b
/
linux
/
unbundle
/
icu
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
group
(
"
icu
"
)
{
public_deps
=
[
diff
-
-
git
a
/
linux
/
unbundle
/
jsoncpp
.
gn
b
/
linux
/
unbundle
/
jsoncpp
.
gn
index
e84a0ef27
.
.
f29647607
100644
-
-
-
a
/
linux
/
unbundle
/
jsoncpp
.
gn
+
+
+
b
/
linux
/
unbundle
/
jsoncpp
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
jsoncpp_config
"
)
{
packages
=
[
"
jsoncpp
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libXNVCtrl
.
gn
b
/
linux
/
unbundle
/
libXNVCtrl
.
gn
index
0e1265b8c
.
.
befa168c6
100644
-
-
-
a
/
linux
/
unbundle
/
libXNVCtrl
.
gn
+
+
+
b
/
linux
/
unbundle
/
libXNVCtrl
.
gn
-
1
4
+
1
4
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
libXNVCtrl_shim
"
)
{
root_path
=
"
.
.
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
libXNVCtrl
"
diff
-
-
git
a
/
linux
/
unbundle
/
libaom
.
gn
b
/
linux
/
unbundle
/
libaom
.
gn
index
dab8dfaba
.
.
e5420d6e9
100644
-
-
-
a
/
linux
/
unbundle
/
libaom
.
gn
+
+
+
b
/
linux
/
unbundle
/
libaom
.
gn
-
1
6
+
1
6
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
import
(
"
/
/
third_party
/
libaom
/
options
.
gni
"
)
buildflag_header
(
"
libaom_buildflags
"
)
{
diff
-
-
git
a
/
linux
/
unbundle
/
libavif
.
gn
b
/
linux
/
unbundle
/
libavif
.
gn
index
c79f95ba4
.
.
d81db3d8f
100644
-
-
-
a
/
linux
/
unbundle
/
libavif
.
gn
+
+
+
b
/
linux
/
unbundle
/
libavif
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_libavif
"
)
{
packages
=
[
"
libavif
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libdrm
.
gn
b
/
linux
/
unbundle
/
libdrm
.
gn
index
d461b8ca5
.
.
1bd6e85c8
100644
-
-
-
a
/
linux
/
unbundle
/
libdrm
.
gn
+
+
+
b
/
linux
/
unbundle
/
libdrm
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_libdrm
"
)
{
packages
=
[
"
libdrm
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libevent
.
gn
b
/
linux
/
unbundle
/
libevent
.
gn
index
2eb6d0223
.
.
00fc9e6ac
100644
-
-
-
a
/
linux
/
unbundle
/
libevent
.
gn
+
+
+
b
/
linux
/
unbundle
/
libevent
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
libevent_shim
"
)
{
root_path
=
"
.
"
diff
-
-
git
a
/
linux
/
unbundle
/
libpng
.
gn
b
/
linux
/
unbundle
/
libpng
.
gn
index
91e0ee45d
.
.
16e54b545
100644
-
-
-
a
/
linux
/
unbundle
/
libpng
.
gn
+
+
+
b
/
linux
/
unbundle
/
libpng
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
libpng_config
"
)
{
packages
=
[
"
libpng
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libvpx
.
gn
b
/
linux
/
unbundle
/
libvpx
.
gn
index
8b7bb5e7c
.
.
d22d20204
100644
-
-
-
a
/
linux
/
unbundle
/
libvpx
.
gn
+
+
+
b
/
linux
/
unbundle
/
libvpx
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_libvpx
"
)
{
packages
=
[
"
vpx
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libwebp
.
gn
b
/
linux
/
unbundle
/
libwebp
.
gn
index
708cc9c2b
.
.
3876260a4
100644
-
-
-
a
/
linux
/
unbundle
/
libwebp
.
gn
+
+
+
b
/
linux
/
unbundle
/
libwebp
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_libwebp
"
)
{
packages
=
[
diff
-
-
git
a
/
linux
/
unbundle
/
libxml
.
gn
b
/
linux
/
unbundle
/
libxml
.
gn
index
8567c154f
.
.
0f8d9adb6
100644
-
-
-
a
/
linux
/
unbundle
/
libxml
.
gn
+
+
+
b
/
linux
/
unbundle
/
libxml
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
pkg_config
(
"
system_libxml
"
)
{
packages
=
[
"
libxml
-
2
.
0
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libxslt
.
gn
b
/
linux
/
unbundle
/
libxslt
.
gn
index
787796063
.
.
3702f227a
100644
-
-
-
a
/
linux
/
unbundle
/
libxslt
.
gn
+
+
+
b
/
linux
/
unbundle
/
libxslt
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
pkg_config
(
"
system_libxslt
"
)
{
packages
=
[
"
libxslt
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
libyuv
.
gn
b
/
linux
/
unbundle
/
libyuv
.
gn
index
a3363e45e
.
.
698863dd0
100644
-
-
-
a
/
linux
/
unbundle
/
libyuv
.
gn
+
+
+
b
/
linux
/
unbundle
/
libyuv
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_yuv
"
)
{
packages
=
[
"
libyuv
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
openh264
.
gn
b
/
linux
/
unbundle
/
openh264
.
gn
index
f4abd9b5f
.
.
afd260160
100644
-
-
-
a
/
linux
/
unbundle
/
openh264
.
gn
+
+
+
b
/
linux
/
unbundle
/
openh264
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
config
"
)
{
packages
=
[
"
openh264
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
opus
.
gn
b
/
linux
/
unbundle
/
opus
.
gn
index
b1a199a53
.
.
81dc4d09d
100644
-
-
-
a
/
linux
/
unbundle
/
opus
.
gn
+
+
+
b
/
linux
/
unbundle
/
opus
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
opus_config
"
)
{
packages
=
[
"
opus
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
re2
.
gn
b
/
linux
/
unbundle
/
re2
.
gn
index
d8e4d79b1
.
.
114256b40
100644
-
-
-
a
/
linux
/
unbundle
/
re2
.
gn
+
+
+
b
/
linux
/
unbundle
/
re2
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
assert
(
!
use_custom_libcxx
"
Usage
of
the
system
libre2
.
so
is
not
supported
with
"
+
diff
-
-
git
a
/
linux
/
unbundle
/
snappy
.
gn
b
/
linux
/
unbundle
/
snappy
.
gn
index
dea0b5543
.
.
e8087d118
100644
-
-
-
a
/
linux
/
unbundle
/
snappy
.
gn
+
+
+
b
/
linux
/
unbundle
/
snappy
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
snappy_shim
"
)
{
root_path
=
"
src
"
diff
-
-
git
a
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Headers
.
gn
b
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Headers
.
gn
index
24f79de1e
.
.
b002abd6e
100644
-
-
-
a
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Headers
.
gn
+
+
+
b
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Headers
.
gn
-
1
4
+
1
4
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
SPIRV
-
Headers_shim
"
)
{
root_path
=
"
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
SPIRV
-
Headers
/
include
"
diff
-
-
git
a
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Tools
.
gn
b
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Tools
.
gn
index
eb9d9224e
.
.
e79807cfd
100644
-
-
-
a
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Tools
.
gn
+
+
+
b
/
linux
/
unbundle
/
swiftshader
-
SPIRV
-
Tools
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_SPIRV
-
Tools
"
)
{
packages
=
[
"
SPIRV
-
Tools
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Headers
.
gn
b
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Headers
.
gn
index
eb2495ce2
.
.
0d5e2f2f5
100644
-
-
-
a
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Headers
.
gn
+
+
+
b
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Headers
.
gn
-
1
6
+
1
6
#
This
shim
can
only
be
used
if
you
build
Chromium
without
DAWN
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
vulkan
-
SPIRV
-
Headers_shim
"
)
{
root_path
=
"
include
"
diff
-
-
git
a
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Tools
.
gn
b
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Tools
.
gn
index
a65c64c61
.
.
30bfbf539
100644
-
-
-
a
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Tools
.
gn
+
+
+
b
/
linux
/
unbundle
/
vulkan
-
SPIRV
-
Tools
.
gn
-
1
7
+
1
7
#
This
shim
can
only
be
used
if
you
build
Chromium
without
DAWN
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
spvtools_internal_config
"
)
{
packages
=
[
"
SPIRV
-
Tools
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
woff2
.
gn
b
/
linux
/
unbundle
/
woff2
.
gn
index
e7bae10fd
.
.
984719498
100644
-
-
-
a
/
linux
/
unbundle
/
woff2
.
gn
+
+
+
b
/
linux
/
unbundle
/
woff2
.
gn
-
1
5
+
1
5
-
import
(
"
/
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
linux
/
pkg_config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
pkg_config
(
"
system_woff2
"
)
{
packages
=
[
"
libwoff2dec
"
]
diff
-
-
git
a
/
linux
/
unbundle
/
zlib
.
gn
b
/
linux
/
unbundle
/
zlib
.
gn
index
2019a4064
.
.
7a1daf2bc
100644
-
-
-
a
/
linux
/
unbundle
/
zlib
.
gn
+
+
+
b
/
linux
/
unbundle
/
zlib
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
shim_headers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
shim_headers
.
gni
"
)
shim_headers
(
"
zlib_shim
"
)
{
root_path
=
"
.
"
diff
-
-
git
a
/
nocompile
.
gni
b
/
nocompile
.
gni
index
942ad9ece
.
.
36740ebb5
100644
-
-
-
a
/
nocompile
.
gni
+
+
+
b
/
nocompile
.
gni
-
11
7
+
11
7
#
#
To
use
this
create
a
gyp
target
with
the
following
form
:
#
-
#
import
(
"
/
/
build
/
nocompile
.
gni
"
)
+
#
import
(
"
/
/
chromium
/
build
/
nocompile
.
gni
"
)
#
nocompile_test
(
"
my_module_nc_unittests
"
)
{
#
sources
=
[
#
'
nc_testset_1
.
nc
'
-
58
13
+
58
13
#
something
goes
wrong
and
know
during
the
unittest
run
that
the
test
was
at
#
least
processed
when
things
go
right
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
testing
/
test
.
gni
"
)
if
(
is_mac
)
{
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
}
declare_args
(
)
{
-
74
8
+
74
8
declare_args
(
)
{
}
if
(
enable_nocompile_tests
)
{
-
import
(
"
/
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
c
+
+
/
c
+
+
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
template
(
"
nocompile_test
"
)
{
nocompile_target
=
target_name
+
"
_run_nocompile
"
diff
-
-
git
a
/
partitioned_shared_library
.
gni
b
/
partitioned_shared_library
.
gni
index
2af4f9e93
.
.
2134f5361
100644
-
-
-
a
/
partitioned_shared_library
.
gni
+
+
+
b
/
partitioned_shared_library
.
gni
-
3
9
+
3
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
#
This
template
creates
a
set
of
shared
libraries
by
linking
a
single
#
"
partitioned
"
shared
library
then
splitting
it
into
multiple
pieces
.
-
74
7
+
74
7
template
(
"
partitioned_shared_library
"
)
{
template
(
"
partition_action
"
)
{
action
(
target_name
)
{
deps
=
[
"
:
_combined_library_target
"
]
-
script
=
"
/
/
build
/
extract_partition
.
py
"
+
script
=
"
/
/
chromium
/
build
/
extract_partition
.
py
"
sources
=
[
"
root_out_dir
/
lib
.
unstripped
/
lib
{
_output_name
}
__combined
.
so
"
]
outputs
=
[
diff
-
-
git
a
/
private_code_test
/
BUILD
.
gn
b
/
private_code_test
/
BUILD
.
gn
index
3fb0a0d92
.
.
6bc94b88e
100644
-
-
-
a
/
private_code_test
/
BUILD
.
gn
+
+
+
b
/
private_code_test
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
python
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
python
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
import
(
"
private_code_test
.
gni
"
)
diff
-
-
git
a
/
private_code_test
/
private_code_test
.
gni
b
/
private_code_test
/
private_code_test
.
gni
index
e52b150d4
.
.
92da6a7ca
100644
-
-
-
a
/
private_code_test
/
private_code_test
.
gni
+
+
+
b
/
private_code_test
/
private_code_test
.
gni
-
11
7
+
11
7
template
(
"
private_code_test
"
)
{
"
data
"
"
data_deps
"
]
)
-
script
=
"
/
/
build
/
private_code_test
/
private_code_test
.
py
"
+
script
=
"
/
/
chromium
/
build
/
private_code_test
/
private_code_test
.
py
"
_linker_inputs_dep
=
invoker
.
linker_inputs_dep
if
(
is_android
)
{
_so_name
=
"
lib
"
+
get_label_info
(
_linker_inputs_dep
"
name
"
)
-
26
7
+
26
7
template
(
"
private_code_test
"
)
{
_private_paths_file
=
invoker
.
private_paths_file
}
else
{
_private_paths_dep
=
-
"
/
/
build
/
private_code_test
:
private_paths
(
default_toolchain
)
"
+
"
/
/
chromium
/
build
/
private_code_test
:
private_paths
(
default_toolchain
)
"
_private_paths_file
=
get_label_info
(
_private_paths_dep
"
target_gen_dir
"
)
+
"
/
private_paths
.
txt
"
diff
-
-
git
a
/
rust
/
BUILD
.
gn
b
/
rust
/
BUILD
.
gn
index
b6ad5f193
.
.
d66463790
100644
-
-
-
a
/
rust
/
BUILD
.
gn
+
+
+
b
/
rust
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
buildflag_header
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
buildflag_header
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
buildflag_header
(
"
rust_buildflags
"
)
{
header
=
"
rust_buildflags
.
h
"
-
48
7
+
48
7
if
(
toolchain_has_rust
)
{
#
the
Rust
stdlib
explicitly
.
deps
=
[
"
:
cxx_rustdeps
"
-
"
/
/
build
/
rust
/
std
"
+
"
/
/
chromium
/
build
/
rust
/
std
"
]
}
diff
-
-
git
a
/
rust
/
analyze
.
gni
b
/
rust
/
analyze
.
gni
index
30784ca6c
.
.
c31ebd734
100644
-
-
-
a
/
rust
/
analyze
.
gni
+
+
+
b
/
rust
/
analyze
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
compute_inputs_for_analyze
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compute_inputs_for_analyze
.
gni
"
)
if
(
compute_inputs_for_analyze
)
{
template
(
"
analyze_rust
"
)
{
-
22
7
+
22
7
if
(
compute_inputs_for_analyze
)
{
]
)
forward_variables_from
(
invoker
[
"
testonly
"
]
)
-
script
=
"
/
/
build
/
rust
/
collect_rust_sources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
rust
/
collect_rust_sources
.
py
"
depfile
=
"
{
target_gen_dir
}
/
{
target_name
}
.
verify
.
d
"
outputs
=
[
depfile
]
-
59
14
+
59
14
if
(
compute_inputs_for_analyze
)
{
#
Here
we
read
the
depfile
from
gn
gen
when
doing
gn
analyze
and
#
add
all
the
rust
files
in
the
crate
to
inputs
.
This
ensures
that
#
analyze
considers
them
as
affecting
tests
that
depend
on
the
crate
.
-
rust_srcs
=
exec_script
(
"
/
/
build
/
rust
/
collect_rust_sources
.
py
"
+
rust_srcs
=
exec_script
(
"
/
/
chromium
/
build
/
rust
/
collect_rust_sources
.
py
"
[
"
-
-
read
-
depfile
"
]
+
depfile_path
"
list
lines
"
)
inputs
=
[
]
foreach
(
s
rust_srcs
)
{
inputs
+
=
[
rebase_path
(
s
"
/
/
"
root_build_dir
)
]
}
-
script
=
"
/
/
build
/
rust
/
collect_rust_sources
.
py
"
+
script
=
"
/
/
chromium
/
build
/
rust
/
collect_rust_sources
.
py
"
args
=
[
"
-
-
stamp
"
rebase_path
(
"
{
target_gen_dir
}
/
{
target_name
}
.
verify
.
stamp
"
diff
-
-
git
a
/
rust
/
cargo_crate
.
gni
b
/
rust
/
cargo_crate
.
gni
index
ef3062641
.
.
a6d824efd
100644
-
-
-
a
/
rust
/
cargo_crate
.
gni
+
+
+
b
/
rust
/
cargo_crate
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_target
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_target
.
gni
"
)
#
This
template
allows
for
building
Cargo
crates
within
gn
.
#
-
242
7
+
242
7
template
(
"
cargo_crate
"
)
{
if
(
defined
(
invoker
.
build_root
)
)
{
#
Extra
targets
required
to
make
build
script
work
action
(
"
{
build_script_name
}
_output
"
)
{
-
script
=
rebase_path
(
"
/
/
build
/
rust
/
run_build_script
.
py
"
)
+
script
=
rebase_path
(
"
/
/
chromium
/
build
/
rust
/
run_build_script
.
py
"
)
build_script_target
=
"
:
{
build_script_name
}
(
host_toolchain_no_sanitizers
)
"
deps
=
[
build_script_target
]
-
312
8
+
312
8
template
(
"
cargo_crate
"
)
{
"
edition
"
"
rustflags
"
]
)
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
}
}
else
{
not_needed
(
invoker
diff
-
-
git
a
/
rust
/
clanglibs
/
BUILD
.
gn
b
/
rust
/
clanglibs
/
BUILD
.
gn
index
a80b29cc8
.
.
9f6a46498
100644
-
-
-
a
/
rust
/
clanglibs
/
BUILD
.
gn
+
+
+
b
/
rust
/
clanglibs
/
BUILD
.
gn
-
7
7
+
7
7
#
the
conceptual
"
libclang
"
but
there
are
quite
a
few
such
libraries
.
#
This
script
enumerates
them
.
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
_clang_libs_dir
=
"
/
/
third_party
/
llvm
-
build
/
Release
+
Asserts
/
lib
"
diff
-
-
git
a
/
rust
/
rs_bindings_from_cc
.
gni
b
/
rust
/
rs_bindings_from_cc
.
gni
index
9bd08cff8
.
.
5f83fc201
100644
-
-
-
a
/
rust
/
rs_bindings_from_cc
.
gni
+
+
+
b
/
rust
/
rs_bindings_from_cc
.
gni
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
mixed_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
mixed_static_library
.
gni
"
)
#
Template
to
generate
and
build
Rust
bindings
for
a
set
of
C
+
+
headers
using
#
Crubit
'
s
rs_bindings_from_cc
tool
.
-
55
8
+
55
8
import
(
"
/
/
build
/
rust
/
mixed_static_library
.
gni
"
)
#
Usage
example
:
#
#
BUILD
.
gn
:
-
#
import
(
"
/
/
build
/
rust
/
rs_bindings_from_cc
.
gni
"
)
-
#
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
+
#
import
(
"
/
/
chromium
/
build
/
rust
/
rs_bindings_from_cc
.
gni
"
)
+
#
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
#
#
rust_executable
(
"
my_target
"
)
{
#
crate_root
=
"
main
.
rs
"
-
247
7
+
247
7
template
(
"
rs_bindings_from_cc
"
)
{
visibility
=
_visibility
}
-
script
=
"
/
/
build
/
rust
/
run_rs_bindings_from_cc
.
py
"
+
script
=
"
/
/
chromium
/
build
/
rust
/
run_rs_bindings_from_cc
.
py
"
inputs
=
[
"
/
/
third_party
/
rust
-
toolchain
/
bin
/
rs_bindings_from_cc
"
]
sources
=
invoker
.
public_headers
outputs
=
[
diff
-
-
git
a
/
rust
/
rust_bindgen
.
gni
b
/
rust
/
rust_bindgen
.
gni
index
caad79e81
.
.
e2f6e6ddc
100644
-
-
-
a
/
rust
/
rust_bindgen
.
gni
+
+
+
b
/
rust
/
rust_bindgen
.
gni
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
#
Template
to
build
Rust
/
C
bindings
with
bindgen
.
#
-
68
7
+
68
7
template
(
"
rust_bindgen
"
)
{
output_dir
=
"
target_gen_dir
"
out_gen_rs
=
"
output_dir
/
{
target_name
}
.
rs
"
-
script
=
rebase_path
(
"
/
/
build
/
rust
/
run_bindgen
.
py
"
)
+
script
=
rebase_path
(
"
/
/
chromium
/
build
/
rust
/
run_bindgen
.
py
"
)
inputs
=
[
bindgen_executable
]
depfile
=
"
target_out_dir
/
{
target_name
}
.
d
"
diff
-
-
git
a
/
rust
/
rust_executable
.
gni
b
/
rust
/
rust_executable
.
gni
index
ea22aa3b5
.
.
407f10740
100644
-
-
-
a
/
rust
/
rust_executable
.
gni
+
+
+
b
/
rust
/
rust_executable
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_target
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_target
.
gni
"
)
#
Defines
a
Rust
executable
.
#
diff
-
-
git
a
/
rust
/
rust_macro
.
gni
b
/
rust
/
rust_macro
.
gni
index
427220b9f
.
.
f3ee1a8b8
100644
-
-
-
a
/
rust
/
rust_macro
.
gni
+
+
+
b
/
rust
/
rust_macro
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_target
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_target
.
gni
"
)
#
Template
for
generating
a
Rust
proc
-
macro
library
.
Such
targets
produce
a
#
dynamic
library
that
is
loaded
during
compilation
and
used
to
generate
Rust
diff
-
-
git
a
/
rust
/
rust_shared_library
.
gni
b
/
rust
/
rust_shared_library
.
gni
index
6bea51d09
.
.
0129b7574
100644
-
-
-
a
/
rust
/
rust_shared_library
.
gni
+
+
+
b
/
rust
/
rust_shared_library
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_target
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_target
.
gni
"
)
#
Defines
a
shared_library
containing
just
Rust
code
.
Has
the
same
variables
#
available
as
a
rust_static_library
.
See
rust_static_library
.
gni
for
diff
-
-
git
a
/
rust
/
rust_static_library
.
gni
b
/
rust
/
rust_static_library
.
gni
index
82b430481
.
.
aca64ba52
100644
-
-
-
a
/
rust
/
rust_static_library
.
gni
+
+
+
b
/
rust
/
rust_static_library
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_target
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_target
.
gni
"
)
#
Defines
a
Rust
static
library
which
can
be
used
by
downstream
Rust
or
C
+
+
#
targets
.
This
is
a
single
Rust
compilation
unit
consisting
of
potentially
diff
-
-
git
a
/
rust
/
rust_target
.
gni
b
/
rust
/
rust_target
.
gni
index
61657feef
.
.
b16235d04
100644
-
-
-
a
/
rust
/
rust_target
.
gni
+
+
+
b
/
rust
/
rust_target
.
gni
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
analyze
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_unit_test
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
analyze
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_unit_test
.
gni
"
)
#
The
/
/
build
directory
is
re
-
used
for
non
-
Chromium
products
.
We
do
not
support
#
cxx
bindings
in
such
contexts
because
/
/
third_party
may
be
missing
.
-
110
7
+
110
7
template
(
"
rust_target
"
)
{
}
_configs
=
[
string_join
(
"
"
[
-
"
/
/
build
/
rust
:
edition_
"
+
"
/
/
chromium
/
build
/
rust
:
edition_
"
_edition
]
)
]
if
(
invoker
.
target_type
=
=
"
executable
"
)
{
-
236
12
+
236
12
template
(
"
rust_target
"
)
{
#
that
come
from
the
Cxx
library
such
as
rust
:
:
Str
.
So
any
C
+
+
#
target
that
depends
on
a
rust
target
directly
may
need
access
to
Cxx
#
as
well
which
means
it
must
appear
in
public_deps
.
-
public_deps
+
=
[
"
/
/
build
/
rust
:
cxx_cppdeps
"
]
+
public_deps
+
=
[
"
/
/
chromium
/
build
/
rust
:
cxx_cppdeps
"
]
}
else
if
(
!
defined
(
invoker
.
no_std
)
|
|
!
invoker
.
no_std
)
{
#
If
C
+
+
depends
on
and
links
in
the
library
we
need
to
make
sure
C
+
+
#
links
in
the
Rust
stdlib
.
This
is
orthogonal
to
if
the
library
exports
#
bindings
for
C
+
+
to
use
.
-
deps
=
[
"
/
/
build
/
rust
/
std
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
rust
/
std
"
]
}
}
-
253
7
+
253
7
template
(
"
rust_target
"
)
{
#
The
Rust
target
(
and
unit
tests
)
need
the
Cxx
crate
when
using
it
to
#
generate
bindings
.
if
(
_cxx_bindings
!
=
[
]
)
{
-
_rust_deps
+
=
[
"
/
/
build
/
rust
:
cxx_rustdeps
"
]
+
_rust_deps
+
=
[
"
/
/
chromium
/
build
/
rust
:
cxx_rustdeps
"
]
#
C
+
+
targets
can
depend
on
the
Rust
target
from
the
BUILD
.
gn
file
to
#
access
the
headers
generated
from
it
-
261
7
+
261
7
template
(
"
rust_target
"
)
{
}
if
(
!
defined
(
invoker
.
no_std
)
|
|
!
invoker
.
no_std
)
{
-
_rust_deps
+
=
[
"
/
/
build
/
rust
/
std
:
prebuilt_std_for_rustc
"
]
+
_rust_deps
+
=
[
"
/
/
chromium
/
build
/
rust
/
std
:
prebuilt_std_for_rustc
"
]
}
#
You
must
go
through
the
groups
above
to
get
to
these
targets
.
diff
-
-
git
a
/
rust
/
rust_unit_test
.
gni
b
/
rust
/
rust_unit_test
.
gni
index
879cb84a9
.
.
e14cde534
100644
-
-
-
a
/
rust
/
rust_unit_test
.
gni
+
+
+
b
/
rust
/
rust_unit_test
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_unit_tests_group
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_unit_tests_group
.
gni
"
)
#
Defines
a
Rust
unit
test
.
#
-
64
7
+
64
7
template
(
"
rust_unit_test
"
)
{
}
_configs
+
=
[
string_join
(
"
"
[
-
"
/
/
build
/
rust
:
edition_
"
+
"
/
/
chromium
/
build
/
rust
:
edition_
"
_edition
]
)
]
diff
-
-
git
a
/
rust
/
std
/
BUILD
.
gn
b
/
rust
/
std
/
BUILD
.
gn
index
b5fe564bd
.
.
ec633fba3
100644
-
-
-
a
/
rust
/
std
/
BUILD
.
gn
+
+
+
b
/
rust
/
std
/
BUILD
.
gn
-
26
8
+
26
8
#
https
:
/
/
github
.
com
/
rust
-
lang
/
rust
/
issues
/
64191
aims
to
make
this
#
officially
possible
.
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
if
(
toolchain_has_rust
)
{
#
List
of
Rust
stdlib
rlibs
which
are
present
in
the
official
Rust
toolchain
diff
-
-
git
a
/
rust
/
std
/
rules
/
BUILD
.
gn
b
/
rust
/
std
/
rules
/
BUILD
.
gn
index
8ac1b7dea
.
.
143811047
100644
-
-
-
a
/
rust
/
std
/
rules
/
BUILD
.
gn
+
+
+
b
/
rust
/
std
/
rules
/
BUILD
.
gn
-
2
25
+
2
25
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
addr2line
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
addr2line
-
0
.
17
.
0
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
addr2line
-
0
.
17
.
0
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
addr2line
-
0
.
17
.
0
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
addr2line
-
0
.
17
.
0
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
17
.
0
"
cargo_pkg_name
=
"
addr2line
"
cargo_pkg_description
=
"
A
cross
-
platform
symbolication
library
written
in
Rust
using
gimli
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
gimli
"
-
40
22
+
40
22
cargo_crate
(
"
addr2line
"
)
{
}
cargo_crate
(
"
adler
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
adler
-
1
.
0
.
2
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
adler
-
1
.
0
.
2
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
adler
-
1
.
0
.
2
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
adler
-
1
.
0
.
2
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
1
.
0
.
2
"
cargo_pkg_authors
=
"
Jonas
Schievink
<
jonasschievink
gmail
.
com
>
"
cargo_pkg_name
=
"
adler
"
cargo_pkg_description
=
"
A
simple
clean
-
room
implementation
of
the
Adler
-
32
checksum
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_core
"
-
81
10
+
81
10
cargo_crate
(
"
alloc
"
)
{
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
alloc
"
cargo_pkg_description
=
"
The
Rust
core
allocation
and
collections
library
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
core
"
-
92
39
+
92
39
cargo_crate
(
"
alloc
"
)
{
}
cargo_crate
(
"
cc
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cc
-
1
.
0
.
78
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cc
-
1
.
0
.
78
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cc
-
1
.
0
.
78
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cc
-
1
.
0
.
78
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
1
.
0
.
78
"
cargo_pkg_authors
=
"
Alex
Crichton
<
alex
alexcrichton
.
com
>
"
cargo_pkg_name
=
"
cc
"
cargo_pkg_description
=
"
A
build
-
time
dependency
for
Cargo
build
scripts
to
assist
in
invoking
the
nativeC
compiler
to
compile
native
C
code
into
a
static
archive
to
be
linked
into
Rustcode
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
}
cargo_crate
(
"
cfg_if
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cfg
-
if
-
1
.
0
.
0
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cfg
-
if
-
1
.
0
.
0
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cfg
-
if
-
1
.
0
.
0
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
cfg
-
if
-
1
.
0
.
0
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
1
.
0
.
0
"
cargo_pkg_authors
=
"
Alex
Crichton
<
alex
alexcrichton
.
com
>
"
cargo_pkg_name
=
"
cfg
-
if
"
cargo_pkg_description
=
"
A
macro
to
ergonomically
define
an
item
depending
on
a
large
number
of
#
[
cfg
]
parameters
.
Structured
like
an
if
-
else
chain
the
first
matching
branch
is
theitem
that
gets
emitted
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_core
"
-
140
21
+
140
21
cargo_crate
(
"
cfg_if
"
)
{
}
cargo_crate
(
"
compiler_builtins
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
compiler_builtins
-
0
.
1
.
87
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
compiler_builtins
-
0
.
1
.
87
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
compiler_builtins
-
0
.
1
.
87
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
compiler_builtins
-
0
.
1
.
87
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
1
.
87
"
cargo_pkg_authors
=
"
Jorge
Aparicio
<
japaricious
gmail
.
com
>
"
cargo_pkg_name
=
"
compiler_builtins
"
cargo_pkg_description
=
"
Compiler
intrinsics
used
by
the
Rust
compiler
.
Also
available
for
other
targetsif
necessary
!
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
rustc_std_workspace_core
"
]
aliased_deps
=
{
core
=
"
:
rustc_std_workspace_core__rlib
"
-
179
28
+
179
28
cargo_crate
(
"
core
"
)
{
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
core
"
cargo_pkg_description
=
"
The
Rust
Core
Library
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
}
cargo_crate
(
"
getopts
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
getopts
-
0
.
2
.
21
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
getopts
-
0
.
2
.
21
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
getopts
-
0
.
2
.
21
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
getopts
-
0
.
2
.
21
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
2
.
21
"
cargo_pkg_authors
=
"
The
Rust
Project
Developers
"
cargo_pkg_name
=
"
getopts
"
cargo_pkg_description
=
"
getopts
-
like
option
parsing
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
rustc_std_workspace_core
"
"
:
rustc_std_workspace_std
"
-
218
21
+
218
21
cargo_crate
(
"
getopts
"
)
{
}
cargo_crate
(
"
gimli
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
gimli
-
0
.
26
.
2
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
gimli
-
0
.
26
.
2
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
gimli
-
0
.
26
.
2
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
gimli
-
0
.
26
.
2
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
0
.
26
.
2
"
cargo_pkg_name
=
"
gimli
"
cargo_pkg_description
=
"
A
library
for
reading
and
writing
the
DWARF
debugging
format
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_alloc
"
-
253
21
+
253
21
cargo_crate
(
"
gimli
"
)
{
}
cargo_crate
(
"
hashbrown
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
hashbrown
-
0
.
12
.
3
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
hashbrown
-
0
.
12
.
3
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
hashbrown
-
0
.
12
.
3
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
hashbrown
-
0
.
12
.
3
/
src
/
lib
.
rs
"
]
edition
=
"
2021
"
cargo_pkg_version
=
"
0
.
12
.
3
"
cargo_pkg_authors
=
"
Amanieu
d
'
Antras
<
amanieu
gmail
.
com
>
"
cargo_pkg_name
=
"
hashbrown
"
cargo_pkg_description
=
"
A
Rust
port
of
Google
'
s
SwissTable
hash
map
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_alloc
"
-
288
21
+
288
21
cargo_crate
(
"
hashbrown
"
)
{
}
cargo_crate
(
"
libc
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
libc
-
0
.
2
.
139
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
libc
-
0
.
2
.
139
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
libc
-
0
.
2
.
139
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
libc
-
0
.
2
.
139
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
2
.
139
"
cargo_pkg_authors
=
"
The
Rust
Project
Developers
"
cargo_pkg_name
=
"
libc
"
cargo_pkg_description
=
"
Raw
FFI
bindings
to
platform
libraries
like
libc
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
rustc_std_workspace_core
"
]
features
=
[
"
align
"
-
317
21
+
317
21
cargo_crate
(
"
libc
"
)
{
}
cargo_crate
(
"
memchr
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
memchr
-
2
.
5
.
0
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
memchr
-
2
.
5
.
0
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
memchr
-
2
.
5
.
0
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
memchr
-
2
.
5
.
0
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
2
.
5
.
0
"
cargo_pkg_authors
=
"
Andrew
Gallant
<
jamslam
gmail
.
com
>
bluss
"
cargo_pkg_name
=
"
memchr
"
cargo_pkg_description
=
"
Safe
interface
to
memchr
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_core
"
-
347
21
+
347
21
cargo_crate
(
"
memchr
"
)
{
}
cargo_crate
(
"
miniz_oxide
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
miniz_oxide
-
0
.
5
.
3
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
miniz_oxide
-
0
.
5
.
3
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
miniz_oxide
-
0
.
5
.
3
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
miniz_oxide
-
0
.
5
.
3
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
0
.
5
.
3
"
cargo_pkg_authors
=
"
Frommi
<
daniil
.
liferenko
gmail
.
com
>
oyvindln
<
oyvindln
users
.
noreply
.
github
.
com
>
"
cargo_pkg_name
=
"
miniz_oxide
"
cargo_pkg_description
=
"
DEFLATE
compression
and
decompression
library
rewritten
in
Rust
based
on
miniz
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
adler
"
"
:
compiler_builtins
"
-
381
21
+
381
21
cargo_crate
(
"
miniz_oxide
"
)
{
}
cargo_crate
(
"
object
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
object
-
0
.
29
.
0
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
object
-
0
.
29
.
0
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
object
-
0
.
29
.
0
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
object
-
0
.
29
.
0
/
src
/
lib
.
rs
"
]
edition
=
"
2018
"
cargo_pkg_version
=
"
0
.
29
.
0
"
cargo_pkg_name
=
"
object
"
cargo_pkg_description
=
"
A
unified
interface
for
reading
and
writing
object
file
formats
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
memchr
"
-
432
10
+
432
10
cargo_crate
(
"
panic_abort
"
)
{
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
panic_abort
"
cargo_pkg_description
=
"
Implementation
of
Rust
panics
via
process
aborts
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
alloc
"
"
:
cfg_if
"
-
456
10
+
456
10
cargo_crate
(
"
panic_unwind
"
)
{
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
panic_unwind
"
cargo_pkg_description
=
"
Implementation
of
Rust
panics
via
stack
unwinding
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
alloc
"
"
:
cfg_if
"
-
480
10
+
480
10
cargo_crate
(
"
proc_macro
"
)
{
edition
=
"
2021
"
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
proc_macro
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
core
"
"
:
std
"
-
500
10
+
500
10
cargo_crate
(
"
profiler_builtins
"
)
{
edition
=
"
2021
"
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
profiler_builtins
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
core
"
-
512
21
+
512
21
cargo_crate
(
"
profiler_builtins
"
)
{
}
cargo_crate
(
"
rustc_demangle
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
rustc
-
demangle
-
0
.
1
.
21
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
rustc
-
demangle
-
0
.
1
.
21
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
rustc
-
demangle
-
0
.
1
.
21
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
rustc
-
demangle
-
0
.
1
.
21
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
1
.
21
"
cargo_pkg_authors
=
"
Alex
Crichton
<
alex
alexcrichton
.
com
>
"
cargo_pkg_name
=
"
rustc
-
demangle
"
cargo_pkg_description
=
"
Rust
compiler
symbol
demangling
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_core
"
-
552
10
+
552
10
cargo_crate
(
"
rustc_std_workspace_alloc
"
)
{
cargo_pkg_version
=
"
1
.
99
.
0
"
cargo_pkg_name
=
"
rustc
-
std
-
workspace
-
alloc
"
cargo_pkg_description
=
"
Hack
for
the
compiler
'
s
own
build
system
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
alloc
"
]
}
cargo_crate
(
"
rustc_std_workspace_core
"
)
{
-
570
10
+
570
10
cargo_crate
(
"
rustc_std_workspace_core
"
)
{
cargo_pkg_version
=
"
1
.
99
.
0
"
cargo_pkg_name
=
"
rustc
-
std
-
workspace
-
core
"
cargo_pkg_description
=
"
Hack
for
the
compiler
'
s
own
build
system
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
core
"
]
}
cargo_crate
(
"
rustc_std_workspace_std
"
)
{
-
588
10
+
588
10
cargo_crate
(
"
rustc_std_workspace_std
"
)
{
cargo_pkg_version
=
"
1
.
99
.
0
"
cargo_pkg_name
=
"
rustc
-
std
-
workspace
-
std
"
cargo_pkg_description
=
"
Hack
for
the
compiler
'
s
own
build
system
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
std
"
]
}
cargo_crate
(
"
std
"
)
{
-
609
10
+
609
10
cargo_crate
(
"
std
"
)
{
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
std
"
cargo_pkg_description
=
"
The
Rust
Standard
Library
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
addr2line
"
"
:
alloc
"
-
659
10
+
659
10
cargo_crate
(
"
std_detect
"
)
{
cargo_pkg_name
=
"
std_detect
"
cargo_pkg_description
=
"
std
:
:
detect
-
Rust
'
s
standard
library
run
-
time
CPU
feature
detection
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
cfg_if
"
"
:
compiler_builtins
"
-
697
10
+
697
10
cargo_crate
(
"
test
"
)
{
edition
=
"
2021
"
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
test
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
core
"
"
:
getopts
"
-
714
22
+
714
22
cargo_crate
(
"
test
"
)
{
}
cargo_crate
(
"
unicode_width
"
)
{
crate_type
=
"
rlib
"
-
crate_root
=
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
unicode
-
width
-
0
.
1
.
10
/
src
/
lib
.
rs
"
+
crate_root
=
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
unicode
-
width
-
0
.
1
.
10
/
src
/
lib
.
rs
"
no_std
=
true
#
Unit
tests
skipped
.
Generate
with
-
-
with
-
tests
to
include
them
.
build_native_rust_unit_tests
=
false
-
sources
=
[
"
/
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
unicode
-
width
-
0
.
1
.
10
/
src
/
lib
.
rs
"
]
+
sources
=
[
"
/
/
chromium
/
build
/
rust
/
std
/
fake_root
/
.
.
/
.
.
/
.
.
/
.
.
/
third_party
/
rust
-
toolchain
/
lib
/
rustlib
/
src
/
rust
/
vendor
/
unicode
-
width
-
0
.
1
.
10
/
src
/
lib
.
rs
"
]
edition
=
"
2015
"
cargo_pkg_version
=
"
0
.
1
.
10
"
cargo_pkg_authors
=
"
kwantam
<
kwantam
gmail
.
com
>
Manish
Goregaokar
<
manishsmail
gmail
.
com
>
"
cargo_pkg_name
=
"
unicode
-
width
"
cargo_pkg_description
=
"
Determine
displayed
width
of
char
and
str
typesaccording
to
Unicode
Standard
Annex
#
11
rules
.
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
compiler_builtins
"
"
:
rustc_std_workspace_core
"
-
757
10
+
757
10
cargo_crate
(
"
unwind
"
)
{
edition
=
"
2021
"
cargo_pkg_version
=
"
0
.
0
.
0
"
cargo_pkg_name
=
"
unwind
"
-
library_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
library_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
-
executable_configs
-
=
[
"
/
/
build
/
config
/
compiler
:
chromium_code
"
]
-
executable_configs
+
=
[
"
/
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
library_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
library_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
+
executable_configs
-
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
chromium_code
"
]
+
executable_configs
+
=
[
"
/
/
chromium
/
build
/
config
/
compiler
:
no_chromium_code
"
]
deps
=
[
"
:
cfg_if
"
"
:
compiler_builtins
"
diff
-
-
git
a
/
rust
/
tests
/
BUILD
.
gn
b
/
rust
/
tests
/
BUILD
.
gn
index
04c1d9f07
.
.
b6f352789
100644
-
-
-
a
/
rust
/
tests
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_unit_tests_group
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_unit_tests_group
.
gni
"
)
if
(
toolchain_has_rust
)
{
target_has_exe
=
!
is_android
diff
-
-
git
a
/
rust
/
tests
/
bindgen_test
/
BUILD
.
gn
b
/
rust
/
tests
/
bindgen_test
/
BUILD
.
gn
index
ce158e998
.
.
eb4c602ee
100644
-
-
-
a
/
rust
/
tests
/
bindgen_test
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
bindgen_test
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_bindgen
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_bindgen
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
source_set
(
"
c_lib_headers
"
)
{
sources
=
[
diff
-
-
git
a
/
rust
/
tests
/
test_aliased_deps
/
BUILD
.
gn
b
/
rust
/
tests
/
test_aliased_deps
/
BUILD
.
gn
index
45ad73f44
.
.
b4d05cb5e
100644
-
-
-
a
/
rust
/
tests
/
test_aliased_deps
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_aliased_deps
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
rust_executable
(
"
test_aliased_deps_exe
"
)
{
crate_root
=
"
main
.
rs
"
diff
-
-
git
a
/
rust
/
tests
/
test_bin_crate
/
BUILD
.
gn
b
/
rust
/
tests
/
test_bin_crate
/
BUILD
.
gn
index
ac47ee0a4
.
.
744e57533
100644
-
-
-
a
/
rust
/
tests
/
test_bin_crate
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_bin_crate
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
test_bin_crate
"
)
{
crate_type
=
"
bin
"
diff
-
-
git
a
/
rust
/
tests
/
test_cpp_including_rust
/
BUILD
.
gn
b
/
rust
/
tests
/
test_cpp_including_rust
/
BUILD
.
gn
index
2157b7988
.
.
fcc43b88a
100644
-
-
-
a
/
rust
/
tests
/
test_cpp_including_rust
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_cpp_including_rust
/
BUILD
.
gn
-
7
7
+
7
7
import
(
"
/
/
testing
/
test
.
gni
"
)
executable
(
"
test_cpp_including_rust
"
)
{
sources
=
[
"
main
.
cc
"
]
-
deps
=
[
"
/
/
build
/
rust
/
tests
/
test_rust_static_library
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_static_library
"
]
}
test
(
"
test_cpp_including_rust_unittests
"
)
{
-
16
7
+
16
7
test
(
"
test_cpp_including_rust_unittests
"
)
{
"
/
/
base
"
"
/
/
base
/
allocator
:
buildflags
"
"
/
/
base
/
test
:
run_all_unittests
"
-
"
/
/
build
/
rust
/
tests
/
test_rust_static_library
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_static_library
"
"
/
/
testing
/
gmock
"
"
/
/
testing
/
gtest
"
]
diff
-
-
git
a
/
rust
/
tests
/
test_local_std
/
BUILD
.
gn
b
/
rust
/
tests
/
test_local_std
/
BUILD
.
gn
index
6d364c6e0
.
.
b4d61dbf7
100644
-
-
-
a
/
rust
/
tests
/
test_local_std
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_local_std
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
assert
(
local_libstd_supported
)
-
18
7
+
18
7
rust_static_library
(
"
test_local_std
"
)
{
#
TODO
(
crbug
.
com
/
1368806
)
:
add
a
better
switch
for
using
the
prebuilt
std
vs
#
locally
built
std
.
no_std
=
true
-
deps
=
[
"
/
/
build
/
rust
/
std
:
local_std_for_rustc
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
rust
/
std
:
local_std_for_rustc
"
]
}
rust_executable
(
"
test_local_std_exe
"
)
{
diff
-
-
git
a
/
rust
/
tests
/
test_proc_macro_crate
/
BUILD
.
gn
b
/
rust
/
tests
/
test_proc_macro_crate
/
BUILD
.
gn
index
c9b56a423
.
.
313b8fd8c
100644
-
-
-
a
/
rust
/
tests
/
test_proc_macro_crate
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_proc_macro_crate
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
test_proc_macro_crate
"
)
{
crate_root
=
"
crate
/
src
/
lib
.
rs
"
diff
-
-
git
a
/
rust
/
tests
/
test_rlib_crate
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rlib_crate
/
BUILD
.
gn
index
9410316a2
.
.
eea531d21
100644
-
-
-
a
/
rust
/
tests
/
test_rlib_crate
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rlib_crate
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
target1
"
)
{
crate_name
=
"
test_rlib_crate
"
diff
-
-
git
a
/
rust
/
tests
/
test_rs_bindings_from_cc
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rs_bindings_from_cc
/
BUILD
.
gn
index
525faa38d
.
.
ad79cd97d
100644
-
-
-
a
/
rust
/
tests
/
test_rs_bindings_from_cc
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rs_bindings_from_cc
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rs_bindings_from_cc
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rs_bindings_from_cc
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
rust_executable
(
"
test_rs_bindings_from_cc
"
)
{
crate_root
=
"
main
.
rs
"
diff
-
-
git
a
/
rust
/
tests
/
test_rust_exe
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_exe
/
BUILD
.
gn
index
493854a49
.
.
2fd803a1e
100644
-
-
-
a
/
rust
/
tests
/
test_rust_exe
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_exe
/
BUILD
.
gn
-
2
16
+
2
16
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
rust_executable
(
"
test_rust_exe
"
)
{
crate_root
=
"
main
.
rs
"
sources
=
[
"
main
.
rs
"
]
deps
=
[
-
"
/
/
build
/
rust
/
tests
/
test_proc_macro_crate
"
-
"
/
/
build
/
rust
/
tests
/
test_rlib_crate
:
target1
"
-
"
/
/
build
/
rust
/
tests
/
test_rust_static_library
"
-
"
/
/
build
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_proc_macro_crate
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rlib_crate
:
target1
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_static_library
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
"
]
build_native_rust_unit_tests
=
true
}
diff
-
-
git
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
BUILD
.
gn
index
c4d4785d0
.
.
cc7e5e163
100644
-
-
-
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_executable
.
gni
"
)
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_executable
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
#
The
exe
depends
on
lib
v1
.
But
it
also
transitively
depends
on
lib
v2
.
#
The
code
in
the
exe
should
use
v1
and
the
code
in
the
transitive
lib
should
-
13
7
+
13
7
rust_executable
(
"
test_rust_multiple_dep_versions_exe
"
)
{
sources
=
[
"
main
.
rs
"
]
deps
=
[
"
:
transitive_v2
"
-
"
/
/
build
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
:
test_lib
"
+
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
:
test_lib
"
]
}
-
21
5
+
21
5
rust_static_library
(
"
transitive_v2
"
)
{
crate_root
=
"
transitive_lib
.
rs
"
sources
=
[
"
transitive_lib
.
rs
"
]
deps
=
-
[
"
/
/
build
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
:
test_lib
"
]
+
[
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
:
test_lib
"
]
}
diff
-
-
git
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
/
BUILD
.
gn
index
0704a1659
.
.
50b8027b3
100644
-
-
-
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v1
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
test_lib
"
)
{
#
This
crate
has
the
same
name
as
v2
/
test_lib
but
a
different
epoch
.
The
GN
diff
-
-
git
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
/
BUILD
.
gn
index
3fada7b58
.
.
410d9c0e1
100644
-
-
-
a
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_multiple_dep_versions_exe
/
v2
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
cargo_crate
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
cargo_crate
.
gni
"
)
cargo_crate
(
"
test_lib
"
)
{
#
This
crate
has
the
same
name
as
v1
/
test_lib
but
a
different
epoch
.
The
GN
diff
-
-
git
a
/
rust
/
tests
/
test_rust_shared_library
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_shared_library
/
BUILD
.
gn
index
550011e87
.
.
dc4aac2c4
100644
-
-
-
a
/
rust
/
tests
/
test_rust_shared_library
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_shared_library
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_shared_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_shared_library
.
gni
"
)
rust_shared_library
(
"
test_rust_shared_library
"
)
{
sources
=
[
"
src
/
lib
.
rs
"
]
diff
-
-
git
a
/
rust
/
tests
/
test_rust_static_library
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_static_library
/
BUILD
.
gn
index
39ccbb4a1
.
.
0e9e58523
100644
-
-
-
a
/
rust
/
tests
/
test_rust_static_library
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_static_library
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
rust_static_library
(
"
test_rust_static_library
"
)
{
sources
=
[
"
src
/
lib
.
rs
"
]
diff
-
-
git
a
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
/
BUILD
.
gn
index
6a85557a6
.
.
c0eda3edc
100644
-
-
-
a
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_static_library_non_standard_arrangement
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
rust_static_library
(
"
test_rust_static_library_non_standard_arrangement
"
)
{
sources
=
[
"
foo
.
rs
"
]
diff
-
-
git
a
/
rust
/
tests
/
test_rust_unittests
/
BUILD
.
gn
b
/
rust
/
tests
/
test_rust_unittests
/
BUILD
.
gn
index
bdc1f84a6
.
.
0f4db60a2
100644
-
-
-
a
/
rust
/
tests
/
test_rust_unittests
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_rust_unittests
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_unit_test
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_unit_test
.
gni
"
)
rust_unit_test
(
"
test_rust_unittests
"
)
{
sources
=
[
"
main
.
rs
"
]
crate_root
=
"
main
.
rs
"
-
deps
=
[
"
/
/
build
/
rust
/
tests
/
test_rust_static_library
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_static_library
"
]
}
diff
-
-
git
a
/
rust
/
tests
/
test_serde_json_lenient
/
BUILD
.
gn
b
/
rust
/
tests
/
test_serde_json_lenient
/
BUILD
.
gn
index
0f0da7a6f
.
.
87720eeac
100644
-
-
-
a
/
rust
/
tests
/
test_serde_json_lenient
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_serde_json_lenient
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
rust
/
rust_static_library
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
rust
/
rust_static_library
.
gni
"
)
import
(
"
/
/
testing
/
test
.
gni
"
)
rust_static_library
(
"
test_serde_json_lenient_rs
"
)
{
diff
-
-
git
a
/
rust
/
tests
/
test_simple_rust_exe
/
BUILD
.
gn
b
/
rust
/
tests
/
test_simple_rust_exe
/
BUILD
.
gn
index
3248f29aa
.
.
13d731db6
100644
-
-
-
a
/
rust
/
tests
/
test_simple_rust_exe
/
BUILD
.
gn
+
+
+
b
/
rust
/
tests
/
test_simple_rust_exe
/
BUILD
.
gn
-
8
5
+
8
5
#
/
/
build
/
rust
/
rust_executable
.
gni
.
executable
(
"
test_simple_rust_exe
"
)
{
crate_root
=
"
main
.
rs
"
-
deps
=
[
"
/
/
build
/
rust
/
std
:
prebuilt_std_for_rustc
"
]
+
deps
=
[
"
/
/
chromium
/
build
/
rust
/
std
:
prebuilt_std_for_rustc
"
]
}
diff
-
-
git
a
/
symlink
.
gni
b
/
symlink
.
gni
index
e71128643
.
.
83b153874
100644
-
-
-
a
/
symlink
.
gni
+
+
+
b
/
symlink
.
gni
-
16
7
+
16
7
template
(
"
symlink
"
)
{
"
visibility
"
]
)
outputs
=
[
invoker
.
output
]
-
script
=
"
/
/
build
/
symlink
.
py
"
+
script
=
"
/
/
chromium
/
build
/
symlink
.
py
"
args
=
[
"
-
f
"
rebase_path
(
invoker
.
source
get_path_info
(
invoker
.
output
"
dir
"
)
)
diff
-
-
git
a
/
timestamp
.
gni
b
/
timestamp
.
gni
index
b9b57d9dd
.
.
5c6136174
100644
-
-
-
a
/
timestamp
.
gni
+
+
+
b
/
timestamp
.
gni
-
4
7
+
4
7
#
#
Defines
the
build_timestamp
variable
.
-
import
(
"
/
/
build
/
util
/
lastchange
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
lastchange
.
gni
"
)
declare_args
(
)
{
#
This
should
be
the
filename
of
a
script
that
prints
a
single
line
diff
-
-
git
a
/
toolchain
/
BUILD
.
gn
b
/
toolchain
/
BUILD
.
gn
index
a3bd8c58c
.
.
10e0396bf
100644
-
-
-
a
/
toolchain
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
declare_args
(
)
{
#
Pool
for
non
goma
tasks
.
diff
-
-
git
a
/
toolchain
/
aix
/
BUILD
.
gn
b
/
toolchain
/
aix
/
BUILD
.
gn
index
71e4de29b
.
.
1f8132a8d
100644
-
-
-
a
/
toolchain
/
aix
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
aix
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
gcc_toolchain
(
"
ppc64
"
)
{
cc
=
"
gcc
"
diff
-
-
git
a
/
toolchain
/
android
/
BUILD
.
gn
b
/
toolchain
/
android
/
BUILD
.
gn
index
20257d9ac
.
.
76158de15
100644
-
-
-
a
/
toolchain
/
android
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
android
/
BUILD
.
gn
-
2
12
+
2
12
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ozone
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
#
Imports
android
/
config
.
gni
.
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ozone
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
#
Imports
android
/
config
.
gni
.
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
declare_args
(
)
{
#
Whether
unstripped
binaries
i
.
e
.
compiled
with
debug
symbols
should
be
diff
-
-
git
a
/
toolchain
/
android
/
DIR_METADATA
b
/
toolchain
/
android
/
DIR_METADATA
index
cdc2d6fb6
.
.
37c98f5e4
100644
-
-
-
a
/
toolchain
/
android
/
DIR_METADATA
+
+
+
b
/
toolchain
/
android
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
android
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
android
/
COMMON_METADATA
"
diff
-
-
git
a
/
toolchain
/
apple
/
BUILD
.
gn
b
/
toolchain
/
apple
/
BUILD
.
gn
index
ce5a7059e
.
.
47b305124
100644
-
-
-
a
/
toolchain
/
apple
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
apple
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
concurrent_links
.
gni
"
)
declare_args
(
)
{
#
Reduce
the
number
of
tasks
using
the
copy_bundle_data
and
compile_xcassets
diff
-
-
git
a
/
toolchain
/
apple
/
toolchain
.
gni
b
/
toolchain
/
apple
/
toolchain
.
gni
index
93e65289f
.
.
6b7d6ac8b
100644
-
-
-
a
/
toolchain
/
apple
/
toolchain
.
gni
+
+
+
b
/
toolchain
/
apple
/
toolchain
.
gni
-
6
15
+
6
15
#
some
enhancements
since
the
commands
on
Mac
are
slightly
different
than
on
#
Linux
.
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
#
TODO
(
crbug
.
com
/
1370527
)
:
This
import
is
required
to
detect
whether
the
-
22
7
+
22
7
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
#
swift
compiler
(
as
it
does
not
include
support
for
catalyst
)
.
Remove
it
#
once
the
support
is
available
.
if
(
is_ios
)
{
-
import
(
"
/
/
build
/
config
/
ios
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
config
.
gni
"
)
}
assert
(
(
target_os
=
=
"
ios
"
&
&
host_os
=
=
"
mac
"
)
|
|
host_os
!
=
"
win
"
)
-
76
10
+
76
10
if
(
swift_whole_module_optimization
=
=
-
1
)
{
tool_versions
=
exec_script
(
"
get_tool_mtime
.
py
"
rebase_path
(
[
-
"
/
/
build
/
toolchain
/
apple
/
filter_libtool
.
py
"
-
"
/
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
-
"
/
/
build
/
toolchain
/
ios
/
compile_xcassets
.
py
"
-
"
/
/
build
/
toolchain
/
ios
/
swiftc
.
py
"
+
"
/
/
chromium
/
build
/
toolchain
/
apple
/
filter_libtool
.
py
"
+
"
/
/
chromium
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
+
"
/
/
chromium
/
build
/
toolchain
/
ios
/
compile_xcassets
.
py
"
+
"
/
/
chromium
/
build
/
toolchain
/
ios
/
swiftc
.
py
"
]
root_build_dir
)
"
trim
scope
"
)
-
207
7
+
207
7
template
(
"
single_apple_toolchain
"
)
{
toolchain_coverage_instrumentation_input_file
!
=
"
"
if
(
_use_clang_coverage_wrapper
)
{
_coverage_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
root_build_dir
)
+
"
-
-
files
-
to
-
instrument
=
"
+
rebase_path
(
toolchain_coverage_instrumentation_input_file
root_build_dir
)
+
"
-
-
target
-
os
=
"
+
target_os
-
217
7
+
217
7
template
(
"
single_apple_toolchain
"
)
{
linker_driver
=
"
TOOL_VERSION
=
{
tool_versions
.
linker_driver
}
"
+
-
rebase_path
(
"
/
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
apple
/
linker_driver
.
py
"
root_build_dir
)
#
Specify
an
explicit
path
for
the
strip
binary
.
_strippath
=
invoker
.
bin_path
+
"
strip
"
-
274
7
+
274
7
template
(
"
single_apple_toolchain
"
)
{
rustc_bin
=
rebase_path
(
"
{
rust_sysroot
}
/
bin
/
rustc
"
root_build_dir
)
rustc
=
"
rust_compiler_prefix
{
rustc_bin
}
"
rust_sysroot_relative_to_out
=
rebase_path
(
rust_sysroot
root_out_dir
)
-
rustc_wrapper
=
rebase_path
(
"
/
/
build
/
rust
/
rustc_wrapper
.
py
"
)
+
rustc_wrapper
=
rebase_path
(
"
/
/
chromium
/
build
/
rust
/
rustc_wrapper
.
py
"
)
tool
(
"
rust_staticlib
"
)
{
rust_outfile
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
.
a
"
-
384
7
+
384
7
template
(
"
single_apple_toolchain
"
)
{
rspfile_content
=
"
{
{
inputs
}
}
"
if
(
!
toolchain_uses_lld
)
{
-
script
=
rebase_path
(
"
/
/
build
/
toolchain
/
apple
/
filter_libtool
.
py
"
+
script
=
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
apple
/
filter_libtool
.
py
"
root_build_dir
)
#
Specify
explicit
path
for
libtool
.
-
410
7
+
410
7
template
(
"
single_apple_toolchain
"
)
{
#
E
.
g
.
"
.
/
libfoo
.
dylib
"
:
dylib
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
{
{
output_extension
}
}
"
rspfile
=
dylib
+
"
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
#
These
variables
are
not
built
into
GN
but
are
helpers
that
implement
#
(
1
)
linking
to
produce
a
.
dylib
(
2
)
extracting
the
symbols
from
that
-
487
7
+
487
7
template
(
"
single_apple_toolchain
"
)
{
#
E
.
g
.
"
.
/
libfoo
.
so
"
:
sofile
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
{
{
output_extension
}
}
"
rspfile
=
sofile
+
"
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
link_command
=
"
linker_driver
ld
-
bundle
{
{
ldflags
}
}
-
o
\
"
sofile
\
"
\
"
rspfile
\
"
"
-
517
7
+
517
7
template
(
"
single_apple_toolchain
"
)
{
tool
(
"
link
"
)
{
outfile
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
{
{
output_extension
}
}
"
rspfile
=
"
outfile
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
command
=
"
linker_driver
ld
dsym_switch
{
{
ldflags
}
}
-
o
\
"
outfile
\
"
\
"
rspfile
\
"
"
description
=
"
LINK
outfile
"
-
561
7
+
561
7
template
(
"
single_apple_toolchain
"
)
{
command
=
"
rm
-
rf
{
{
output
}
}
&
&
/
bin
/
cp
-
Rl
{
{
source
}
}
{
{
output
}
}
"
}
description
=
"
COPY_BUNDLE_DATA
{
{
source
}
}
{
{
output
}
}
"
-
pool
=
"
/
/
build
/
toolchain
/
apple
:
bundle_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
/
apple
:
bundle_pool
(
default_toolchain
)
"
}
#
Swift
is
only
used
on
iOS
not
macOS
.
We
want
to
minimize
the
number
-
569
7
+
569
7
template
(
"
single_apple_toolchain
"
)
{
#
disallow
future
uses
of
Swift
on
macOS
.
https
:
/
/
crbug
.
com
/
965663
.
if
(
toolchain_args
.
current_os
=
=
"
ios
"
)
{
tool
(
"
swift
"
)
{
-
_tool
=
rebase_path
(
"
/
/
build
/
toolchain
/
ios
/
swiftc
.
py
"
root_build_dir
)
+
_tool
=
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
ios
/
swiftc
.
py
"
root_build_dir
)
depfile
=
"
{
{
target_out_dir
}
}
/
{
{
module_name
}
}
.
d
"
depsformat
=
"
gcc
"
-
705
7
+
705
7
template
(
"
single_apple_toolchain
"
)
{
#
disallow
future
uses
of
xcassets
on
macOS
.
https
:
/
/
crbug
.
com
/
965663
.
if
(
toolchain_args
.
current_os
=
=
"
ios
"
)
{
tool
(
"
compile_xcassets
"
)
{
-
_tool
=
rebase_path
(
"
/
/
build
/
toolchain
/
ios
/
compile_xcassets
.
py
"
+
_tool
=
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
ios
/
compile_xcassets
.
py
"
root_build_dir
)
_env_vars
=
"
TOOL_VERSION
=
{
tool_versions
.
compile_xcassets
}
"
-
722
12
+
722
12
template
(
"
single_apple_toolchain
"
)
{
"
-
P
'
{
{
bundle_partial_info_plist
}
}
'
"
+
"
-
o
{
{
output
}
}
{
{
inputs
}
}
"
description
=
"
COMPILE_XCASSETS
{
{
output
}
}
"
-
pool
=
"
/
/
build
/
toolchain
/
apple
:
bundle_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
/
apple
:
bundle_pool
(
default_toolchain
)
"
}
}
tool
(
"
action
"
)
{
-
pool
=
"
/
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
}
}
}
diff
-
-
git
a
/
toolchain
/
cc_wrapper
.
gni
b
/
toolchain
/
cc_wrapper
.
gni
index
d70fa7f23
.
.
7b18f3276
100644
-
-
-
a
/
toolchain
/
cc_wrapper
.
gni
+
+
+
b
/
toolchain
/
cc_wrapper
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
#
Defines
the
configuration
of
cc
wrapper
#
ccache
:
a
c
/
c
+
+
compiler
cache
which
can
greatly
reduce
recompilation
times
.
diff
-
-
git
a
/
toolchain
/
concurrent_links
.
gni
b
/
toolchain
/
concurrent_links
.
gni
index
e3590228e
.
.
65fa7347b
100644
-
-
-
a
/
toolchain
/
concurrent_links
.
gni
+
+
+
b
/
toolchain
/
concurrent_links
.
gni
-
7
13
+
7
13
#
in
the
context
of
the
default_toolchain
so
we
can
at
least
check
for
that
.
assert
(
current_toolchain
=
=
default_toolchain
)
-
import
(
"
/
/
build
/
config
/
android
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
apple
/
symbols
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
android
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
apple
/
symbols
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromeos
/
ui_mode
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
declare_args
(
)
{
#
Limit
the
number
of
concurrent
links
;
we
often
want
to
run
fewer
diff
-
-
git
a
/
toolchain
/
cros
/
BUILD
.
gn
b
/
toolchain
/
cros
/
BUILD
.
gn
index
c815e1ab2
.
.
f0d4bd443
100644
-
-
-
a
/
toolchain
/
cros
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
cros
/
BUILD
.
gn
-
2
10
+
2
10
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cros_toolchain
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cros_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
declare_args
(
)
{
#
If
set
build
lacros
with
Chromium
'
s
toolchain
instead
of
with
Chrome
OS
'
s
.
-
244
11
+
244
11
if
(
also_build_lacros_chrome_for_architecture
!
=
"
"
)
{
cros_toolchain
(
"
lacros_clang
"
)
{
if
(
also_build_lacros_chrome_for_architecture
=
=
"
amd64
"
)
{
lacros_args
=
-
read_file
(
"
/
/
build
/
args
/
chromeos
/
amd64
-
generic
-
crostoolchain
.
gni
"
+
read_file
(
"
/
/
chromium
/
build
/
args
/
chromeos
/
amd64
-
generic
-
crostoolchain
.
gni
"
"
scope
"
)
}
else
if
(
also_build_lacros_chrome_for_architecture
=
=
"
arm
"
)
{
lacros_args
=
-
read_file
(
"
/
/
build
/
args
/
chromeos
/
arm
-
generic
-
crostoolchain
.
gni
"
+
read_file
(
"
/
/
chromium
/
build
/
args
/
chromeos
/
arm
-
generic
-
crostoolchain
.
gni
"
"
scope
"
)
}
else
{
assert
(
false
diff
-
-
git
a
/
toolchain
/
cros_toolchain
.
gni
b
/
toolchain
/
cros_toolchain
.
gni
index
a2696bd3f
.
.
9243cfcc1
100644
-
-
-
a
/
toolchain
/
cros_toolchain
.
gni
+
+
+
b
/
toolchain
/
cros_toolchain
.
gni
-
32
8
+
32
8
#
cros_target_ar
=
"
x86_64
-
cros
-
linux
-
gnu
-
gcc
-
ar
"
#
target_cpu
=
"
x64
"
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
declare_args
(
)
{
#
These
must
be
specified
for
a
board
-
specific
build
.
diff
-
-
git
a
/
toolchain
/
fuchsia
/
BUILD
.
gn
b
/
toolchain
/
fuchsia
/
BUILD
.
gn
index
63504ea70
.
.
4040aa762
100644
-
-
-
a
/
toolchain
/
fuchsia
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
fuchsia
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
#
Fuchsia
builds
using
the
Clang
toolchain
with
most
parameters
common
across
#
the
different
target
architectures
.
diff
-
-
git
a
/
toolchain
/
fuchsia
/
DIR_METADATA
b
/
toolchain
/
fuchsia
/
DIR_METADATA
index
210aa6a95
.
.
ddd134a2b
100644
-
-
-
a
/
toolchain
/
fuchsia
/
DIR_METADATA
+
+
+
b
/
toolchain
/
fuchsia
/
DIR_METADATA
-
1
+
1
-
mixins
:
"
/
/
build
/
fuchsia
/
COMMON_METADATA
"
+
mixins
:
"
/
/
chromium
/
build
/
fuchsia
/
COMMON_METADATA
"
diff
-
-
git
a
/
toolchain
/
gcc_toolchain
.
gni
b
/
toolchain
/
gcc_toolchain
.
gni
index
cf9730e73
.
.
9be5ed23b
100644
-
-
-
a
/
toolchain
/
gcc_toolchain
.
gni
+
+
+
b
/
toolchain
/
gcc_toolchain
.
gni
-
2
22
+
2
22
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
v8_target_cpu
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
coverage
/
coverage
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
v8_target_cpu
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
if
(
is_nacl
)
{
#
To
keep
NaCl
variables
out
of
builds
that
don
'
t
include
NaCl
all
#
variables
defined
in
nacl
/
config
.
gni
referenced
here
should
be
protected
by
#
is_nacl
conditions
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
}
declare_args
(
)
{
-
274
7
+
274
7
template
(
"
single_gcc_toolchain
"
)
{
}
_coverage_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
root_build_dir
)
#
The
wrapper
needs
to
know
what
OS
we
target
because
it
uses
that
to
-
422
7
+
422
7
template
(
"
single_gcc_toolchain
"
)
{
#
existing
file
.
if
(
host_os
=
=
"
win
"
)
{
tool_wrapper_path
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
command
=
"
cmd
/
c
python_path
tool_wrapper_path
delete
-
file
{
{
output
}
}
&
&
command
"
}
else
{
command
=
"
rm
-
f
{
{
output
}
}
&
&
command
"
-
445
7
+
445
7
template
(
"
single_gcc_toolchain
"
)
{
sofile
=
"
{
{
output_dir
}
}
/
soname
"
#
Possibly
including
toolchain
dir
.
rspfile
=
sofile
+
"
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
if
(
defined
(
invoker
.
strip
)
)
{
unstripped_sofile
=
"
{
{
root_out_dir
}
}
/
lib
.
unstripped
/
soname
"
-
486
7
+
486
7
template
(
"
single_gcc_toolchain
"
)
{
#
requiring
sh
control
structures
pipelines
and
POSIX
utilities
.
#
The
host
might
not
have
a
POSIX
shell
and
utilities
(
e
.
g
.
Windows
)
.
solink_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
gcc_solink_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_solink_wrapper
.
py
"
root_build_dir
)
solink_extra_flags
=
"
"
if
(
current_os
=
=
"
aix
"
)
{
#
to
be
intercepted
by
solink_wrapper
so
that
we
exit
immediately
-
558
7
+
558
7
template
(
"
single_gcc_toolchain
"
)
{
sofile
=
"
{
{
output_dir
}
}
/
soname
"
rspfile
=
sofile
+
"
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
if
(
defined
(
invoker
.
strip
)
)
{
unstripped_sofile
=
"
{
{
root_out_dir
}
}
/
lib
.
unstripped
/
soname
"
-
615
7
+
615
7
template
(
"
single_gcc_toolchain
"
)
{
rspfile
=
"
outfile
.
rsp
"
unstripped_outfile
=
outfile
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
#
Use
this
for
{
{
output_extension
}
}
expansions
unless
a
target
manually
#
overrides
it
(
in
which
case
{
{
output_extension
}
}
will
be
what
the
target
-
653
7
+
653
7
template
(
"
single_gcc_toolchain
"
)
{
}
link_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
command
=
"
python_path
\
"
link_wrapper
\
"
-
-
output
=
\
"
outfile
\
"
strip_switch
map_switch
dwp_switch
-
-
link_command
"
description
=
"
LINK
outfile
"
-
699
7
+
699
7
template
(
"
single_gcc_toolchain
"
)
{
}
tool
(
"
action
"
)
{
-
pool
=
"
/
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
}
if
(
toolchain_has_rust
)
{
-
709
7
+
709
7
template
(
"
single_gcc_toolchain
"
)
{
rustc_bin
=
rebase_path
(
"
{
rust_sysroot
}
/
bin
/
rustc
"
root_build_dir
)
rustc
=
"
rust_compiler_prefix
{
rustc_bin
}
"
rust_sysroot_relative_to_out
=
rebase_path
(
rust_sysroot
root_out_dir
)
-
rustc_wrapper
=
rebase_path
(
"
/
/
build
/
rust
/
rustc_wrapper
.
py
"
)
+
rustc_wrapper
=
rebase_path
(
"
/
/
chromium
/
build
/
rust
/
rustc_wrapper
.
py
"
)
#
RSP
manipulation
due
to
https
:
/
/
bugs
.
chromium
.
org
/
p
/
gn
/
issues
/
detail
?
id
=
249
tool
(
"
rust_staticlib
"
)
{
-
755
7
+
755
7
template
(
"
single_gcc_toolchain
"
)
{
dummy_libgcc
=
"
"
if
(
is_android
)
{
dummy_libgcc_path
=
-
rebase_path
(
"
/
/
build
/
android
/
dummy_libgcc
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
android
/
dummy_libgcc
"
root_build_dir
)
dummy_libgcc
=
"
-
L
dummy_libgcc_path
"
}
diff
-
-
git
a
/
toolchain
/
ios
/
BUILD
.
gn
b
/
toolchain
/
ios
/
BUILD
.
gn
index
cfcbdc660
.
.
c379f2615
100644
-
-
-
a
/
toolchain
/
ios
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
ios
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ios
/
ios_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
#
Specialisation
of
the
apple_toolchain
template
to
declare
the
toolchain
#
and
its
tools
to
build
target
for
iOS
platform
.
-
45
7
+
45
7
ios_toolchain
(
"
ios_clang_arm64_fat_arm
"
)
{
toolchain_args
=
{
current_cpu
=
"
arm
"
is_fat_secondary_toolchain
=
true
-
primary_fat_toolchain_name
=
"
/
/
build
/
toolchain
/
ios
:
ios_clang_arm64
"
+
primary_fat_toolchain_name
=
"
/
/
chromium
/
build
/
toolchain
/
ios
:
ios_clang_arm64
"
}
}
-
65
7
+
65
7
ios_toolchain
(
"
ios_clang_x64_fat_arm64
"
)
{
toolchain_args
=
{
current_cpu
=
"
arm64
"
is_fat_secondary_toolchain
=
true
-
primary_fat_toolchain_name
=
"
/
/
build
/
toolchain
/
ios
:
ios_clang_x64
"
+
primary_fat_toolchain_name
=
"
/
/
chromium
/
build
/
toolchain
/
ios
:
ios_clang_x64
"
}
}
-
80
7
+
80
7
ios_toolchain
(
"
ios_clang_x64_13_4_fat_arm64
"
)
{
toolchain_args
=
{
current_cpu
=
"
arm64
"
is_fat_secondary_toolchain
=
true
-
primary_fat_toolchain_name
=
"
/
/
build
/
toolchain
/
ios
:
ios_clang_x64_13_4
"
+
primary_fat_toolchain_name
=
"
/
/
chromium
/
build
/
toolchain
/
ios
:
ios_clang_x64_13_4
"
ios_deployment_target
=
"
13
.
4
"
}
}
-
89
7
+
89
7
ios_toolchain
(
"
ios_clang_x64_fat_x86
"
)
{
toolchain_args
=
{
current_cpu
=
"
x86
"
is_fat_secondary_toolchain
=
true
-
primary_fat_toolchain_name
=
"
/
/
build
/
toolchain
/
ios
:
ios_clang_x64
"
+
primary_fat_toolchain_name
=
"
/
/
chromium
/
build
/
toolchain
/
ios
:
ios_clang_x64
"
}
}
diff
-
-
git
a
/
toolchain
/
linux
/
BUILD
.
gn
b
/
toolchain
/
linux
/
BUILD
.
gn
index
f575ca886
.
.
a9b01e4c8
100644
-
-
-
a
/
toolchain
/
linux
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
linux
/
BUILD
.
gn
-
2
11
+
2
11
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
dcheck_always_on
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ozone
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
ui
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
dcheck_always_on
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ozone
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
ui
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
clang_toolchain
(
"
clang_ppc64
"
)
{
enable_linker_map
=
true
diff
-
-
git
a
/
toolchain
/
linux
/
unbundle
/
BUILD
.
gn
b
/
toolchain
/
linux
/
unbundle
/
BUILD
.
gn
index
a09149123
.
.
68502471e
100644
-
-
-
a
/
toolchain
/
linux
/
unbundle
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
linux
/
unbundle
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
gcc_toolchain
(
"
default
"
)
{
cc
=
getenv
(
"
CC
"
)
diff
-
-
git
a
/
toolchain
/
mac
/
BUILD
.
gn
b
/
toolchain
/
mac
/
BUILD
.
gn
index
387d9c128
.
.
aa9c7e8fb
100644
-
-
-
a
/
toolchain
/
mac
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
mac
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
mac
/
mac_sdk
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
apple
/
toolchain
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
#
Specialisation
of
the
apple_toolchain
template
to
declare
the
toolchain
diff
-
-
git
a
/
toolchain
/
nacl
/
BUILD
.
gn
b
/
toolchain
/
nacl
/
BUILD
.
gn
index
00f718976
.
.
2c2340c1b
100644
-
-
-
a
/
toolchain
/
nacl
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
nacl
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sysroot
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
nacl_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sysroot
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
nacl_toolchain
.
gni
"
)
#
Add
the
toolchain
revision
as
a
preprocessor
define
so
that
sources
are
#
rebuilt
when
a
toolchain
is
updated
.
diff
-
-
git
a
/
toolchain
/
nacl_toolchain
.
gni
b
/
toolchain
/
nacl_toolchain
.
gni
index
1a5bf7f4a
.
.
1b25b394f
100644
-
-
-
a
/
toolchain
/
nacl_toolchain
.
gni
+
+
+
b
/
toolchain
/
nacl_toolchain
.
gni
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
nacl
/
config
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
nacl
/
config
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
#
This
template
defines
a
NaCl
toolchain
.
#
diff
-
-
git
a
/
toolchain
/
toolchain
.
gni
b
/
toolchain
/
toolchain
.
gni
index
7ddeb1268
.
.
aea0c3004
100644
-
-
-
a
/
toolchain
/
toolchain
.
gni
+
+
+
b
/
toolchain
/
toolchain
.
gni
-
5
8
+
5
8
#
Toolchain
-
related
configuration
that
may
be
needed
outside
the
context
of
the
#
toolchain
(
)
rules
themselves
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
chromecast_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chromecast_build
.
gni
"
)
import
(
"
/
/
build_overrides
/
build
.
gni
"
)
declare_args
(
)
{
-
80
7
+
80
7
stamp_description
=
"
STAMP
{
{
output
}
}
"
copy_description
=
"
COPY
{
{
source
}
}
{
{
output
}
}
"
if
(
host_os
=
=
"
win
"
)
{
_tool_wrapper_path
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
stamp_command
=
"
cmd
/
c
type
nul
>
\
"
{
{
output
}
}
\
"
"
copy_command
=
diff
-
-
git
a
/
toolchain
/
win
/
BUILD
.
gn
b
/
toolchain
/
win
/
BUILD
.
gn
index
612938527
.
.
d62ba807d
100644
-
-
-
a
/
toolchain
/
win
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
win
/
BUILD
.
gn
-
2
8
+
2
8
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
win
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
toolchain
.
gni
"
)
assert
(
is_win
"
Should
only
be
running
on
Windows
"
)
-
66
7
+
66
7
if
(
target_os
=
=
"
winuwp
"
)
{
assert
(
target_cpu
=
=
"
x64
"
|
|
target_cpu
=
=
"
x86
"
|
|
target_cpu
=
=
"
arm
"
|
|
target_cpu
=
=
"
arm64
"
)
store_cpu_toolchain_data
=
-
exec_script
(
"
/
/
build
/
toolchain
/
win
/
setup_toolchain
.
py
"
+
exec_script
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
setup_toolchain
.
py
"
[
visual_studio_path
windows_sdk_path
diff
-
-
git
a
/
toolchain
/
win
/
midl
.
gni
b
/
toolchain
/
win
/
midl
.
gni
index
1f3ea409d
.
.
e0ec0c7c5
100644
-
-
-
a
/
toolchain
/
win
/
midl
.
gni
+
+
+
b
/
toolchain
/
win
/
midl
.
gni
-
4
7
+
4
7
assert
(
is_win
)
-
import
(
"
/
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
#
This
template
defines
a
rule
to
invoke
the
MS
IDL
compiler
.
The
generated
#
source
code
will
be
compiled
and
linked
into
targets
that
depend
on
this
.
-
124
7
+
124
7
template
(
"
midl
"
)
{
action_foreach
(
action_name
)
{
visibility
=
[
"
:
source_set_name
"
]
-
script
=
"
/
/
build
/
toolchain
/
win
/
midl
.
py
"
+
script
=
"
/
/
chromium
/
build
/
toolchain
/
win
/
midl
.
py
"
sources
=
invoker
.
sources
diff
-
-
git
a
/
toolchain
/
win
/
toolchain
.
gni
b
/
toolchain
/
win
/
toolchain
.
gni
index
67f20f2e5
.
.
65febca2a
100644
-
-
-
a
/
toolchain
/
win
/
toolchain
.
gni
+
+
+
b
/
toolchain
/
win
/
toolchain
.
gni
-
2
21
+
2
21
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
rust
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
goma
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
rbe
.
gni
"
)
-
import
(
"
/
/
build
/
toolchain
/
toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
compiler
/
compiler
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
rust
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
visual_studio_version
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
cc_wrapper
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
goma
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
rbe
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
toolchain
.
gni
"
)
assert
(
is_win
"
Should
only
be
running
on
Windows
"
)
#
This
tool
will
is
used
as
a
wrapper
for
various
commands
below
.
_tool_wrapper_path
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
tool_wrapper
.
py
"
root_build_dir
)
if
(
host_os
=
=
"
win
"
)
{
_exe
=
"
.
exe
"
-
175
7
+
175
7
template
(
"
single_msvc_toolchain
"
)
{
}
coverage_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
clang_code_coverage_wrapper
.
py
"
root_build_dir
)
coverage_wrapper
=
coverage_wrapper
+
"
-
-
target
-
os
=
"
+
target_os
if
(
toolchain_coverage_instrumentation_input_file
!
=
"
"
)
{
-
287
7
+
287
7
template
(
"
single_msvc_toolchain
"
)
{
#
Wrap
ml
(
64
)
.
exe
with
a
script
that
makes
its
output
deterministic
.
#
It
'
s
lld
only
because
the
script
zaps
obj
Timestamp
which
#
link
.
exe
/
incremental
looks
at
.
-
ml_py
=
rebase_path
(
"
/
/
build
/
toolchain
/
win
/
ml
.
py
"
root_build_dir
)
+
ml_py
=
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
ml
.
py
"
root_build_dir
)
ml
=
"
python_path
ml_py
ml
"
}
}
-
306
7
+
306
7
template
(
"
single_msvc_toolchain
"
)
{
}
if
(
toolchain_has_rust
)
{
-
rustc_wrapper
=
rebase_path
(
"
/
/
build
/
rust
/
rustc_wrapper
.
py
"
)
+
rustc_wrapper
=
rebase_path
(
"
/
/
chromium
/
build
/
rust
/
rustc_wrapper
.
py
"
)
rustc
=
rebase_path
(
"
{
rust_sysroot
}
/
bin
/
rustc
"
root_build_dir
)
rust_sysroot_relative_to_out
=
rebase_path
(
rust_sysroot
root_out_dir
)
rustc_windows_args
=
"
-
Clinker
=
link
rustc_common_args
"
-
393
7
+
393
7
template
(
"
single_msvc_toolchain
"
)
{
libname
=
"
{
dllname
}
.
lib
"
#
e
.
g
.
foo
.
dll
.
lib
pdbname
=
"
{
dllname
}
.
pdb
"
rspfile
=
"
{
dllname
}
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
command
=
"
linker_wrapper
link
/
OUT
:
dllname
/
nologo
{
sys_lib_flags
}
/
IMPLIB
:
libname
/
DLL
/
PDB
:
pdbname
rspfile
"
-
428
7
+
428
7
template
(
"
single_msvc_toolchain
"
)
{
dllname
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
{
{
output_extension
}
}
"
pdbname
=
"
{
dllname
}
.
pdb
"
rspfile
=
"
{
dllname
}
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
command
=
"
linker_wrapper
link
/
OUT
:
dllname
/
nologo
{
sys_lib_flags
}
/
DLL
/
PDB
:
pdbname
rspfile
"
-
451
7
+
451
7
template
(
"
single_msvc_toolchain
"
)
{
exename
=
"
{
{
output_dir
}
}
/
{
{
target_output_name
}
}
{
{
output_extension
}
}
"
pdbname
=
"
exename
.
pdb
"
rspfile
=
"
exename
.
rsp
"
-
pool
=
"
/
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
link_pool
(
default_toolchain
)
"
command
=
"
linker_wrapper
link
/
OUT
:
exename
/
nologo
{
sys_lib_flags
}
/
PDB
:
pdbname
rspfile
"
-
476
16
+
476
16
template
(
"
single_msvc_toolchain
"
)
{
tool
(
"
stamp
"
)
{
command
=
stamp_command
description
=
stamp_description
-
pool
=
"
/
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
}
tool
(
"
copy
"
)
{
command
=
copy_command
description
=
copy_description
-
pool
=
"
/
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
}
tool
(
"
action
"
)
{
-
pool
=
"
/
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
+
pool
=
"
/
/
chromium
/
build
/
toolchain
:
action_pool
(
default_toolchain
)
"
}
}
}
-
532
7
+
532
7
template
(
"
win_toolchains
"
)
{
assert
(
defined
(
invoker
.
toolchain_arch
)
)
toolchain_arch
=
invoker
.
toolchain_arch
-
win_toolchain_data
=
exec_script
(
"
/
/
build
/
toolchain
/
win
/
setup_toolchain
.
py
"
+
win_toolchain_data
=
exec_script
(
"
/
/
chromium
/
build
/
toolchain
/
win
/
setup_toolchain
.
py
"
[
visual_studio_path
windows_sdk_path
diff
-
-
git
a
/
toolchain
/
zos
/
BUILD
.
gn
b
/
toolchain
/
zos
/
BUILD
.
gn
index
3af5f8033
.
.
34d36d306
100644
-
-
-
a
/
toolchain
/
zos
/
BUILD
.
gn
+
+
+
b
/
toolchain
/
zos
/
BUILD
.
gn
-
4
7
+
4
7
#
This
file
is
based
on
gcc_toolchain
.
gni
and
customized
for
z
/
OS
.
-
import
(
"
/
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_toolchain
.
gni
"
)
toolchain
(
"
s390x
"
)
{
cc
=
"
xlclang
"
-
91
7
+
91
7
toolchain
(
"
s390x
"
)
{
link_command
=
"
ld
-
Wl
DLL
{
{
ldflags
}
}
{
extra_ldflags
}
-
o
\
"
sofile
\
"
cat
rspfile
"
solink_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
command
=
"
python_path
\
"
solink_wrapper
\
"
-
-
output
=
\
"
sofile
\
"
-
-
link_command
"
rspfile_content
=
"
{
{
inputs
}
}
{
{
solibs
}
}
{
{
libs
}
}
"
-
151
7
+
151
7
toolchain
(
"
s390x
"
)
{
link_command
=
"
ld
{
{
ldflags
}
}
{
extra_ldflags
}
-
o
\
"
outfile
\
"
cat
rspfile
{
{
solibs
}
}
{
{
libs
}
}
"
link_wrapper
=
-
rebase_path
(
"
/
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
+
rebase_path
(
"
/
/
chromium
/
build
/
toolchain
/
gcc_link_wrapper
.
py
"
root_build_dir
)
command
=
"
python_path
\
"
link_wrapper
\
"
-
-
output
=
\
"
outfile
\
"
-
-
link_command
"
diff
-
-
git
a
/
util
/
BUILD
.
gn
b
/
util
/
BUILD
.
gn
index
a96d32677
.
.
ff8c8b389
100644
-
-
-
a
/
util
/
BUILD
.
gn
+
+
+
b
/
util
/
BUILD
.
gn
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
util
/
lastchange
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
lastchange
.
gni
"
)
action
(
"
chromium_git_revision
"
)
{
script
=
"
version
.
py
"
-
31
7
+
31
7
action
(
"
chromium_git_revision
"
)
{
group
(
"
test_results
"
)
{
data
=
[
"
/
/
.
vpython3
"
-
"
/
/
build
/
util
/
lib
/
__init__
.
py
"
-
"
/
/
build
/
util
/
lib
/
results
/
"
+
"
/
/
chromium
/
build
/
util
/
lib
/
__init__
.
py
"
+
"
/
/
chromium
/
build
/
util
/
lib
/
results
/
"
]
}
diff
-
-
git
a
/
util
/
branding
.
gni
b
/
util
/
branding
.
gni
index
1d4ffd68a
.
.
bb99883da
100644
-
-
-
a
/
util
/
branding
.
gni
+
+
+
b
/
util
/
branding
.
gni
-
12
7
+
12
7
#
These
values
should
only
be
used
if
you
REALLY
need
to
depend
on
them
at
#
build
-
time
for
example
in
the
computation
of
output
file
names
.
-
import
(
"
/
/
build
/
config
/
chrome_build
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
chrome_build
.
gni
"
)
_branding_dictionary_template
=
"
full_name
=
\
"
PRODUCT_FULLNAME
\
"
"
+
diff
-
-
git
a
/
util
/
generate_wrapper
.
gni
b
/
util
/
generate_wrapper
.
gni
index
e2ceccc9e
.
.
ef90a26ed
100644
-
-
-
a
/
util
/
generate_wrapper
.
gni
+
+
+
b
/
util
/
generate_wrapper
.
gni
-
45
7
+
45
7
template
(
"
generate_wrapper
"
)
{
if
(
defined
(
invoker
.
generator_script
)
)
{
script
=
invoker
.
generator_script
}
else
{
-
script
=
"
/
/
build
/
util
/
generate_wrapper
.
py
"
+
script
=
"
/
/
chromium
/
build
/
util
/
generate_wrapper
.
py
"
}
_wrapper_script
=
invoker
.
wrapper_script
if
(
is_win
)
{
diff
-
-
git
a
/
util
/
java_action
.
gni
b
/
util
/
java_action
.
gni
index
81f6da5e1
.
.
9ac8d634a
100644
-
-
-
a
/
util
/
java_action
.
gni
+
+
+
b
/
util
/
java_action
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
jarrunner
=
"
/
/
build
/
util
/
java_action
.
py
"
+
jarrunner
=
"
/
/
chromium
/
build
/
util
/
java_action
.
py
"
#
Declare
a
target
that
runs
a
java
command
a
single
time
.
#
diff
-
-
git
a
/
util
/
lastchange
.
gni
b
/
util
/
lastchange
.
gni
index
909b9789f
.
.
582f7d866
100644
-
-
-
a
/
util
/
lastchange
.
gni
+
+
+
b
/
util
/
lastchange
.
gni
-
10
7
+
10
7
declare_args
(
)
{
}
if
(
use_dummy_lastchange
)
{
-
lastchange_file
=
"
/
/
build
/
util
/
LASTCHANGE
.
dummy
"
+
lastchange_file
=
"
/
/
chromium
/
build
/
util
/
LASTCHANGE
.
dummy
"
}
else
{
-
lastchange_file
=
"
/
/
build
/
util
/
LASTCHANGE
"
+
lastchange_file
=
"
/
/
chromium
/
build
/
util
/
LASTCHANGE
"
}
diff
-
-
git
a
/
util
/
process_version
.
gni
b
/
util
/
process_version
.
gni
index
cd9671ccd
.
.
855eac210
100644
-
-
-
a
/
util
/
process_version
.
gni
+
+
+
b
/
util
/
process_version
.
gni
-
2
7
+
2
7
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
util
/
lastchange
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
util
/
lastchange
.
gni
"
)
#
Runs
the
version
processing
script
over
the
given
template
file
to
produce
#
an
output
file
.
This
is
used
for
generating
various
forms
of
files
that
-
64
7
+
64
7
template
(
"
process_version
"
)
{
}
action
(
action_name
)
{
-
script
=
"
/
/
build
/
util
/
version
.
py
"
+
script
=
"
/
/
chromium
/
build
/
util
/
version
.
py
"
inputs
=
[
lastchange_file
]
if
(
defined
(
invoker
.
inputs
)
)
{
diff
-
-
git
a
/
win
/
BUILD
.
gn
b
/
win
/
BUILD
.
gn
index
51ea725ec
.
.
696780c92
100644
-
-
-
a
/
win
/
BUILD
.
gn
+
+
+
b
/
win
/
BUILD
.
gn
-
2
9
+
2
9
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
-
import
(
"
/
/
build
/
config
/
clang
/
clang
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
-
import
(
"
/
/
build
/
config
/
win
/
manifest
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
clang
/
clang
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
sanitizers
/
sanitizers
.
gni
"
)
+
import
(
"
/
/
chromium
/
build
/
config
/
win
/
manifest
.
gni
"
)
#
Depending
on
this
target
will
cause
the
manifests
for
Chrome
'
s
default
#
Windows
and
common
control
compatibility
and
elevation
for
executables
.
-
21
10
+
21
10
if
(
is_win
)
{
#
"
Windows
cross
-
builds
from
Mac
must
be
64
-
bit
.
"
)
action
(
"
copy_cdb_to_output
"
)
{
-
script
=
"
/
/
build
/
win
/
copy_cdb_to_output
.
py
"
+
script
=
"
/
/
chromium
/
build
/
win
/
copy_cdb_to_output
.
py
"
inputs
=
[
script
-
"
/
/
build
/
vs_toolchain
.
py
"
+
"
/
/
chromium
/
build
/
vs_toolchain
.
py
"
]
outputs
=
[
"
root_out_dir
/
cdb
/
cdb
.
exe
"
diff
-
-
git
a
/
win
/
message_compiler
.
gni
b
/
win
/
message_compiler
.
gni
index
33ced1cb7
.
.
c9fd42568
100644
-
-
-
a
/
win
/
message_compiler
.
gni
+
+
+
b
/
win
/
message_compiler
.
gni
-
38
7
+
38
7
template
(
"
message_compiler
"
)
{
forward_variables_from
(
invoker
[
"
visibility
"
]
)
}
-
script
=
"
/
/
build
/
win
/
message_compiler
.
py
"
+
script
=
"
/
/
chromium
/
build
/
win
/
message_compiler
.
py
"
outputs
=
[
"
target_gen_dir
/
{
{
source_name_part
}
}
.
h
"

#
Copyright
2021
The
Chromium
Authors
.
All
rights
reserved
.
#
Use
of
this
source
code
is
governed
by
a
BSD
-
style
license
that
can
be
#
found
in
the
LICENSE
file
.
import
(
"
/
/
chromium
/
build
/
rust
/
mixed_static_library
.
gni
"
)
mixed_static_library
(
"
test_mixed_static_library
"
)
{
sources
=
[
"
test_mixed_static_library
.
cc
"
"
test_mixed_static_library
.
h
"
]
rs_sources
=
[
"
src
/
lib
.
rs
"
]
rs_cxx_bindings
=
[
"
src
/
lib
.
rs
"
]
rs_visibility
=
[
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_unittests
:
*
"
"
/
/
chromium
/
build
/
rust
/
tests
/
test_rust_exe
:
*
"
]
visibility
=
[
"
/
/
chromium
/
build
/
rust
/
tests
:
*
"
"
/
/
chromium
/
build
/
rust
/
tests
/
test_cpp_including_rust
:
*
"
]
deps
=
[
"
:
some_headers
"
]
}
#
Exists
to
test
that
such
dependents
are
visible
to
the
source_set
#
that
builds
the
generated
cxx
bindings
.
source_set
(
"
some_headers
"
)
{
sources
=
[
"
dependency_header
.
h
"
]
#
This
line
tests
that
existing
targets
with
visibility
rules
#
do
not
have
to
adjust
those
rules
when
Rust
is
added
to
an
#
existing
source_set
.
visibility
=
[
"
:
test_mixed_static_library
"
]
}

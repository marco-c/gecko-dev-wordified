diff
-
-
git
a
/
sdk
/
perfetto
.
h
b
/
sdk
/
perfetto
.
h
index
411806567
.
.
62d3dee8d
100644
-
-
-
a
/
sdk
/
perfetto
.
h
+
+
+
b
/
sdk
/
perfetto
.
h
-
19479
6
+
19479
7
class
TrackEventDataSource
#
define
PERFETTO_INTERNAL_EVENT_FINALIZER_KEYWORD
default
#
endif
+
#
include
<
mozilla
/
Attributes
.
h
>
#
define
PERFETTO_INTERNAL_SCOPED_EVENT_FINALIZER
(
category
)
\
struct
PERFETTO_UID
(
ScopedEvent
)
{
\
struct
EventFinalizer
{
\
-
19489
7
+
19490
7
class
TrackEventDataSource
/
*
TrackEventArgumentFunction
in
|
__VA_ARGS__
|
.
This
is
required
so
*
/
\
/
*
that
the
scoped
event
is
exactly
ONE
line
and
can
'
t
escape
the
*
/
\
/
*
scope
if
used
in
a
single
line
if
statement
.
*
/
\
-
EventFinalizer
(
.
.
.
)
{
}
\
+
MOZ_IMPLICIT
EventFinalizer
(
.
.
.
)
{
}
\
~
EventFinalizer
(
)
{
TRACE_EVENT_END
(
category
)
;
}
\
\
EventFinalizer
(
const
EventFinalizer
&
)
=
delete
;
\

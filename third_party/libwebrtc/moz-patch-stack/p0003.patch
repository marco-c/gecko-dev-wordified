From
:
Daniel
Baker
<
dbaker
mozilla
.
com
>
Date
:
Mon
1
Dec
2025
17
:
52
:
37
-
0700
Subject
:
(
tmp
-
cherry
-
pick
)
Revert
"
Avoid
seeding
Random
with
current
time
in
packet_sequencer
"
(
ef084b6cc6
)
MIME
-
Version
:
1
.
0
Content
-
Type
:
text
/
plain
;
charset
=
UTF
-
8
Content
-
Transfer
-
Encoding
:
8bit
This
reverts
commit
6cccb107b808c6b55666a70cfd24c315e8255546
.
Reason
for
revert
:
absl
:
:
BitGen
has
issues
seeding
on
Windows10
Chromium
render
process
.
https
:
/
/
ci
.
chromium
.
org
/
ui
/
p
/
chromium
/
builders
/
webrtc
.
fyi
/
WebRTC
%
20Chromium
%
20FYI
%
20Win10
%
20Tester
/
18543
/
test
-
results
Original
change
'
s
description
:
>
Avoid
seeding
Random
with
current
time
in
packet_sequencer
>
>
Random
default
constructor
now
provides
a
non
-
deterministic
random
seed
.
>
>
This
CL
was
uploaded
by
an
experimental
version
of
git
cl
split
>
(
https
:
/
/
crbug
.
com
/
389069356
)
.
>
>
R
=
sprang
webrtc
.
org
>
>
Bug
:
webrtc
:
42223992
webrtc
:
441137274
>
Change
-
Id
:
I73041a621fe768fe60cb1a7db78f917f17571ff0
>
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
408742
>
Reviewed
-
by
:
Erik
Spr
ng
<
sprang
webrtc
.
org
>
>
Commit
-
Queue
:
Erik
Spr
ng
<
sprang
webrtc
.
org
>
>
Auto
-
Submit
:
Evan
Shrubsole
<
eshr
webrtc
.
org
>
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
45593
}
Bug
:
webrtc
:
42223992
webrtc
:
441137274
Change
-
Id
:
I11af73ef3273c40734761abfcf0291106b136d2f
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
408902
Bot
-
Commit
:
Rubber
Stamper
<
rubber
-
stamper
appspot
.
gserviceaccount
.
com
>
Commit
-
Queue
:
Evan
Shrubsole
<
eshr
webrtc
.
org
>
Reviewed
-
by
:
Harald
Alvestrand
<
hta
webrtc
.
org
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
45611
}
-
-
-
modules
/
rtp_rtcp
/
source
/
packet_sequencer
.
cc
|
2
+
-
1
file
changed
1
insertion
(
+
)
1
deletion
(
-
)
diff
-
-
git
a
/
modules
/
rtp_rtcp
/
source
/
packet_sequencer
.
cc
b
/
modules
/
rtp_rtcp
/
source
/
packet_sequencer
.
cc
index
abae8c1b97
.
.
930ace9d38
100644
-
-
-
a
/
modules
/
rtp_rtcp
/
source
/
packet_sequencer
.
cc
+
+
+
b
/
modules
/
rtp_rtcp
/
source
/
packet_sequencer
.
cc
-
45
7
+
45
7
PacketSequencer
:
:
PacketSequencer
(
uint32_t
media_ssrc
last_payload_type_
(
-
1
)
last_rtp_timestamp_
(
0
)
last_packet_marker_bit_
(
false
)
{
-
Random
random
;
+
Random
random
(
clock_
-
>
TimeInMicroseconds
(
)
)
;
/
/
Random
start
16
bits
.
Upper
half
of
range
is
avoided
in
order
to
prevent
/
/
SRTP
wraparound
issues
during
startup
.
See
this
unit
test
for
details
:
/
/
SrtpSessionTest
.
ProtectUnprotectWrapAroundRocMismatch

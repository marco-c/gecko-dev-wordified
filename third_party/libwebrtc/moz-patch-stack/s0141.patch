From
:
Michael
Froman
<
mjfroman
mac
.
com
>
Date
:
Wed
24
Sep
2025
16
:
14
:
15
-
0500
Subject
:
Bug
1990526
-
Cherry
-
pick
upstream
libwebrtc
commit
306f5a67ac
r
?
ng
Upstream
commit
:
https
:
/
/
webrtc
.
googlesource
.
com
/
src
/
+
/
306f5a67ac952956ecec09fb1ec7ecfd4f593c60
Revert
"
Enable
scenario
test
for
L4S
"
This
reverts
commit
d8507ca5eb936c46e9b35baab2090522f6d0a6fd
.
Reason
for
revert
:
Reverting
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
396640
to
investigate
a
downstream
issue
.
This
CL
depends
on
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
396640
so
to
have
a
clean
revert
let
'
s
revert
this
one
as
well
.
Bug
:
webrtc
:
42225697
webrtc
:
383078466
Original
change
'
s
description
:
>
Enable
scenario
test
for
L4S
>
>
The
fix
has
landed
.
>
>
Bug
:
webrtc
:
42225697
webrtc
:
383078466
>
Change
-
Id
:
I9838c9ed582ddef05d5d1593c5a3e6d9a60543aa
>
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
396802
>
Reviewed
-
by
:
Per
Kjellander
<
perkj
webrtc
.
org
>
>
Commit
-
Queue
:
Per
Kjellander
<
perkj
webrtc
.
org
>
>
Auto
-
Submit
:
Harald
Alvestrand
<
hta
webrtc
.
org
>
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
44955
}
No
-
Try
:
True
Bug
:
webrtc
:
42225697
webrtc
:
383078466
b
/
425662432
b
/
426394283
Change
-
Id
:
Id2bd39bfb1690539eb8219d666fd1a82a8b297b6
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
397880
Owners
-
Override
:
Mirko
Bonadei
<
mbonadei
webrtc
.
org
>
Commit
-
Queue
:
Mirko
Bonadei
<
mbonadei
webrtc
.
org
>
Bot
-
Commit
:
rubber
-
stamper
appspot
.
gserviceaccount
.
com
<
rubber
-
stamper
appspot
.
gserviceaccount
.
com
>
Reviewed
-
by
:
Harald
Alvestrand
<
hta
webrtc
.
org
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
45010
}
-
-
-
test
/
peer_scenario
/
tests
/
l4s_test
.
cc
|
6
+
+
+
+
+
-
1
file
changed
5
insertions
(
+
)
1
deletion
(
-
)
diff
-
-
git
a
/
test
/
peer_scenario
/
tests
/
l4s_test
.
cc
b
/
test
/
peer_scenario
/
tests
/
l4s_test
.
cc
index
378ea2e746
.
.
ce110f9bf0
100644
-
-
-
a
/
test
/
peer_scenario
/
tests
/
l4s_test
.
cc
+
+
+
b
/
test
/
peer_scenario
/
tests
/
l4s_test
.
cc
-
185
7
+
185
11
TEST
(
L4STest
NegotiateAndUseCcfbIfEnabled
)
{
s
.
ProcessMessages
(
TimeDelta
:
:
Seconds
(
2
)
)
;
EXPECT_GT
(
send_node_feedback_counter
.
FeedbackAccordingToRfc8888
(
)
0
)
;
-
EXPECT_EQ
(
send_node_feedback_counter
.
FeedbackAccordingToTransportCc
(
)
0
)
;
+
/
/
TODO
:
bugs
.
webrtc
.
org
/
42225697
-
Fix
bug
.
Caller
sends
both
transport
+
/
/
sequence
number
feedback
and
congestion
control
feedback
.
So
+
/
/
callee
still
send
packets
with
transport
sequence
number
header
extensions
+
/
/
even
though
it
has
been
removed
from
the
answer
.
+
/
/
EXPECT_EQ
(
send_node_feedback_counter
.
FeedbackAccordingToTransportCc
(
)
0
)
;
EXPECT_GT
(
ret_node_feedback_counter
.
FeedbackAccordingToRfc8888
(
)
0
)
;
EXPECT_EQ
(
ret_node_feedback_counter
.
FeedbackAccordingToTransportCc
(
)
0
)
;

From
:
Michael
Froman
<
mfroman
mozilla
.
com
>
Date
:
Fri
19
Sep
2025
12
:
10
:
00
-
0500
Subject
:
Bug
1985396
-
(
fix
-
81d116b87a
)
fixes
for
c
+
+
20
support
Mercurial
Revision
:
https
:
/
/
hg
.
mozilla
.
org
/
mozilla
-
central
/
rev
/
b1e64049d586ffc490ab49de9e4c95f6307ea732
-
-
-
rtc_base
/
win32
.
cc
|
4
+
+
-
-
1
file
changed
2
insertions
(
+
)
2
deletions
(
-
)
diff
-
-
git
a
/
rtc_base
/
win32
.
cc
b
/
rtc_base
/
win32
.
cc
index
d7105fc66e
.
.
fce3e07650
100644
-
-
-
a
/
rtc_base
/
win32
.
cc
+
+
+
b
/
rtc_base
/
win32
.
cc
-
14
8
+
14
8
#
include
<
ws2tcpip
.
h
>
#
include
<
algorithm
>
-
#
include
<
iterator
>
+
#
include
"
rtc_base
/
arraysize
.
h
"
#
include
"
rtc_base
/
byte_order
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
string_utils
.
h
"
-
88
7
+
88
7
const
char
*
inet_ntop_v6
(
const
void
*
src
char
*
dst
socklen_t
size
)
{
int
current
=
1
;
int
max
=
0
;
int
maxpos
=
-
1
;
-
int
run_array_size
=
std
:
:
ssize
(
runpos
)
;
+
int
run_array_size
=
arraysize
(
runpos
)
;
/
/
Run
over
the
address
marking
runs
of
0s
.
for
(
int
i
=
0
;
i
<
run_array_size
;
+
+
i
)
{
if
(
as_shorts
[
i
]
=
=
0
)
{

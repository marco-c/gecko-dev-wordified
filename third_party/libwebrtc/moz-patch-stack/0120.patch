From
:
Nico
Grunbaum
<
na
-
g
nostrum
.
com
>
Date
:
Fri
2
Jun
2023
11
:
37
:
00
-
0700
Subject
:
Bug
1833237
-
(
fix
-
3541732527
)
Use
GetRealTimeClockRaw
in
acm_receiver
Mercurial
Revision
:
https
:
/
/
hg
.
mozilla
.
org
/
mozilla
-
central
/
rev
/
d1110c0284e4192b2682ef1c074f2b04c15588b9
-
-
-
modules
/
audio_coding
/
acm2
/
acm_receiver
.
cc
|
2
+
-
1
file
changed
1
insertion
(
+
)
1
deletion
(
-
)
diff
-
-
git
a
/
modules
/
audio_coding
/
acm2
/
acm_receiver
.
cc
b
/
modules
/
audio_coding
/
acm2
/
acm_receiver
.
cc
index
a8fded6226
.
.
7e6f40cc18
100644
-
-
-
a
/
modules
/
audio_coding
/
acm2
/
acm_receiver
.
cc
+
+
+
b
/
modules
/
audio_coding
/
acm2
/
acm_receiver
.
cc
-
50
7
+
50
7
std
:
:
unique_ptr
<
NetEq
>
CreateNetEq
(
AcmReceiver
:
:
Config
:
:
Config
(
rtc
:
:
scoped_refptr
<
AudioDecoderFactory
>
decoder_factory
)
-
:
clock
(
*
Clock
:
:
GetRealTimeClock
(
)
)
decoder_factory
(
decoder_factory
)
{
+
:
clock
(
*
Clock
:
:
GetRealTimeClockRaw
(
)
)
decoder_factory
(
decoder_factory
)
{
/
/
Post
-
decode
VAD
is
disabled
by
default
in
NetEq
however
Audio
/
/
Conference
Mixer
relies
on
VAD
decisions
and
fails
without
them
.
neteq_config
.
enable_post_decode_vad
=
true
;
-
-
2
.
34
.
1

From
:
Michael
Froman
<
mjfroman
mac
.
com
>
Date
:
Thu
11
Sep
2025
15
:
38
:
13
-
0500
Subject
:
(
tmp
-
cherry
-
pick
)
Revert
"
IWYU
modules
/
desktop_capture
/
"
(
5fcbc234a3
)
This
reverts
commit
788e02e6bb23cc8d85416de61714fc236de053ca
.
Reason
for
revert
:
breaks
compilation
downstream
:
desktop_capturer_differ_wrapper
.
cc
-
>
desktop_capture_metadata
.
h
"
include
should
be
conditional
.
Original
change
'
s
description
:
>
IWYU
modules
/
desktop_capture
/
>
>
using
>
find
modules
/
desktop_capture
/
-
name
"
*
.
h
"
-
o
-
name
"
*
.
cc
"
|
grep
-
v
win
|
grep
-
v
wayland
|
grep
-
v
mac
|
grep
-
v
fuchsia
|
xargs
tools_webrtc
/
iwyu
/
apply
-
include
-
cleaner
>
followed
by
>
tools_webrtc
/
gn_check_autofix
.
py
-
C
out
/
Default
/
>
and
git
cl
format
>
>
Manual
changes
(
mostly
replacing
C
style
headers
with
C
+
+
ones
)
were
done
in
PS3
.
>
PS5
+
PS6
brought
back
some
platform
-
specific
includes
.
>
>
BUG
=
webrtc
:
42226242
>
>
Change
-
Id
:
I4b84fa6abc320de0c734a43efa84c6f7e434c9af
>
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
382140
>
Reviewed
-
by
:
Danil
Chapovalov
<
danilchap
webrtc
.
org
>
>
Commit
-
Queue
:
Philipp
Hancke
<
phancke
meta
.
com
>
>
Reviewed
-
by
:
Alexander
Cooper
<
alcooper
chromium
.
org
>
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
44778
}
Bug
:
webrtc
:
42226242
b
/
420792585
No
-
Presubmit
:
true
No
-
Tree
-
Checks
:
true
No
-
Try
:
true
Change
-
Id
:
I8cac586eda8fdaf9e20a6322383dd306887e8fa2
Reviewed
-
on
:
https
:
/
/
webrtc
-
review
.
googlesource
.
com
/
c
/
src
/
+
/
393921
Commit
-
Queue
:
Danil
Chapovalov
<
danilchap
webrtc
.
org
>
Owners
-
Override
:
Danil
Chapovalov
<
danilchap
webrtc
.
org
>
Bot
-
Commit
:
rubber
-
stamper
appspot
.
gserviceaccount
.
com
<
rubber
-
stamper
appspot
.
gserviceaccount
.
com
>
Reviewed
-
by
:
Johannes
Kron
<
kron
webrtc
.
org
>
Cr
-
Commit
-
Position
:
refs
/
heads
/
main
{
#
44784
}
-
-
-
modules
/
desktop_capture
/
BUILD
.
gn
|
1
-
.
.
.
/
blank_detector_desktop_capturer_wrapper
.
cc
|
6
-
-
-
-
-
-
.
.
.
/
blank_detector_desktop_capturer_wrapper
.
h
|
1
-
.
.
.
tector_desktop_capturer_wrapper_unittest
.
cc
|
1
-
.
.
.
/
desktop_capture
/
cropped_desktop_frame
.
cc
|
2
-
-
.
.
.
/
cropped_desktop_frame_unittest
.
cc
|
3
-
-
-
.
.
.
/
cropping_window_capturer
.
cc
|
7
-
-
-
-
-
-
-
.
.
.
/
desktop_and_cursor_composer
.
cc
|
9
+
+
+
-
-
-
-
-
-
.
.
.
/
desktop_and_cursor_composer
.
h
|
1
-
.
.
.
/
desktop_and_cursor_composer_unittest
.
cc
|
10
+
+
+
+
-
-
-
-
-
-
.
.
.
/
desktop_capture_metrics_helper
.
cc
|
2
-
-
.
.
.
/
desktop_capture
/
desktop_capture_options
.
cc
|
3
+
-
-
.
.
.
/
desktop_capture
/
desktop_capture_options
.
h
|
2
-
-
modules
/
desktop_capture
/
desktop_capturer
.
cc
|
18
+
+
+
+
+
+
-
-
-
-
-
-
-
-
-
-
-
-
modules
/
desktop_capture
/
desktop_capturer
.
h
|
6
+
+
+
-
-
-
.
.
.
/
desktop_capturer_differ_wrapper
.
cc
|
12
+
+
+
-
-
-
-
-
-
-
-
-
.
.
.
desktop_capturer_differ_wrapper_unittest
.
cc
|
5
-
-
-
-
-
.
.
.
/
desktop_capturer_wrapper
.
cc
|
5
-
-
-
-
-
modules
/
desktop_capture
/
desktop_frame
.
cc
|
6
+
+
-
-
-
-
.
.
.
/
desktop_capture
/
desktop_frame_generator
.
cc
|
9
+
+
+
-
-
-
-
-
-
.
.
.
/
desktop_capture
/
desktop_frame_rotation
.
cc
|
3
-
-
-
.
.
.
/
desktop_frame_rotation_unittest
.
cc
|
3
+
-
-
modules
/
desktop_capture
/
desktop_geometry
.
cc
|
1
-
modules
/
desktop_capture
/
desktop_region
.
cc
|
2
-
-
.
.
.
/
desktop_capture
/
desktop_region_unittest
.
cc
|
5
+
+
+
-
-
modules
/
desktop_capture
/
differ_block
.
cc
|
8
+
+
+
+
-
-
-
-
.
.
.
/
desktop_capture
/
differ_block_unittest
.
cc
|
3
+
-
-
modules
/
desktop_capture
/
differ_vector_sse2
.
cc
|
2
-
-
.
.
.
/
desktop_capture
/
fake_desktop_capturer
.
cc
|
4
-
-
-
-
.
.
.
/
fallback_desktop_capturer_wrapper
.
cc
|
9
+
+
-
-
-
-
-
-
-
.
.
.
llback_desktop_capturer_wrapper_unittest
.
cc
|
4
+
+
-
-
.
.
.
/
full_screen_application_handler
.
cc
|
4
+
-
-
-
.
.
.
/
full_screen_application_handler
.
h
|
2
+
-
.
.
.
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
cc
|
5
+
+
-
-
-
.
.
.
/
linux
/
x11
/
screen_capturer_x11
.
cc
|
9
+
+
-
-
-
-
-
-
-
.
.
.
/
linux
/
x11
/
screen_capturer_x11
.
h
|
1
-
.
.
.
/
linux
/
x11
/
shared_x_display
.
cc
|
5
-
-
-
-
-
.
.
.
/
linux
/
x11
/
window_capturer_x11
.
cc
|
7
+
-
-
-
-
-
-
.
.
.
/
linux
/
x11
/
window_finder_x11
.
cc
|
3
-
-
-
.
.
.
/
linux
/
x11
/
window_finder_x11
.
h
|
2
-
-
.
.
.
/
linux
/
x11
/
window_list_utils
.
cc
|
7
+
-
-
-
-
-
-
.
.
.
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
cc
|
3
-
-
-
.
.
.
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
cc
|
4
+
-
-
-
.
.
.
/
linux
/
x11
/
x_server_pixel_buffer
.
cc
|
9
+
+
-
-
-
-
-
-
-
.
.
.
/
linux
/
x11
/
x_server_pixel_buffer
.
h
|
5
+
+
-
-
-
.
.
.
/
mock_desktop_capturer_callback
.
cc
|
5
-
-
-
-
-
modules
/
desktop_capture
/
mouse_cursor
.
cc
|
1
-
.
.
.
/
mouse_cursor_monitor_linux
.
cc
|
1
-
modules
/
desktop_capture
/
resolution_tracker
.
cc
|
2
-
-
modules
/
desktop_capture
/
rgba_color
.
cc
|
2
-
-
.
.
.
/
desktop_capture
/
screen_capturer_helper
.
cc
|
5
-
-
-
-
-
.
.
.
/
desktop_capture
/
screen_capturer_helper
.
h
|
2
+
+
.
.
.
/
screen_capturer_helper_unittest
.
cc
|
2
-
-
.
.
.
/
desktop_capture
/
screen_capturer_linux
.
cc
|
1
-
.
.
.
/
desktop_capture
/
screen_capturer_null
.
cc
|
2
-
-
.
.
.
/
screen_capturer_unittest
.
cc
|
5
+
-
-
-
-
modules
/
desktop_capture
/
screen_drawer
.
cc
|
2
-
-
modules
/
desktop_capture
/
screen_drawer
.
h
|
2
-
-
.
.
.
/
screen_drawer_lock_posix
.
cc
|
3
-
-
-
.
.
.
/
desktop_capture
/
screen_drawer_unittest
.
cc
|
6
+
+
+
-
-
-
.
.
.
/
desktop_capture
/
shared_desktop_frame
.
cc
|
4
+
-
-
-
modules
/
desktop_capture
/
shared_memory
.
cc
|
2
-
-
modules
/
desktop_capture
/
test_utils
.
cc
|
5
+
+
-
-
-
modules
/
desktop_capture
/
test_utils_unittest
.
cc
|
4
+
+
-
-
64
files
changed
62
insertions
(
+
)
213
deletions
(
-
)
diff
-
-
git
a
/
modules
/
desktop_capture
/
BUILD
.
gn
b
/
modules
/
desktop_capture
/
BUILD
.
gn
index
b7fab18be3
.
.
e39b72e979
100644
-
-
-
a
/
modules
/
desktop_capture
/
BUILD
.
gn
+
+
+
b
/
modules
/
desktop_capture
/
BUILD
.
gn
-
104
7
+
104
6
if
(
rtc_include_tests
)
{
"
:
desktop_capture
"
"
:
desktop_capture_mock
"
"
:
primitives
"
-
"
.
.
/
.
.
/
api
:
scoped_refptr
"
"
.
.
/
.
.
/
rtc_base
:
checks
"
"
.
.
/
.
.
/
rtc_base
:
logging
"
"
.
.
/
.
.
/
rtc_base
:
random
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
cc
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
cc
index
7d74adf6f2
.
.
8e56ffc3fd
100644
-
-
-
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
cc
-
12
16
+
12
10
#
include
<
stdint
.
h
>
-
#
include
<
memory
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
-
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
system_wrappers
/
include
/
metrics
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
h
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
h
index
47eaa6891f
.
.
d10f9cf725
100644
-
-
-
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
h
+
+
+
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper
.
h
-
16
7
+
16
6
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper_unittest
.
cc
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper_unittest
.
cc
index
e2e5b9d7eb
.
.
25a81edd89
100644
-
-
-
a
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
blank_detector_desktop_capturer_wrapper_unittest
.
cc
-
19
7
+
19
6
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
fake_desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
cropped_desktop_frame
.
cc
b
/
modules
/
desktop_capture
/
cropped_desktop_frame
.
cc
index
9315ecde8f
.
.
54488b7d62
100644
-
-
-
a
/
modules
/
desktop_capture
/
cropped_desktop_frame
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
cropped_desktop_frame
.
cc
-
13
8
+
13
6
#
include
<
memory
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
cropped_desktop_frame_unittest
.
cc
b
/
modules
/
desktop_capture
/
cropped_desktop_frame_unittest
.
cc
index
78fa6d8b1d
.
.
9becf69636
100644
-
-
-
a
/
modules
/
desktop_capture
/
cropped_desktop_frame_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
cropped_desktop_frame_unittest
.
cc
-
10
13
+
10
10
#
include
"
modules
/
desktop_capture
/
cropped_desktop_frame
.
h
"
-
#
include
<
cstdint
>
#
include
<
memory
>
#
include
<
utility
>
-
#
include
<
vector
>
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
shared_desktop_frame
.
h
"
#
include
"
test
/
gtest
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
cropping_window_capturer
.
cc
b
/
modules
/
desktop_capture
/
cropping_window_capturer
.
cc
index
b0aa492804
.
.
d1cc1c8313
100644
-
-
-
a
/
modules
/
desktop_capture
/
cropping_window_capturer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
cropping_window_capturer
.
cc
-
12
16
+
12
9
#
include
<
stddef
.
h
>
-
#
include
<
memory
>
#
include
<
utility
>
#
include
"
modules
/
desktop_capture
/
cropped_desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
logging
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
cc
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
cc
index
838b1c2fd2
.
.
91aea58628
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
cc
-
10
19
+
10
16
#
include
"
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
+
#
include
<
memory
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_metadata
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
mouse_cursor
.
h
"
#
include
"
modules
/
desktop_capture
/
mouse_cursor_monitor
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
logging
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
index
95a323ae64
.
.
28ea25c8c9
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
+
+
+
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
-
11
7
+
11
6
#
ifndef
MODULES_DESKTOP_CAPTURE_DESKTOP_AND_CURSOR_COMPOSER_H_
#
define
MODULES_DESKTOP_CAPTURE_DESKTOP_AND_CURSOR_COMPOSER_H_
-
#
include
<
cstdint
>
#
include
<
memory
>
#
if
defined
(
WEBRTC_USE_GIO
)
#
include
"
modules
/
desktop_capture
/
desktop_capture_metadata
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer_unittest
.
cc
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer_unittest
.
cc
index
ee8cd9f7b4
.
.
f668a8739b
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_and_cursor_composer_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_and_cursor_composer_unittest
.
cc
-
10
18
+
10
16
#
include
"
modules
/
desktop_capture
/
desktop_and_cursor_composer
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
+
#
include
<
memory
>
-
#
include
<
ostream
>
#
include
<
utility
>
+
#
include
<
vector
>
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
mouse_cursor
.
h
"
-
#
include
"
modules
/
desktop_capture
/
mouse_cursor_monitor
.
h
"
#
include
"
modules
/
desktop_capture
/
shared_desktop_frame
.
h
"
#
include
"
test
/
gmock
.
h
"
#
include
"
test
/
gtest
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capture_metrics_helper
.
cc
b
/
modules
/
desktop_capture
/
desktop_capture_metrics_helper
.
cc
index
4cacd257e0
.
.
9f20b56c35
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capture_metrics_helper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capture_metrics_helper
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
desktop_capture_metrics_helper
.
h
"
-
#
include
<
cstdint
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
system_wrappers
/
include
/
metrics
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capture_options
.
cc
b
/
modules
/
desktop_capture
/
desktop_capture_options
.
cc
index
3e640bf1ac
.
.
8d28d2bacc
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capture_options
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capture_options
.
cc
-
10
8
+
10
7
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
-
#
include
"
api
/
make_ref_counted
.
h
"
/
/
IWYU
pragma
:
keep
-
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
h
"
+
#
include
"
api
/
make_ref_counted
.
h
"
#
if
defined
(
WEBRTC_MAC
)
&
&
!
defined
(
WEBRTC_IOS
)
#
include
"
modules
/
desktop_capture
/
mac
/
full_screen_mac_application_handler
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capture_options
.
h
b
/
modules
/
desktop_capture
/
desktop_capture_options
.
h
index
8eb03af755
.
.
dca0c6386f
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capture_options
.
h
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capture_options
.
h
-
10
8
+
10
6
#
ifndef
MODULES_DESKTOP_CAPTURE_DESKTOP_CAPTURE_OPTIONS_H_
#
define
MODULES_DESKTOP_CAPTURE_DESKTOP_CAPTURE_OPTIONS_H_
-
#
include
<
cstdint
>
-
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
rtc_base
/
system
/
rtc_export
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capturer
.
cc
b
/
modules
/
desktop_capture
/
desktop_capturer
.
cc
index
ae9aba26ee
.
.
94605f409c
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capturer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capturer
.
cc
-
10
23
+
10
17
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
<
cstdlib
>
+
#
include
<
stdlib
.
h
>
+
#
include
<
string
.
h
>
+
#
include
<
cstring
>
-
#
include
<
memory
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
delegated_source_list_controller
.
h
"
+
#
include
"
modules
/
desktop_capture
/
cropping_window_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
system_wrappers
/
include
/
metrics
.
h
"
-
#
if
defined
(
WEBRTC_WIN
)
-
#
include
"
modules
/
desktop_capture
/
cropping_window_capturer
.
h
"
-
#
endif
/
/
defined
(
WEBRTC_WIN
)
-
#
if
defined
(
RTC_ENABLE_WIN_WGC
)
#
include
"
modules
/
desktop_capture
/
win
/
wgc_capturer_win
.
h
"
#
include
"
rtc_base
/
win
/
windows_version
.
h
"
-
34
11
+
28
11
#
if
defined
(
WEBRTC_USE_PIPEWIRE
)
#
include
"
modules
/
desktop_capture
/
linux
/
wayland
/
base_capturer_pipewire
.
h
"
-
#
endif
/
/
defined
(
WEBRTC_USE_PIPEWIRE
)
+
#
endif
#
if
defined
(
WEBRTC_MAC
)
&
&
!
defined
(
WEBRTC_IOS
)
#
include
"
modules
/
desktop_capture
/
mac
/
screen_capturer_sck
.
h
"
-
#
endif
/
/
defined
(
WEBRTC_MAC
)
&
&
!
defined
(
WEBRTC_IOS
)
+
#
endif
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capturer
.
h
b
/
modules
/
desktop_capture
/
desktop_capturer
.
h
index
d5a678f7b4
.
.
bb0742a410
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capturer
.
h
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capturer
.
h
-
11
8
+
11
9
#
ifndef
MODULES_DESKTOP_CAPTURE_DESKTOP_CAPTURER_H_
#
define
MODULES_DESKTOP_CAPTURE_DESKTOP_CAPTURER_H_
-
#
include
<
cstddef
>
-
#
include
<
cstdint
>
+
#
include
<
stddef
.
h
>
+
#
include
<
stdint
.
h
>
+
#
include
<
memory
>
#
include
<
string
>
#
include
<
type_traits
>
-
21
7
+
22
6
/
/
TODO
(
alcooper
)
:
Update
include
usage
in
downstream
consumers
and
then
change
/
/
this
to
a
forward
declaration
.
#
include
"
modules
/
desktop_capture
/
delegated_source_list_controller
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
if
defined
(
WEBRTC_USE_GIO
)
#
include
"
modules
/
desktop_capture
/
desktop_capture_metadata
.
h
"
#
endif
/
/
defined
(
WEBRTC_USE_GIO
)
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
cc
b
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
cc
index
613628e9cd
.
.
6656fdda2f
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
cc
-
10
20
+
10
14
#
include
"
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
-
#
include
<
memory
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
+
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_metadata
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
differ_block
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
time_utils
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper_unittest
.
cc
b
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper_unittest
.
cc
index
297128736f
.
.
4223146bd6
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper_unittest
.
cc
-
10
15
+
10
11
#
include
"
modules
/
desktop_capture
/
desktop_capturer_differ_wrapper
.
h
"
-
#
include
<
cstdint
>
#
include
<
initializer_list
>
#
include
<
memory
>
#
include
<
utility
>
#
include
<
vector
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame_generator
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
differ_block
.
h
"
-
26
7
+
22
6
#
include
"
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
h
"
#
include
"
rtc_base
/
random
.
h
"
#
include
"
rtc_base
/
time_utils
.
h
"
-
#
include
"
test
/
gmock
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_capturer_wrapper
.
cc
b
/
modules
/
desktop_capture
/
desktop_capturer_wrapper
.
cc
index
d2d0a2f8b0
.
.
4bbdd6c94f
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_capturer_wrapper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_capturer_wrapper
.
cc
-
10
13
+
10
8
#
include
"
modules
/
desktop_capture
/
desktop_capturer_wrapper
.
h
"
-
#
include
<
memory
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_frame
.
cc
b
/
modules
/
desktop_capture
/
desktop_frame
.
cc
index
bce13c1de8
.
.
ace60e2749
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_frame
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_frame
.
cc
-
10
16
+
10
14
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
<
algorithm
>
+
#
include
<
string
.
h
>
+
#
include
<
cmath
>
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
#
include
<
memory
>
#
include
<
utility
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
third_party
/
libyuv
/
include
/
libyuv
/
planar_functions
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_frame_generator
.
cc
b
/
modules
/
desktop_capture
/
desktop_frame_generator
.
cc
index
8b54ab1781
.
.
7ec96c5126
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_frame_generator
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_frame_generator
.
cc
-
10
15
+
10
12
#
include
"
modules
/
desktop_capture
/
desktop_frame_generator
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
+
#
include
<
memory
>
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
random
.
h
"
#
include
"
rtc_base
/
time_utils
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_frame_rotation
.
cc
b
/
modules
/
desktop_capture
/
desktop_frame_rotation
.
cc
index
59a9cca02f
.
.
f2745cf70b
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_frame_rotation
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_frame_rotation
.
cc
-
10
10
+
10
7
#
include
"
modules
/
desktop_capture
/
desktop_frame_rotation
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
-
#
include
"
third_party
/
libyuv
/
include
/
libyuv
/
rotate
.
h
"
#
include
"
third_party
/
libyuv
/
include
/
libyuv
/
rotate_argb
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_frame_rotation_unittest
.
cc
b
/
modules
/
desktop_capture
/
desktop_frame_rotation_unittest
.
cc
index
4038fcbacc
.
.
782ca63e61
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_frame_rotation_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_frame_rotation_unittest
.
cc
-
10
10
+
10
9
#
include
"
modules
/
desktop_capture
/
desktop_frame_rotation
.
h
"
-
#
include
<
cstdint
>
+
#
include
<
stdint
.
h
>
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
test_utils
.
h
"
#
include
"
test
/
gtest
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_geometry
.
cc
b
/
modules
/
desktop_capture
/
desktop_geometry
.
cc
index
2a2873fe6e
.
.
e0a5d7af83
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_geometry
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_geometry
.
cc
-
12
7
+
12
6
#
include
<
algorithm
>
#
include
<
cmath
>
-
#
include
<
cstdint
>
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_region
.
cc
b
/
modules
/
desktop_capture
/
desktop_region
.
cc
index
a025e17cbf
.
.
2c87c11eb3
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_region
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_region
.
cc
-
11
10
+
11
8
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
<
algorithm
>
-
#
include
<
cstdint
>
#
include
<
utility
>
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
desktop_region_unittest
.
cc
b
/
modules
/
desktop_capture
/
desktop_region_unittest
.
cc
index
20d873df5e
.
.
0cd45e9c6b
100644
-
-
-
a
/
modules
/
desktop_capture
/
desktop_region_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
desktop_region_unittest
.
cc
-
10
10
+
10
11
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
+
#
include
<
stdlib
.
h
>
+
#
include
<
algorithm
>
-
#
include
<
cstdlib
>
+
#
include
<
cstdint
>
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
differ_block
.
cc
b
/
modules
/
desktop_capture
/
differ_block
.
cc
index
06f04e521d
.
.
01ad5f050b
100644
-
-
-
a
/
modules
/
desktop_capture
/
differ_block
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
differ_block
.
cc
-
10
13
+
10
13
#
include
"
modules
/
desktop_capture
/
differ_block
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
string
.
h
>
#
include
"
rtc_base
/
cpu_info
.
h
"
-
-
/
/
Defines
WEBRTC_ARCH_X86_FAMILY
used
below
.
#
include
"
rtc_base
/
system
/
arch
.
h
"
+
+
/
/
This
needs
to
be
after
rtc_base
/
system
/
arch
.
h
which
defines
+
/
/
architecture
macros
.
#
if
defined
(
WEBRTC_ARCH_X86_FAMILY
)
#
include
"
modules
/
desktop_capture
/
differ_vector_sse2
.
h
"
#
endif
diff
-
-
git
a
/
modules
/
desktop_capture
/
differ_block_unittest
.
cc
b
/
modules
/
desktop_capture
/
differ_block_unittest
.
cc
index
819e6617a5
.
.
aa454c872d
100644
-
-
-
a
/
modules
/
desktop_capture
/
differ_block_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
differ_block_unittest
.
cc
-
10
8
+
10
7
#
include
"
modules
/
desktop_capture
/
differ_block
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
string
.
h
>
#
include
"
test
/
gtest
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
differ_vector_sse2
.
cc
b
/
modules
/
desktop_capture
/
differ_vector_sse2
.
cc
index
a3fd3d2df0
.
.
1c8b602d71
100644
-
-
-
a
/
modules
/
desktop_capture
/
differ_vector_sse2
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
differ_vector_sse2
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
differ_vector_sse2
.
h
"
-
#
include
<
cstdint
>
-
#
if
defined
(
_MSC_VER
)
#
include
<
intrin
.
h
>
#
else
diff
-
-
git
a
/
modules
/
desktop_capture
/
fake_desktop_capturer
.
cc
b
/
modules
/
desktop_capture
/
fake_desktop_capturer
.
cc
index
a80d9aa1ff
.
.
f9d9dbd2c4
100644
-
-
-
a
/
modules
/
desktop_capture
/
fake_desktop_capturer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
fake_desktop_capturer
.
cc
-
10
14
+
10
10
#
include
"
modules
/
desktop_capture
/
fake_desktop_capturer
.
h
"
-
#
include
<
memory
>
#
include
<
utility
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame_generator
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
cc
b
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
cc
index
3f1ff2206b
.
.
61fdb416f2
100644
-
-
-
a
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
cc
-
10
16
+
10
11
#
include
"
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
h
"
-
#
include
<
cstddef
>
-
#
include
<
memory
>
+
#
include
<
stddef
.
h
>
+
#
include
<
utility
>
#
include
"
api
/
sequence_checker
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
system_wrappers
/
include
/
metrics
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper_unittest
.
cc
b
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper_unittest
.
cc
index
570d8c86a9
.
.
de66386434
100644
-
-
-
a
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper_unittest
.
cc
-
10
7
+
10
8
#
include
"
modules
/
desktop_capture
/
fallback_desktop_capturer_wrapper
.
h
"
-
#
include
<
cstddef
>
+
#
include
<
stddef
.
h
>
+
#
include
<
memory
>
#
include
<
utility
>
#
include
<
vector
>
-
18
7
+
19
6
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame_generator
.
h
"
#
include
"
modules
/
desktop_capture
/
fake_desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
full_screen_application_handler
.
cc
b
/
modules
/
desktop_capture
/
full_screen_application_handler
.
cc
index
53570a4cb6
.
.
68ee8321b4
100644
-
-
-
a
/
modules
/
desktop_capture
/
full_screen_application_handler
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
full_screen_application_handler
.
cc
-
10
9
+
10
7
#
include
"
modules
/
desktop_capture
/
full_screen_application_handler
.
h
"
-
#
include
<
cstdint
>
-
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
+
#
include
"
rtc_base
/
logging
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
full_screen_application_handler
.
h
b
/
modules
/
desktop_capture
/
full_screen_application_handler
.
h
index
da9aa9e164
.
.
f816dd416c
100644
-
-
-
a
/
modules
/
desktop_capture
/
full_screen_application_handler
.
h
+
+
+
b
/
modules
/
desktop_capture
/
full_screen_application_handler
.
h
-
11
7
+
11
7
#
ifndef
MODULES_DESKTOP_CAPTURE_FULL_SCREEN_APPLICATION_HANDLER_H_
#
define
MODULES_DESKTOP_CAPTURE_FULL_SCREEN_APPLICATION_HANDLER_H_
-
#
include
<
cstdint
>
+
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
cc
index
59047dc03f
.
.
064b98fa15
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
cc
-
10
14
+
10
13
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
mouse_cursor_monitor_x11
.
h
"
-
#
include
<
X11
/
X
.
h
>
#
include
<
X11
/
Xlib
.
h
>
#
include
<
X11
/
extensions
/
Xfixes
.
h
>
#
include
<
X11
/
extensions
/
xfixeswire
.
h
>
+
#
include
<
stddef
.
h
>
+
#
include
<
stdint
.
h
>
#
include
<
algorithm
>
-
#
include
<
cstddef
>
-
#
include
<
cstdint
>
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
cc
index
4f32a27426
.
.
0384a0373b
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
cc
-
10
26
+
10
21
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
h
"
-
#
include
<
X11
/
X
.
h
>
#
include
<
X11
/
Xlib
.
h
>
#
include
<
X11
/
extensions
/
Xdamage
.
h
>
#
include
<
X11
/
extensions
/
Xfixes
.
h
>
-
#
include
<
X11
/
extensions
/
Xrandr
.
h
>
#
include
<
X11
/
extensions
/
damagewire
.
h
>
-
#
include
<
X11
/
extensions
/
randr
.
h
>
#
include
<
dlfcn
.
h
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
#
include
<
memory
>
#
include
<
utility
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
"
#
include
"
modules
/
desktop_capture
/
screen_capture_frame_queue
.
h
"
#
include
"
modules
/
desktop_capture
/
screen_capturer_helper
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
h
b
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
h
index
4379094734
.
.
d2a437aaa2
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
h
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
screen_capturer_x11
.
h
-
22
7
+
22
6
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
cc
index
a5781a5fb3
.
.
60101b9aa4
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
cc
-
14
15
+
14
10
#
include
<
X11
/
extensions
/
XTest
.
h
>
#
include
<
algorithm
>
-
#
include
<
cstddef
>
-
#
include
<
string
>
-
#
include
<
vector
>
#
include
"
absl
/
strings
/
string_view
.
h
"
-
#
include
"
api
/
scoped_refptr
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
logging
.
h
"
-
#
include
"
rtc_base
/
synchronization
/
mutex
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_capturer_x11
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_capturer_x11
.
cc
index
95f453064e
.
.
b55f7e8fa9
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_capturer_x11
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_capturer_x11
.
cc
-
10
23
+
10
18
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
window_capturer_x11
.
h
"
-
#
include
<
X11
/
X
.
h
>
-
#
include
<
X11
/
Xlib
.
h
>
#
include
<
X11
/
Xutil
.
h
>
#
include
<
X11
/
extensions
/
Xcomposite
.
h
>
#
include
<
X11
/
extensions
/
composite
.
h
>
+
#
include
<
string
.
h
>
-
#
include
<
cstring
>
#
include
<
memory
>
#
include
<
string
>
#
include
<
utility
>
#
include
"
api
/
scoped_refptr
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
shared_x_display
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
cc
index
93fa60761b
.
.
dec17ab51f
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
cc
-
14
10
+
14
7
#
include
<
memory
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
h
"
-
#
include
"
modules
/
desktop_capture
/
window_finder
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
h
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
h
index
590b1fa9fb
.
.
91de876417
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
h
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_finder_x11
.
h
-
11
8
+
11
6
#
ifndef
MODULES_DESKTOP_CAPTURE_LINUX_X11_WINDOW_FINDER_X11_H_
#
define
MODULES_DESKTOP_CAPTURE_LINUX_X11_WINDOW_FINDER_X11_H_
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
window_finder
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
cc
index
e80df6a974
.
.
41de4f84b4
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
cc
-
10
17
+
10
12
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
h
"
-
#
include
<
X11
/
X
.
h
>
#
include
<
X11
/
Xlib
.
h
>
#
include
<
X11
/
Xutil
.
h
>
+
#
include
<
string
.
h
>
#
include
<
algorithm
>
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
-
#
include
"
api
/
function_view
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_window_property
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
cc
index
ac8815edc2
.
.
157ba8b8fd
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
cc
-
10
9
+
10
6
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_atom_cache
.
h
"
-
#
include
<
X11
/
X
.
h
>
-
#
include
<
X11
/
Xlib
.
h
>
-
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
cc
index
9199a99177
.
.
24c2065111
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
cc
-
10
13
+
10
11
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
h
"
-
#
include
<
X11
/
Xlib
.
h
>
+
#
include
<
stddef
.
h
>
#
include
<
atomic
>
-
#
include
<
cstddef
>
#
include
"
rtc_base
/
checks
.
h
"
-
#
include
"
rtc_base
/
synchronization
/
mutex
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
cc
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
cc
index
f3b7dea04f
.
.
d62a014ae8
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
cc
-
10
18
+
10
13
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
"
-
#
include
<
X11
/
X
.
h
>
-
#
include
<
X11
/
Xlib
.
h
>
#
include
<
X11
/
Xutil
.
h
>
-
#
include
<
X11
/
extensions
/
XShm
.
h
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
#
include
<
sys
/
ipc
.
h
>
#
include
<
sys
/
shm
.
h
>
-
#
include
<
cstdint
>
-
#
include
<
vector
>
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
window_list_utils
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_error_trap
.
h
"
#
include
"
modules
/
desktop_capture
/
linux
/
x11
/
x_window_property
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
index
40ccc6acd0
.
.
1ccf8af971
100644
-
-
-
a
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
+
+
+
b
/
modules
/
desktop_capture
/
linux
/
x11
/
x_server_pixel_buffer
.
h
-
13
11
+
13
10
#
ifndef
MODULES_DESKTOP_CAPTURE_LINUX_X11_X_SERVER_PIXEL_BUFFER_H_
#
define
MODULES_DESKTOP_CAPTURE_LINUX_X11_X_SERVER_PIXEL_BUFFER_H_
-
#
include
<
X11
/
X
.
h
>
-
#
include
<
X11
/
Xlib
.
h
>
+
#
include
<
X11
/
Xutil
.
h
>
#
include
<
X11
/
extensions
/
XShm
.
h
>
-
#
include
<
cstdint
>
+
#
include
<
memory
>
#
include
<
vector
>
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
cc
b
/
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
cc
index
f581733c73
.
.
de77d99e18
100644
-
-
-
a
/
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
cc
-
9
11
+
9
6
#
include
"
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
h
"
-
#
include
<
memory
>
-
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
namespace
webrtc
{
MockDesktopCapturerCallback
:
:
MockDesktopCapturerCallback
(
)
=
default
;
diff
-
-
git
a
/
modules
/
desktop_capture
/
mouse_cursor
.
cc
b
/
modules
/
desktop_capture
/
mouse_cursor
.
cc
index
16b86254ef
.
.
e826552b0f
100644
-
-
-
a
/
modules
/
desktop_capture
/
mouse_cursor
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
mouse_cursor
.
cc
-
11
7
+
11
6
#
include
"
modules
/
desktop_capture
/
mouse_cursor
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
mouse_cursor_monitor_linux
.
cc
b
/
modules
/
desktop_capture
/
mouse_cursor_monitor_linux
.
cc
index
c6e8da6c32
.
.
b44500d4e8
100644
-
-
-
a
/
modules
/
desktop_capture
/
mouse_cursor_monitor_linux
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
mouse_cursor_monitor_linux
.
cc
-
11
7
+
11
6
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
mouse_cursor_monitor
.
h
"
#
if
defined
(
WEBRTC_USE_X11
)
diff
-
-
git
a
/
modules
/
desktop_capture
/
resolution_tracker
.
cc
b
/
modules
/
desktop_capture
/
resolution_tracker
.
cc
index
71b05df194
.
.
9639d627fa
100644
-
-
-
a
/
modules
/
desktop_capture
/
resolution_tracker
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
resolution_tracker
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
resolution_tracker
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
namespace
webrtc
{
bool
ResolutionTracker
:
:
SetResolution
(
DesktopSize
size
)
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
rgba_color
.
cc
b
/
modules
/
desktop_capture
/
rgba_color
.
cc
index
3845746bb0
.
.
362928a474
100644
-
-
-
a
/
modules
/
desktop_capture
/
rgba_color
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
rgba_color
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
-
#
include
<
cstdint
>
-
#
include
"
rtc_base
/
system
/
arch
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_helper
.
cc
b
/
modules
/
desktop_capture
/
screen_capturer_helper
.
cc
index
ebf9ec7e6a
.
.
04e72b3e9f
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_helper
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_helper
.
cc
-
10
11
+
10
6
#
include
"
modules
/
desktop_capture
/
screen_capturer_helper
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
-
#
include
"
rtc_base
/
checks
.
h
"
-
#
include
"
rtc_base
/
synchronization
/
mutex
.
h
"
-
namespace
webrtc
{
void
ScreenCapturerHelper
:
:
ClearInvalidRegion
(
)
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_helper
.
h
b
/
modules
/
desktop_capture
/
screen_capturer_helper
.
h
index
a91ff8e777
.
.
cd7fa689c0
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_helper
.
h
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_helper
.
h
-
11
6
+
11
8
#
ifndef
MODULES_DESKTOP_CAPTURE_SCREEN_CAPTURER_HELPER_H_
#
define
MODULES_DESKTOP_CAPTURE_SCREEN_CAPTURER_HELPER_H_
+
#
include
<
memory
>
+
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
rtc_base
/
synchronization
/
mutex
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_helper_unittest
.
cc
b
/
modules
/
desktop_capture
/
screen_capturer_helper_unittest
.
cc
index
2befa897d6
.
.
165bbe42de
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_helper_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_helper_unittest
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
screen_capturer_helper
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_linux
.
cc
b
/
modules
/
desktop_capture
/
screen_capturer_linux
.
cc
index
94726750c5
.
.
44993837e8
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_linux
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_linux
.
cc
-
11
7
+
11
6
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
if
defined
(
WEBRTC_USE_PIPEWIRE
)
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_null
.
cc
b
/
modules
/
desktop_capture
/
screen_capturer_null
.
cc
index
aa6d4991a0
.
.
6b1ccb322e
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_null
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_null
.
cc
-
8
8
+
8
6
*
be
found
in
the
AUTHORS
file
in
the
root
of
the
source
tree
.
*
/
-
#
include
<
memory
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
namespace
webrtc
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_capturer_unittest
.
cc
b
/
modules
/
desktop_capture
/
screen_capturer_unittest
.
cc
index
ccbce1c8db
.
.
0176314551
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_capturer_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_capturer_unittest
.
cc
-
8
17
+
8
14
*
be
found
in
the
AUTHORS
file
in
the
root
of
the
source
tree
.
*
/
-
#
include
<
cstddef
>
#
include
<
memory
>
#
include
"
modules
/
desktop_capture
/
desktop_capture_options
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_capturer
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_region
.
h
"
#
include
"
modules
/
desktop_capture
/
mock_desktop_capturer_callback
.
h
"
-
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
-
#
include
"
rtc_base
/
logging
.
h
"
/
/
IWYU
pragma
:
keep
+
#
include
"
rtc_base
/
logging
.
h
"
#
include
"
test
/
gmock
.
h
"
#
include
"
test
/
gtest
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_drawer
.
cc
b
/
modules
/
desktop_capture
/
screen_drawer
.
cc
index
d66b0eea41
.
.
6460f19f65
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_drawer
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_drawer
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
screen_drawer
.
h
"
-
#
include
<
memory
>
-
namespace
webrtc
{
namespace
{
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_drawer
.
h
b
/
modules
/
desktop_capture
/
screen_drawer
.
h
index
6f5d3cdbd3
.
.
ad7c0ad8d1
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_drawer
.
h
+
+
+
b
/
modules
/
desktop_capture
/
screen_drawer
.
h
-
11
8
+
11
6
#
ifndef
MODULES_DESKTOP_CAPTURE_SCREEN_DRAWER_H_
#
define
MODULES_DESKTOP_CAPTURE_SCREEN_DRAWER_H_
-
#
include
<
memory
>
-
#
include
"
modules
/
desktop_capture
/
desktop_capture_types
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_drawer_lock_posix
.
cc
b
/
modules
/
desktop_capture
/
screen_drawer_lock_posix
.
cc
index
7c8efd1961
.
.
28cb501fe7
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_drawer_lock_posix
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_drawer_lock_posix
.
cc
-
11
11
+
11
8
#
include
"
modules
/
desktop_capture
/
screen_drawer_lock_posix
.
h
"
#
include
<
fcntl
.
h
>
-
#
include
<
semaphore
.
h
>
#
include
<
sys
/
stat
.
h
>
-
#
include
<
string
>
-
#
include
"
absl
/
strings
/
string_view
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
logging
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
screen_drawer_unittest
.
cc
b
/
modules
/
desktop_capture
/
screen_drawer_unittest
.
cc
index
fac7932bfb
.
.
b832b1752c
100644
-
-
-
a
/
modules
/
desktop_capture
/
screen_drawer_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
screen_drawer_unittest
.
cc
-
10
13
+
10
13
#
include
"
modules
/
desktop_capture
/
screen_drawer
.
h
"
+
#
include
<
stdint
.
h
>
+
#
include
<
atomic
>
-
#
include
<
cstdint
>
#
include
<
memory
>
#
include
"
api
/
function_view
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
-
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
+
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
rtc_base
/
logging
.
h
"
#
include
"
rtc_base
/
platform_thread
.
h
"
#
include
"
rtc_base
/
random
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
shared_desktop_frame
.
cc
b
/
modules
/
desktop_capture
/
shared_desktop_frame
.
cc
index
3dbf1daa87
.
.
538e27b6dd
100644
-
-
-
a
/
modules
/
desktop_capture
/
shared_desktop_frame
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
shared_desktop_frame
.
cc
-
11
11
+
11
9
#
include
"
modules
/
desktop_capture
/
shared_desktop_frame
.
h
"
#
include
<
memory
>
+
#
include
<
type_traits
>
#
include
<
utility
>
-
#
include
"
api
/
scoped_refptr
.
h
"
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
-
namespace
webrtc
{
SharedDesktopFrame
:
:
~
SharedDesktopFrame
(
)
{
}
diff
-
-
git
a
/
modules
/
desktop_capture
/
shared_memory
.
cc
b
/
modules
/
desktop_capture
/
shared_memory
.
cc
index
ffcac38943
.
.
b4ff78b2a0
100644
-
-
-
a
/
modules
/
desktop_capture
/
shared_memory
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
shared_memory
.
cc
-
10
8
+
10
6
#
include
"
modules
/
desktop_capture
/
shared_memory
.
h
"
-
#
include
<
cstddef
>
-
namespace
webrtc
{
#
if
defined
(
WEBRTC_WIN
)
diff
-
-
git
a
/
modules
/
desktop_capture
/
test_utils
.
cc
b
/
modules
/
desktop_capture
/
test_utils
.
cc
index
bcfc38317e
.
.
9483bf41ea
100644
-
-
-
a
/
modules
/
desktop_capture
/
test_utils
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
test_utils
.
cc
-
10
10
+
10
9
#
include
"
modules
/
desktop_capture
/
test_utils
.
h
"
-
#
include
<
cstdint
>
-
#
include
<
cstring
>
+
#
include
<
stdint
.
h
>
+
#
include
<
string
.
h
>
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
rtc_base
/
checks
.
h
"
diff
-
-
git
a
/
modules
/
desktop_capture
/
test_utils_unittest
.
cc
b
/
modules
/
desktop_capture
/
test_utils_unittest
.
cc
index
4554d12f7d
.
.
c1326f01cc
100644
-
-
-
a
/
modules
/
desktop_capture
/
test_utils_unittest
.
cc
+
+
+
b
/
modules
/
desktop_capture
/
test_utils_unittest
.
cc
-
10
11
+
10
11
#
include
"
modules
/
desktop_capture
/
test_utils
.
h
"
-
#
include
<
cstdint
>
+
#
include
<
stdint
.
h
>
-
#
include
"
modules
/
desktop_capture
/
desktop_frame
.
h
"
#
include
"
modules
/
desktop_capture
/
desktop_geometry
.
h
"
#
include
"
modules
/
desktop_capture
/
rgba_color
.
h
"
+
#
include
"
rtc_base
/
checks
.
h
"
#
include
"
test
/
gtest
.
h
"
namespace
webrtc
{

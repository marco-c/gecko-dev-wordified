/
/
|
reftest
|
skip
-
if
(
!
this
.
hasOwnProperty
(
"
Intl
"
)
)
const
tests
=
{
"
America
/
Los_Angeles
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
longGeneric
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
Pacific
Time
"
"
de
"
:
"
20
.
5
.
2021
Nordamerikanische
Westk
stenzeit
"
"
fr
"
:
"
20
/
05
/
2021
heure
du
Pacifique
nord
-
am
ricain
"
"
ar
"
:
"
/
/
"
"
th
"
:
"
20
/
5
/
2564
"
"
zh
"
:
"
2021
/
5
/
20
"
"
ja
"
:
"
2021
/
5
/
20
"
}
}
"
America
/
Los_Angeles
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
shortGeneric
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
PT
"
"
de
"
:
"
20
.
5
.
2021
Los
Angeles
Zeit
"
"
fr
"
:
"
20
/
05
/
2021
heure
:
Los
Angeles
"
"
ar
"
:
"
/
/
Los
Angeles
"
"
th
"
:
"
20
/
5
/
2564
Los
Angeles
"
"
zh
"
:
"
2021
/
5
/
20
Los
Angeles
"
"
ja
"
:
"
2021
/
5
/
20
Los
Angeles
"
}
}
"
America
/
Los_Angeles
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
longOffset
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
GMT
-
07
:
00
"
"
de
"
:
"
20
.
5
.
2021
GMT
-
07
:
00
"
"
fr
"
:
"
20
/
05
/
2021
UTC
07
:
00
"
"
ar
"
:
"
/
/
-
:
"
"
th
"
:
"
20
/
5
/
2564
GMT
-
07
:
00
"
"
zh
"
:
"
2021
/
5
/
20
GMT
-
07
:
00
"
"
ja
"
:
"
2021
/
5
/
20
GMT
-
07
:
00
"
}
}
"
America
/
Los_Angeles
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
shortOffset
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
GMT
-
7
"
"
de
"
:
"
20
.
5
.
2021
GMT
-
7
"
"
fr
"
:
"
20
/
05
/
2021
UTC
7
"
"
ar
"
:
"
/
/
-
"
"
th
"
:
"
20
/
5
/
2564
GMT
-
7
"
"
zh
"
:
"
2021
/
5
/
20
GMT
-
7
"
"
ja
"
:
"
2021
/
5
/
20
GMT
-
7
"
}
}
"
Europe
/
Berlin
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
longGeneric
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
Central
European
Time
"
"
de
"
:
"
20
.
5
.
2021
Mitteleurop
ische
Zeit
"
"
fr
"
:
"
20
/
05
/
2021
heure
d
Europe
centrale
"
"
ar
"
:
"
/
/
"
"
th
"
:
"
20
/
5
/
2564
"
"
zh
"
:
"
2021
/
5
/
20
"
"
ja
"
:
"
2021
/
5
/
20
"
}
}
"
Europe
/
Berlin
"
:
{
date
:
Date
.
UTC
(
2021
5
-
1
20
12
0
0
)
timeZoneName
:
"
shortGeneric
"
locales
:
{
"
en
"
:
"
5
/
20
/
2021
Germany
Time
"
"
de
"
:
"
20
.
5
.
2021
MEZ
"
"
fr
"
:
"
20
/
05
/
2021
heure
:
Allemagne
"
"
ar
"
:
"
/
/
"
"
th
"
:
"
20
/
5
/
2564
"
"
zh
"
:
"
2021
/
5
/
20
"
"
ja
"
:
"
2021
/
5
/
20
"
}
}
"
Africa
/
Monrovia
"
:
{
date
:
Date
.
UTC
(
1971
12
-
1
6
12
0
0
)
timeZoneName
:
"
longOffset
"
locales
:
{
"
en
"
:
"
12
/
6
/
1971
GMT
-
00
:
44
:
30
"
"
de
"
:
"
6
.
12
.
1971
GMT
-
00
:
44
:
30
"
"
fr
"
:
"
06
/
12
/
1971
UTC
00
:
44
:
30
"
"
ar
"
:
"
/
/
-
:
:
"
"
th
"
:
"
6
/
12
/
2514
GMT
-
00
:
44
:
30
"
"
zh
"
:
"
1971
/
12
/
6
GMT
-
00
:
44
:
30
"
"
ja
"
:
"
1971
/
12
/
6
GMT
-
00
:
44
:
30
"
}
}
"
Africa
/
Monrovia
"
:
{
date
:
Date
.
UTC
(
1971
12
-
1
6
12
0
0
)
timeZoneName
:
"
shortOffset
"
locales
:
{
"
en
"
:
"
12
/
6
/
1971
GMT
-
0
:
44
:
30
"
"
de
"
:
"
6
.
12
.
1971
GMT
-
0
:
44
:
30
"
"
fr
"
:
"
06
/
12
/
1971
UTC
0
:
44
:
30
"
"
ar
"
:
"
/
/
-
:
:
"
"
th
"
:
"
6
/
12
/
2514
GMT
-
0
:
44
:
30
"
"
zh
"
:
"
1971
/
12
/
6
GMT
-
0
:
44
:
30
"
"
ja
"
:
"
1971
/
12
/
6
GMT
-
0
:
44
:
30
"
}
}
}
;
for
(
let
[
timeZone
{
timeZoneName
date
locales
}
]
of
Object
.
entries
(
tests
)
)
{
for
(
let
[
locale
expected
]
of
Object
.
entries
(
locales
)
)
{
let
dtf
=
new
Intl
.
DateTimeFormat
(
locale
{
timeZone
timeZoneName
}
)
;
assertEq
(
dtf
.
format
(
date
)
expected
)
;
let
parts
=
dtf
.
formatToParts
(
date
)
;
assertEq
(
parts
.
map
(
p
=
>
p
.
value
)
.
join
(
"
"
)
expected
)
;
assertEq
(
parts
.
filter
(
p
=
>
p
.
type
=
=
=
"
timeZoneName
"
)
.
length
1
)
;
assertEq
(
dtf
.
resolvedOptions
(
)
.
timeZoneName
timeZoneName
)
;
}
}
if
(
typeof
reportCompare
=
=
=
"
function
"
)
reportCompare
(
0
0
"
ok
"
)
;

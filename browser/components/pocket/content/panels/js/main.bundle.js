/
*
!
For
license
information
please
see
main
.
bundle
.
js
.
LICENSE
.
txt
*
/
(
(
)
=
>
{
"
use
strict
"
;
var
e
t
=
{
38
:
(
e
t
n
)
=
>
{
var
o
=
n
(
294
)
s
=
n
(
935
)
;
const
r
=
function
(
e
)
{
return
o
.
createElement
(
o
.
Fragment
null
o
.
createElement
(
"
h3
"
{
"
data
-
l10n
-
id
"
:
"
pocket
-
panel
-
home
-
explore
-
popular
-
topics
"
}
)
o
.
createElement
(
"
ul
"
null
e
.
topics
.
map
(
(
t
=
>
o
.
createElement
(
"
li
"
{
key
:
item
-
{
t
.
topic
}
}
o
.
createElement
(
"
a
"
{
className
:
"
pkt_ext_topic
"
href
:
https
:
/
/
{
e
.
pockethost
}
/
explore
/
{
t
.
topic
}
?
utm_source
=
{
e
.
utmsource
}
}
t
.
title
o
.
createElement
(
"
span
"
{
className
:
"
pkt_ext_chevron_right
"
}
)
)
)
)
)
)
o
.
createElement
(
"
a
"
{
className
:
"
pkt_ext_discover
"
href
:
https
:
/
/
{
e
.
pockethost
}
/
explore
?
utm_source
=
{
e
.
utmsource
}
"
data
-
l10n
-
id
"
:
"
pocket
-
panel
-
home
-
discover
-
more
"
}
)
)
}
i
=
{
removeMessageListener
(
e
t
)
{
RPMRemoveMessageListener
(
e
t
)
}
addMessageListener
(
e
t
=
(
(
)
=
>
{
}
)
)
{
RPMAddMessageListener
(
e
t
)
}
sendMessage
(
e
t
=
{
}
n
)
{
if
(
n
)
{
const
t
=
{
e
}
_response
;
var
o
=
e
=
>
{
n
(
e
)
this
.
removeMessageListener
(
t
o
)
}
;
this
.
addMessageListener
(
t
o
)
}
RPMSendAsyncMessage
(
e
t
)
}
clickHelper
(
e
{
source
:
t
=
"
"
position
:
n
}
)
{
e
?
.
addEventListener
(
"
click
"
(
e
=
>
{
e
.
preventDefault
(
)
this
.
sendMessage
(
"
PKT_openTabWithUrl
"
{
url
:
e
.
currentTarget
.
getAttribute
(
"
href
"
)
activate
:
!
0
source
:
t
position
:
n
}
)
}
)
)
}
log
(
)
{
RPMSendAsyncMessage
(
"
PKT_log
"
arguments
)
}
}
;
var
a
=
function
(
e
)
{
this
.
inited
=
!
1
this
.
active
=
!
1
this
.
pockethost
=
"
getpocket
.
com
"
this
.
parseHTML
=
function
(
e
)
{
return
(
new
DOMParser
)
.
parseFromString
(
e
"
text
/
html
"
)
.
documentElement
}
this
.
setupClickEvents
=
function
(
)
{
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_mylist
"
)
{
source
:
"
home_view_list
"
}
)
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_discover
"
)
{
source
:
"
home_discover
"
}
)
document
.
querySelectorAll
(
"
.
pkt_ext_topic
"
)
.
forEach
(
(
(
e
t
)
=
>
{
i
.
clickHelper
(
e
{
source
:
"
home_topic
"
position
:
t
}
)
}
)
)
}
}
;
a
.
prototype
=
{
create
(
)
{
var
e
=
window
.
location
.
href
.
match
(
/
pockethost
=
(
[
\
w
|
\
.
]
*
)
&
?
/
)
;
e
&
&
e
.
length
>
1
&
&
(
this
.
pockethost
=
e
[
1
]
)
;
var
t
=
window
.
location
.
href
.
match
(
/
locale
=
(
[
\
w
|
\
.
]
*
)
&
?
/
)
;
if
(
t
&
&
t
.
length
>
1
&
&
(
this
.
locale
=
t
[
1
]
.
toLowerCase
(
)
)
this
.
active
)
return
;
this
.
active
=
!
0
;
const
n
=
{
pockethost
:
this
.
pockethost
utmsource
:
"
firefox
-
button
"
}
;
this
.
locale
&
&
document
.
querySelector
(
"
body
"
)
.
classList
.
add
(
pkt_ext_home_
{
this
.
locale
}
)
document
.
querySelector
(
"
body
"
)
.
append
(
this
.
parseHTML
(
Handlebars
.
templates
.
home_shell
(
n
)
)
)
this
.
locale
.
startsWith
(
"
en
"
)
&
&
s
.
render
(
o
.
createElement
(
r
{
pockethost
:
n
.
pockethost
utmsource
:
n
.
utmsource
topics
:
[
{
title
:
"
Self
Improvement
"
topic
:
"
self
-
improvement
"
}
{
title
:
"
Food
"
topic
:
"
food
"
}
{
title
:
"
Entertainment
"
topic
:
"
entertainment
"
}
{
title
:
"
Science
"
topic
:
"
science
"
}
]
}
)
document
.
querySelector
(
"
.
pkt_ext_more
"
)
)
this
.
setupClickEvents
(
)
i
.
sendMessage
(
"
PKT_show_home
"
)
}
}
;
const
c
=
a
l
=
function
(
e
)
{
this
.
inited
=
!
1
this
.
active
=
!
1
this
.
setupClickEvents
=
function
(
)
{
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_learnmore
"
)
{
source
:
"
learn_more
"
}
)
i
.
clickHelper
(
document
.
querySelector
(
"
.
signup
-
btn
-
firefox
"
)
{
source
:
"
sign_up_1
"
}
)
i
.
clickHelper
(
document
.
querySelector
(
"
.
signup
-
btn
-
email
"
)
{
source
:
"
sign_up_2
"
}
)
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_login
"
)
{
source
:
"
log_in
"
}
)
}
this
.
create
=
function
(
)
{
const
e
=
new
DOMParser
;
let
t
=
document
.
querySelector
(
"
body
"
)
n
=
new
URL
(
window
.
location
.
href
)
.
searchParams
o
=
"
true
"
=
=
=
n
.
get
(
"
emailButton
"
)
s
=
n
.
get
(
"
pockethost
"
)
|
|
"
getpocket
.
com
"
r
=
n
.
get
(
"
utmCampaign
"
)
|
|
"
firefox_door_hanger_menu
"
a
=
n
.
get
(
"
utmSource
"
)
|
|
"
control
"
c
=
n
.
get
(
"
locale
"
)
?
.
split
(
"
-
"
)
[
0
]
.
toLowerCase
(
)
;
if
(
this
.
active
)
return
;
this
.
active
=
!
0
;
const
l
=
{
pockethost
:
s
utmCampaign
:
r
utmSource
:
a
}
;
c
&
&
t
.
classList
.
add
(
pkt_ext_signup_
{
c
}
)
t
.
append
(
e
.
parseFromString
(
Handlebars
.
templates
.
signup_shell
(
l
)
"
text
/
html
"
)
.
documentElement
)
o
|
|
document
.
querySelector
(
"
.
btn
-
container
-
email
"
)
.
remove
(
)
this
.
setupClickEvents
(
)
i
.
sendMessage
(
"
PKT_show_signup
"
)
}
}
;
var
u
=
function
(
e
)
{
var
t
=
this
;
this
.
inited
=
!
1
this
.
active
=
!
1
this
.
pockethost
=
"
getpocket
.
com
"
this
.
savedItemId
=
0
this
.
savedUrl
=
"
"
this
.
premiumStatus
=
!
1
this
.
userTags
=
[
]
this
.
tagsDropdownOpen
=
!
1
this
.
fxasignedin
=
!
1
this
.
parseHTML
=
function
(
e
)
{
return
(
new
DOMParser
)
.
parseFromString
(
e
"
text
/
html
"
)
.
documentElement
}
this
.
fillTagContainer
=
function
(
e
t
n
)
{
for
(
;
t
.
firstChild
;
)
t
.
firstChild
.
remove
(
)
;
for
(
let
o
=
0
;
o
<
e
.
length
;
o
+
+
)
{
let
s
=
this
.
parseHTML
(
<
li
class
=
"
{
n
}
"
>
<
a
href
=
"
#
"
class
=
"
token_tag
"
>
{
e
[
o
]
}
<
/
a
>
<
/
li
>
)
;
t
.
append
(
s
)
}
}
this
.
fillUserTags
=
function
(
)
{
i
.
sendMessage
(
"
PKT_getTags
"
{
}
(
function
(
e
)
{
const
{
data
:
n
}
=
e
;
"
object
"
=
=
typeof
n
&
&
"
object
"
=
=
typeof
n
.
tags
&
&
(
t
.
userTags
=
n
.
tags
)
}
)
)
}
this
.
fillSuggestedTags
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
?
(
document
.
querySelector
(
"
.
pkt_ext_subshell
"
)
.
style
.
display
=
"
block
"
i
.
sendMessage
(
"
PKT_getSuggestedTags
"
{
url
:
t
.
savedUrl
}
(
function
(
e
)
{
const
{
data
:
n
}
=
e
;
if
(
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
.
classList
.
remove
(
"
pkt_ext_suggestedtag_detail_loading
"
)
"
success
"
=
=
n
.
status
)
{
var
o
=
[
]
;
for
(
let
e
=
0
;
e
<
n
.
value
.
suggestedTags
.
length
;
e
+
+
)
o
.
push
(
n
.
value
.
suggestedTags
[
e
]
.
tag
)
;
t
.
suggestedTagsLoaded
=
!
0
t
.
fillTagContainer
(
o
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
ul
"
)
"
token_suggestedtag
"
)
}
else
if
(
"
error
"
=
=
n
.
status
)
{
let
e
=
t
.
parseHTML
(
<
p
class
=
"
suggestedtag_msg
"
>
{
n
.
error
.
message
}
<
/
p
>
)
;
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
.
append
(
e
)
this
.
suggestedTagsLoaded
=
!
0
}
}
)
)
)
:
t
.
suggestedTagsLoaded
=
!
0
}
this
.
closePopup
=
function
(
)
{
i
.
sendMessage
(
"
PKT_close
"
)
}
this
.
checkValidTagSubmit
=
function
(
)
{
let
e
=
document
.
querySelector
(
"
.
pkt_ext_tag_input_wrapper
.
token
-
input
-
input
-
token
input
"
)
.
value
.
trim
(
)
.
length
;
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
token
-
input
-
token
"
)
|
|
e
>
0
&
&
e
<
26
?
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_btn
"
)
.
classList
.
remove
(
"
pkt_ext_btn_disabled
"
)
:
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_btn
"
)
.
classList
.
add
(
"
pkt_ext_btn_disabled
"
)
t
.
updateSlidingTagList
(
)
}
this
.
updateSlidingTagList
=
function
(
)
{
let
e
=
"
ltr
"
=
=
=
document
.
dir
?
"
left
"
:
"
right
"
t
=
"
ltr
"
=
=
=
document
.
dir
?
"
offsetLeft
"
:
"
offsetRight
"
n
=
document
.
querySelector
(
"
.
token
-
input
-
list
"
)
o
=
document
.
querySelector
(
"
.
token
-
input
-
input
-
token
input
"
)
[
t
]
s
=
n
[
t
]
r
=
s
-
parseInt
(
getComputedStyle
(
n
)
[
e
]
)
i
=
document
.
querySelector
(
"
.
pkt_ext_tag_input_wrapper
"
)
.
offsetWidth
;
n
.
style
[
e
]
=
o
+
s
+
20
>
i
?
{
Math
.
min
(
-
1
*
(
o
+
r
-
i
+
20
)
0
)
}
px
:
0
}
this
.
checkPlaceholderStatus
=
function
(
)
{
if
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_tag_input_wrapper
.
token
-
input
-
token
"
)
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
token
-
input
-
input
-
token
input
"
)
.
setAttribute
(
"
placeholder
"
"
"
)
;
else
{
let
e
=
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
token
-
input
-
input
-
token
input
"
)
;
e
.
setAttribute
(
"
placeholder
"
document
.
querySelector
(
"
.
pkt_ext_tag_input
"
)
.
getAttribute
(
"
placeholder
"
)
)
e
.
style
.
width
=
"
200px
"
}
}
this
.
initTagInput
=
function
(
)
{
var
e
=
(
"
.
pkt_ext_tag_input_wrapper
"
)
;
e
.
find
(
"
.
pkt_ext_tag_input
"
)
.
tokenInput
(
[
]
{
searchDelay
:
200
minChars
:
1
animateDropdown
:
!
1
noResultsHideDropdown
:
!
0
scrollKeyboard
:
!
0
emptyInputLength
:
200
search_function
(
n
o
)
{
var
s
=
[
]
;
if
(
n
.
length
)
for
(
var
r
=
15
i
=
new
RegExp
(
"
^
"
+
n
)
a
=
0
;
a
<
t
.
userTags
.
length
;
a
+
+
)
i
.
test
(
t
.
userTags
[
a
]
)
&
&
r
>
0
&
&
(
s
.
push
(
{
name
:
t
.
userTags
[
a
]
}
)
r
-
-
)
;
(
"
.
token
-
input
-
dropdown
-
tag
"
)
.
data
(
"
init
"
)
|
|
(
(
"
.
token
-
input
-
dropdown
-
tag
"
)
.
css
(
"
width
"
e
.
outerWidth
(
)
)
.
data
(
"
init
"
)
e
.
append
(
(
"
.
token
-
input
-
dropdown
-
tag
"
)
)
)
o
(
s
)
}
validateItem
(
e
)
{
const
n
=
e
.
name
;
return
.
trim
(
n
)
.
length
>
25
|
|
!
.
trim
(
n
)
.
length
?
(
n
.
length
>
25
&
&
(
t
.
showTagsLocalizedError
(
"
pocket
-
panel
-
saved
-
error
-
tag
-
length
"
)
this
.
changestamp
=
Date
.
now
(
)
setTimeout
(
(
function
(
)
{
(
"
.
token
-
input
-
input
-
token
input
"
)
.
val
(
n
)
.
focus
(
)
}
)
10
)
)
!
1
)
:
(
t
.
hideTagsError
(
)
!
0
)
}
textToData
:
e
=
>
(
{
name
:
t
.
sanitizeText
(
e
.
toLowerCase
(
)
)
}
)
onReady
(
)
{
(
"
.
token
-
input
-
dropdown
"
)
.
addClass
(
"
token
-
input
-
dropdown
-
tag
"
)
e
.
find
(
"
.
token
-
input
-
input
-
token
input
"
)
.
attr
(
"
data
-
l10n
-
id
"
e
.
find
(
"
.
pkt_ext_tag_input
"
)
.
attr
(
"
data
-
l10n
-
id
"
)
)
.
css
(
"
width
"
"
200px
"
)
(
"
.
pkt_ext_suggestedtag_detail
"
)
.
length
&
&
(
"
.
pkt_ext_containersaved
"
)
.
find
(
"
.
pkt_ext_suggestedtag_detail
"
)
.
on
(
"
click
"
"
.
token_tag
"
(
function
(
t
)
{
t
.
preventDefault
(
)
;
var
n
=
(
t
.
target
)
;
(
this
)
.
parents
(
"
.
pkt_ext_suggestedtag_detail_disabled
"
)
.
length
|
|
(
e
.
find
(
"
.
pkt_ext_tag_input
"
)
.
tokenInput
(
"
add
"
{
id
:
e
.
find
(
"
.
token
-
input
-
token
"
)
.
length
name
:
n
.
text
(
)
}
)
n
.
addClass
(
"
token
-
suggestedtag
-
inactive
"
)
(
"
.
token
-
input
-
input
-
token
input
"
)
.
focus
(
)
)
}
)
)
(
"
.
token
-
input
-
list
"
)
.
on
(
"
keydown
"
"
input
"
(
function
(
e
)
{
37
=
=
e
.
which
&
&
t
.
updateSlidingTagList
(
)
9
=
=
=
e
.
which
&
&
(
"
a
.
pkt_ext_learn_more
"
)
.
focus
(
)
}
)
)
.
on
(
"
keypress
"
"
input
"
(
function
(
e
)
{
13
=
=
e
.
which
&
&
(
void
0
=
=
=
this
.
changestamp
|
|
Date
.
now
(
)
-
this
.
changestamp
>
250
)
&
&
(
e
.
preventDefault
(
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_btn
"
)
.
click
(
)
)
}
)
)
.
on
(
"
keyup
"
"
input
"
(
function
(
e
)
{
t
.
checkValidTagSubmit
(
)
}
)
)
t
.
checkPlaceholderStatus
(
)
}
onAdd
(
)
{
t
.
checkValidTagSubmit
(
)
this
.
changestamp
=
Date
.
now
(
)
t
.
hideInactiveTags
(
)
t
.
checkPlaceholderStatus
(
)
}
onDelete
(
)
{
t
.
checkValidTagSubmit
(
)
this
.
changestamp
=
Date
.
now
(
)
t
.
showActiveTags
(
)
t
.
checkPlaceholderStatus
(
)
}
onShowDropdown
(
)
{
t
.
tagsDropdownOpen
=
!
0
}
onHideDropdown
(
)
{
t
.
tagsDropdownOpen
=
!
1
}
}
)
(
"
body
"
)
.
on
(
"
keydown
"
(
function
(
t
)
{
if
(
8
=
=
(
t
.
keyCode
|
|
t
.
which
)
)
{
var
n
=
(
"
.
token
-
input
-
selected
-
token
"
)
;
n
.
length
&
&
(
t
.
preventDefault
(
)
t
.
stopImmediatePropagation
(
)
e
.
find
(
"
.
pkt_ext_tag_input
"
)
.
tokenInput
(
"
remove
"
{
name
:
n
.
find
(
"
p
"
)
.
text
(
)
}
)
)
}
else
(
t
.
target
)
.
parent
(
)
.
hasClass
(
"
token
-
input
-
input
-
token
"
)
&
&
t
.
stopImmediatePropagation
(
)
}
)
)
}
this
.
disableInput
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_item_actions
"
)
.
classList
.
add
(
"
pkt_ext_item_actions_disabled
"
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_btn
"
)
.
classList
.
add
(
"
pkt_ext_btn_disabled
"
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_tag_input_wrapper
"
)
.
classList
.
add
(
"
pkt_ext_tag_input_wrapper_disabled
"
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_suggestedtag_detail
"
)
&
&
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_suggestedtag_detail
"
)
.
classList
.
add
(
"
pkt_ext_suggestedtag_detail_disabled
"
)
}
this
.
enableInput
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_item_actions
"
)
.
classList
.
remove
(
"
pkt_ext_item_actions_disabled
"
)
this
.
checkValidTagSubmit
(
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_tag_input_wrapper
"
)
.
classList
.
remove
(
"
pkt_ext_tag_input_wrapper_disabled
"
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_suggestedtag_detail
"
)
&
&
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_suggestedtag_detail
"
)
.
classList
.
remove
(
"
pkt_ext_suggestedtag_detail_disabled
"
)
}
this
.
initAddTagInput
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_btn
"
)
.
addEventListener
(
"
click
"
(
e
=
>
{
if
(
e
.
preventDefault
(
)
e
.
target
.
classList
.
contains
(
"
pkt_ext_btn_disabled
"
)
|
|
document
.
querySelector
(
"
.
pkt_ext_edit_msg_active
.
pkt_ext_edit_msg_error
"
)
)
return
;
t
.
disableInput
(
)
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_detail
h2
"
)
"
pocket
-
panel
-
saved
-
processing
-
tags
"
)
;
let
n
=
[
]
;
document
.
querySelectorAll
(
"
.
token
-
input
-
token
p
"
)
.
forEach
(
(
e
=
>
{
let
t
=
e
.
textContent
.
trim
(
)
;
t
.
length
&
&
n
.
push
(
t
)
}
)
)
i
.
sendMessage
(
"
PKT_addTags
"
{
url
:
t
.
savedUrl
tags
:
n
}
(
function
(
e
)
{
const
{
data
:
n
}
=
e
;
if
(
"
success
"
=
=
n
.
status
)
t
.
showStateFinalLocalizedMsg
(
"
pocket
-
panel
-
saved
-
tags
-
saved
"
)
;
else
if
(
"
error
"
=
=
n
.
status
)
{
let
e
=
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
;
e
.
classList
.
add
(
"
pkt_ext_edit_msg_error
"
"
pkt_ext_edit_msg_active
"
)
e
.
textContent
=
n
.
error
.
message
}
}
)
)
}
)
)
}
this
.
initRemovePageInput
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_removeitem
"
)
.
addEventListener
(
"
click
"
(
e
=
>
{
document
.
querySelector
(
"
.
pkt_ext_subshell
"
)
.
style
.
display
=
"
none
"
e
.
target
.
closest
(
"
.
pkt_ext_item_actions_disabled
"
)
?
e
.
preventDefault
(
)
:
e
.
target
.
classList
.
contains
(
"
pkt_ext_removeitem
"
)
&
&
(
e
.
preventDefault
(
)
t
.
disableInput
(
)
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_detail
h2
"
)
"
pocket
-
panel
-
saved
-
processing
-
remove
"
)
i
.
sendMessage
(
"
PKT_deleteItem
"
{
itemId
:
t
.
savedItemId
}
(
function
(
e
)
{
const
{
data
:
n
}
=
e
;
if
(
"
success
"
=
=
n
.
status
)
t
.
showStateFinalLocalizedMsg
(
"
pocket
-
panel
-
saved
-
page
-
removed
"
)
;
else
if
(
"
error
"
=
=
n
.
status
)
{
let
e
=
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
;
e
.
classList
.
add
(
"
pkt_ext_edit_msg_error
"
"
pkt_ext_edit_msg_active
"
)
e
.
textContent
=
n
.
error
.
message
}
}
)
)
)
}
)
)
}
this
.
initOpenListInput
=
function
(
)
{
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_openpocket
"
)
{
source
:
"
view_list
"
}
)
}
this
.
showTagsLocalizedError
=
function
(
e
)
{
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
?
.
classList
.
add
(
"
pkt_ext_edit_msg_error
"
"
pkt_ext_edit_msg_active
"
)
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
e
)
document
.
querySelector
(
"
.
pkt_ext_tag_detail
"
)
?
.
classList
.
add
(
"
pkt_ext_tag_error
"
)
}
this
.
hideTagsError
=
function
(
)
{
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
?
.
classList
.
remove
(
"
pkt_ext_edit_msg_error
"
"
pkt_ext_edit_msg_active
"
)
document
.
querySelector
(
"
.
pkt_ext_edit_msg
"
)
.
textContent
=
"
"
document
.
querySelector
(
"
pkt_ext_tag_detail
"
)
?
.
classList
.
remove
(
"
pkt_ext_tag_error
"
)
}
this
.
showActiveTags
=
function
(
)
{
if
(
!
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
)
return
;
let
e
=
[
]
;
document
.
querySelectorAll
(
"
.
token
-
input
-
token
p
"
)
.
forEach
(
(
t
=
>
{
e
.
push
(
t
.
textContent
)
}
)
)
document
.
querySelectorAll
(
"
.
pkt_ext_suggestedtag_detail
.
token_tag_inactive
"
)
.
forEach
(
(
t
=
>
{
e
.
includes
(
t
.
textContent
)
|
|
t
.
classList
.
remove
(
"
token_tag_inactive
"
)
}
)
)
}
this
.
hideInactiveTags
=
function
(
)
{
if
(
!
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
)
return
;
let
e
=
[
]
;
document
.
querySelectorAll
(
"
.
token
-
input
-
token
p
"
)
.
forEach
(
(
t
=
>
{
e
.
push
(
t
.
textContent
)
}
)
)
document
.
querySelectorAll
(
"
.
token_tag
:
not
(
.
token_tag_inactive
)
"
)
.
forEach
(
(
t
=
>
{
e
.
includes
(
t
.
textContent
)
&
&
t
.
classList
.
add
(
"
token_tag_inactive
"
)
}
)
)
}
this
.
showStateSaved
=
function
(
e
)
{
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_detail
h2
"
)
"
pocket
-
panel
-
saved
-
page
-
saved
"
)
document
.
querySelector
(
"
.
pkt_ext_btn
"
)
.
classList
.
add
(
"
pkt_ext_btn_disabled
"
)
"
object
"
=
=
typeof
e
.
item
&
&
(
this
.
savedItemId
=
e
.
item
.
item_id
this
.
savedUrl
=
e
.
item
.
given_url
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
"
)
.
classList
.
add
(
"
pkt_ext_container_detailactive
"
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
"
)
.
classList
.
remove
(
"
pkt_ext_container_finalstate
"
)
t
.
fillUserTags
(
)
t
.
suggestedTagsLoaded
|
|
t
.
fillSuggestedTags
(
)
}
this
.
renderItemRecs
=
function
(
e
)
{
if
(
e
?
.
recommendations
?
.
length
)
{
e
.
recommendations
=
e
.
recommendations
.
map
(
(
e
=
>
{
let
t
=
e
?
.
item
?
.
top_image_url
|
|
e
?
.
item
?
.
images
[
1
]
?
.
src
;
return
e
?
.
item
?
.
resolved_url
&
&
!
e
.
item
.
resolved_url
.
match
(
/
\
?
/
)
&
&
(
e
.
item
.
resolved_url
=
{
e
.
item
.
resolved_url
}
?
utm_source
=
pocket
-
ff
-
recs
)
e
.
item
.
encodedThumbURL
=
t
?
encodeURIComponent
(
t
)
:
null
e
}
)
)
;
const
n
=
e
.
recommendations
[
0
]
.
experiment
o
=
Handlebars
.
templates
.
item_recs
(
e
)
;
document
.
querySelector
(
"
body
"
)
.
classList
.
add
(
"
recs_enabled
"
)
document
.
querySelector
(
"
.
pkt_ext_subshell
"
)
.
style
.
display
=
"
block
"
document
.
querySelector
(
"
.
pkt_ext_item_recs
"
)
.
append
(
t
.
parseHTML
(
o
)
)
i
.
clickHelper
(
document
.
querySelector
(
"
.
pkt_ext_learn_more
"
)
{
source
:
"
recs_learn_more
"
}
)
document
.
querySelectorAll
(
"
.
pkt_ext_item_recs_link
"
)
.
forEach
(
(
(
e
t
)
=
>
{
e
.
addEventListener
(
"
click
"
(
o
=
>
{
o
.
preventDefault
(
)
i
.
sendMessage
(
"
PKT_openTabWithPocketUrl
"
{
url
:
e
.
getAttribute
(
"
href
"
)
model
:
n
position
:
t
}
)
}
)
)
}
)
)
}
}
this
.
sanitizeText
=
function
(
e
)
{
var
t
=
{
"
&
"
:
"
&
amp
;
"
"
<
"
:
"
&
lt
;
"
"
>
"
:
"
&
gt
;
"
'
"
'
:
"
&
quot
;
"
"
'
"
:
"
&
#
39
;
"
}
;
return
"
string
"
!
=
typeof
e
?
"
"
:
String
(
e
)
.
replace
(
/
[
&
<
>
"
'
]
/
g
(
function
(
e
)
{
return
t
[
e
]
}
)
)
}
this
.
showStateFinalLocalizedMsg
=
function
(
e
)
{
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_tag_detail
"
)
.
addEventListener
(
"
transitionend
"
(
(
)
=
>
{
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_detail
h2
"
)
e
)
}
)
{
once
:
!
0
}
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
"
)
.
classList
.
add
(
"
pkt_ext_container_finalstate
"
)
}
this
.
showStateLocalizedError
=
function
(
e
t
)
{
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_detail
h2
"
)
e
)
document
.
l10n
.
setAttributes
(
document
.
querySelector
(
"
.
pkt_ext_containersaved
.
pkt_ext_detail
h3
"
)
t
)
document
.
querySelector
(
"
.
pkt_ext_containersaved
"
)
.
classList
.
add
(
"
pkt_ext_container_detailactive
"
"
pkt_ext_container_finalstate
"
"
pkt_ext_container_finalerrorstate
"
)
}
}
;
u
.
prototype
=
{
create
(
)
{
if
(
this
.
active
)
return
;
this
.
active
=
!
0
;
var
e
=
this
t
=
window
.
location
.
href
.
match
(
/
premiumStatus
=
(
[
\
w
|
\
d
|
\
.
]
*
)
&
?
/
)
;
t
&
&
t
.
length
>
1
&
&
(
this
.
premiumStatus
=
"
1
"
=
=
t
[
1
]
)
;
var
n
=
window
.
location
.
href
.
match
(
/
fxasignedin
=
(
[
\
w
|
\
d
|
\
.
]
*
)
&
?
/
)
;
n
&
&
n
.
length
>
1
&
&
(
this
.
fxasignedin
=
"
1
"
=
=
n
[
1
]
)
;
var
o
=
window
.
location
.
href
.
match
(
/
pockethost
=
(
[
\
w
|
\
.
]
*
)
&
?
/
)
;
o
&
&
o
.
length
>
1
&
&
(
this
.
pockethost
=
o
[
1
]
)
;
var
s
=
window
.
location
.
href
.
match
(
/
locale
=
(
[
\
w
|
\
.
]
*
)
&
?
/
)
;
s
&
&
s
.
length
>
1
&
&
(
this
.
locale
=
s
[
1
]
.
toLowerCase
(
)
)
;
const
r
=
{
pockethost
:
this
.
pockethost
}
;
this
.
locale
&
&
document
.
querySelector
(
"
body
"
)
.
classList
.
add
(
pkt_ext_saved_
{
this
.
locale
}
)
;
const
a
=
new
DOMParser
;
if
(
document
.
querySelector
(
"
body
"
)
.
append
(
.
.
.
a
.
parseFromString
(
Handlebars
.
templates
.
saved_shell
(
r
)
"
text
/
html
"
)
.
body
.
childNodes
)
this
.
premiumStatus
&
&
!
document
.
querySelector
(
"
.
pkt_ext_suggestedtag_detail
"
)
)
{
let
e
=
document
.
querySelector
(
"
body
.
pkt_ext_subshell
"
)
t
=
a
.
parseFromString
(
Handlebars
.
templates
.
saved_premiumshell
(
r
)
"
text
/
html
"
)
.
body
.
childNodes
;
t
=
[
]
.
slice
.
call
(
t
)
.
reverse
(
)
t
.
forEach
(
(
t
=
>
{
e
.
insertBefore
(
t
e
.
firstChild
)
}
)
)
}
this
.
initTagInput
(
)
this
.
initAddTagInput
(
)
this
.
initRemovePageInput
(
)
this
.
initOpenListInput
(
)
i
.
addMessageListener
(
"
PKT_saveLink
"
(
function
(
t
)
{
const
{
data
:
n
}
=
t
;
if
(
"
error
"
!
=
n
.
status
)
e
.
showStateSaved
(
n
)
;
else
{
let
t
=
n
?
.
error
?
.
localizedKey
|
|
"
pocket
-
panel
-
saved
-
error
-
generic
"
;
e
.
showStateLocalizedError
(
"
pocket
-
panel
-
saved
-
error
-
not
-
saved
"
t
)
}
}
)
)
i
.
addMessageListener
(
"
PKT_renderItemRecs
"
(
function
(
t
)
{
const
{
data
:
n
}
=
t
;
e
.
renderItemRecs
(
n
)
}
)
)
i
.
sendMessage
(
"
PKT_show_saved
"
)
}
}
;
const
d
=
u
;
var
p
=
function
(
)
{
}
;
p
.
prototype
=
{
initHome
(
)
{
this
.
overlay
=
new
c
this
.
init
(
)
}
initSignup
(
)
{
this
.
overlay
=
new
l
this
.
init
(
)
}
initSaved
(
)
{
this
.
overlay
=
new
d
this
.
init
(
)
}
setupObservers
(
)
{
this
.
setupMutationObserver
(
)
this
.
setupIntersectionObserver
(
)
}
init
(
)
{
this
.
inited
|
|
(
this
.
setupObservers
(
)
this
.
inited
=
!
0
)
}
resizeParent
(
)
{
let
e
=
document
.
body
.
clientHeight
;
this
.
overlay
.
tagsDropdownOpen
&
&
(
e
=
Math
.
max
(
e
252
)
)
e
&
&
i
.
sendMessage
(
"
PKT_resizePanel
"
{
width
:
document
.
body
.
clientWidth
height
:
e
}
)
}
setupIntersectionObserver
(
)
{
const
e
=
new
IntersectionObserver
(
(
t
=
>
{
t
.
find
(
(
e
=
>
e
.
isIntersecting
)
)
&
&
(
this
.
resizeParent
(
)
e
.
unobserve
(
document
.
body
)
)
}
)
)
;
e
.
observe
(
document
.
body
)
}
setupMutationObserver
(
)
{
const
e
=
document
.
body
;
new
MutationObserver
(
(
(
e
t
)
=
>
{
e
.
forEach
(
(
e
=
>
{
"
childList
"
=
=
=
e
.
type
&
&
this
.
resizeParent
(
)
}
)
)
}
)
)
.
observe
(
e
{
attributes
:
!
1
childList
:
!
0
subtree
:
!
0
}
)
}
create
(
)
{
this
.
overlay
.
create
(
)
}
}
window
.
PKT_PANEL
=
p
window
.
pktPanelMessaging
=
i
}
418
:
e
=
>
{
var
t
=
Object
.
getOwnPropertySymbols
n
=
Object
.
prototype
.
hasOwnProperty
o
=
Object
.
prototype
.
propertyIsEnumerable
;
function
s
(
e
)
{
if
(
null
=
=
e
)
throw
new
TypeError
(
"
Object
.
assign
cannot
be
called
with
null
or
undefined
"
)
;
return
Object
(
e
)
}
e
.
exports
=
function
(
)
{
try
{
if
(
!
Object
.
assign
)
return
!
1
;
var
e
=
new
String
(
"
abc
"
)
;
if
(
e
[
5
]
=
"
de
"
"
5
"
=
=
=
Object
.
getOwnPropertyNames
(
e
)
[
0
]
)
return
!
1
;
for
(
var
t
=
{
}
n
=
0
;
n
<
10
;
n
+
+
)
t
[
"
_
"
+
String
.
fromCharCode
(
n
)
]
=
n
;
if
(
"
0123456789
"
!
=
=
Object
.
getOwnPropertyNames
(
t
)
.
map
(
(
function
(
e
)
{
return
t
[
e
]
}
)
)
.
join
(
"
"
)
)
return
!
1
;
var
o
=
{
}
;
return
"
abcdefghijklmnopqrst
"
.
split
(
"
"
)
.
forEach
(
(
function
(
e
)
{
o
[
e
]
=
e
}
)
)
"
abcdefghijklmnopqrst
"
=
=
=
Object
.
keys
(
Object
.
assign
(
{
}
o
)
)
.
join
(
"
"
)
}
catch
(
e
)
{
return
!
1
}
}
(
)
?
Object
.
assign
:
function
(
e
r
)
{
for
(
var
i
a
c
=
s
(
e
)
l
=
1
;
l
<
arguments
.
length
;
l
+
+
)
{
for
(
var
u
in
i
=
Object
(
arguments
[
l
]
)
)
n
.
call
(
i
u
)
&
&
(
c
[
u
]
=
i
[
u
]
)
;
if
(
t
)
{
a
=
t
(
i
)
;
for
(
var
d
=
0
;
d
<
a
.
length
;
d
+
+
)
o
.
call
(
i
a
[
d
]
)
&
&
(
c
[
a
[
d
]
]
=
i
[
a
[
d
]
]
)
}
}
return
c
}
}
53
:
(
e
t
)
=
>
{
var
n
o
s
r
;
if
(
"
object
"
=
=
typeof
performance
&
&
"
function
"
=
=
typeof
performance
.
now
)
{
var
i
=
performance
;
t
.
unstable_now
=
function
(
)
{
return
i
.
now
(
)
}
}
else
{
var
a
=
Date
c
=
a
.
now
(
)
;
t
.
unstable_now
=
function
(
)
{
return
a
.
now
(
)
-
c
}
}
if
(
"
undefined
"
=
=
typeof
window
|
|
"
function
"
!
=
typeof
MessageChannel
)
{
var
l
=
null
u
=
null
d
=
function
(
)
{
if
(
null
!
=
=
l
)
try
{
var
e
=
t
.
unstable_now
(
)
;
l
(
!
0
e
)
l
=
null
}
catch
(
e
)
{
throw
setTimeout
(
d
0
)
e
}
}
;
n
=
function
(
e
)
{
null
!
=
=
l
?
setTimeout
(
n
0
e
)
:
(
l
=
e
setTimeout
(
d
0
)
)
}
o
=
function
(
e
t
)
{
u
=
setTimeout
(
e
t
)
}
s
=
function
(
)
{
clearTimeout
(
u
)
}
t
.
unstable_shouldYield
=
function
(
)
{
return
!
1
}
r
=
t
.
unstable_forceFrameRate
=
function
(
)
{
}
}
else
{
var
p
=
window
.
setTimeout
_
=
window
.
clearTimeout
;
if
(
"
undefined
"
!
=
typeof
console
)
{
var
m
=
window
.
cancelAnimationFrame
;
"
function
"
!
=
typeof
window
.
requestAnimationFrame
&
&
console
.
error
(
"
This
browser
doesn
'
t
support
requestAnimationFrame
.
Make
sure
that
you
load
a
polyfill
in
older
browsers
.
https
:
/
/
reactjs
.
org
/
link
/
react
-
polyfills
"
)
"
function
"
!
=
typeof
m
&
&
console
.
error
(
"
This
browser
doesn
'
t
support
cancelAnimationFrame
.
Make
sure
that
you
load
a
polyfill
in
older
browsers
.
https
:
/
/
reactjs
.
org
/
link
/
react
-
polyfills
"
)
}
var
g
=
!
1
h
=
null
k
=
-
1
f
=
5
v
=
0
;
t
.
unstable_shouldYield
=
function
(
)
{
return
t
.
unstable_now
(
)
>
=
v
}
r
=
function
(
)
{
}
t
.
unstable_forceFrameRate
=
function
(
e
)
{
0
>
e
|
|
125
<
e
?
console
.
error
(
"
forceFrameRate
takes
a
positive
int
between
0
and
125
forcing
frame
rates
higher
than
125
fps
is
not
supported
"
)
:
f
=
0
<
e
?
Math
.
floor
(
1e3
/
e
)
:
5
}
;
var
y
=
new
MessageChannel
x
=
y
.
port2
;
y
.
port1
.
onmessage
=
function
(
)
{
if
(
null
!
=
=
h
)
{
var
e
=
t
.
unstable_now
(
)
;
v
=
e
+
f
;
try
{
h
(
!
0
e
)
?
x
.
postMessage
(
null
)
:
(
g
=
!
1
h
=
null
)
}
catch
(
e
)
{
throw
x
.
postMessage
(
null
)
e
}
}
else
g
=
!
1
}
n
=
function
(
e
)
{
h
=
e
g
|
|
(
g
=
!
0
x
.
postMessage
(
null
)
)
}
o
=
function
(
e
n
)
{
k
=
p
(
(
function
(
)
{
e
(
t
.
unstable_now
(
)
)
}
)
n
)
}
s
=
function
(
)
{
_
(
k
)
k
=
-
1
}
}
function
b
(
e
t
)
{
var
n
=
e
.
length
;
e
.
push
(
t
)
;
e
:
for
(
;
;
)
{
var
o
=
n
-
1
>
>
>
1
s
=
e
[
o
]
;
if
(
!
(
void
0
!
=
=
s
&
&
0
<
T
(
s
t
)
)
)
break
e
;
e
[
o
]
=
t
e
[
n
]
=
s
n
=
o
}
}
function
w
(
e
)
{
return
void
0
=
=
=
(
e
=
e
[
0
]
)
?
null
:
e
}
function
S
(
e
)
{
var
t
=
e
[
0
]
;
if
(
void
0
!
=
=
t
)
{
var
n
=
e
.
pop
(
)
;
if
(
n
!
=
=
t
)
{
e
[
0
]
=
n
;
e
:
for
(
var
o
=
0
s
=
e
.
length
;
o
<
s
;
)
{
var
r
=
2
*
(
o
+
1
)
-
1
i
=
e
[
r
]
a
=
r
+
1
c
=
e
[
a
]
;
if
(
void
0
!
=
=
i
&
&
0
>
T
(
i
n
)
)
void
0
!
=
=
c
&
&
0
>
T
(
c
i
)
?
(
e
[
o
]
=
c
e
[
a
]
=
n
o
=
a
)
:
(
e
[
o
]
=
i
e
[
r
]
=
n
o
=
r
)
;
else
{
if
(
!
(
void
0
!
=
=
c
&
&
0
>
T
(
c
n
)
)
)
break
e
;
e
[
o
]
=
c
e
[
a
]
=
n
o
=
a
}
}
}
return
t
}
return
null
}
function
T
(
e
t
)
{
var
n
=
e
.
sortIndex
-
t
.
sortIndex
;
return
0
!
=
=
n
?
n
:
e
.
id
-
t
.
id
}
var
q
=
[
]
L
=
[
]
P
=
1
M
=
null
I
=
3
E
=
!
1
O
=
!
1
C
=
!
1
;
function
(
e
)
{
for
(
var
t
=
w
(
L
)
;
null
!
=
=
t
;
)
{
if
(
null
=
=
=
t
.
callback
)
S
(
L
)
;
else
{
if
(
!
(
t
.
startTime
<
=
e
)
)
break
;
S
(
L
)
t
.
sortIndex
=
t
.
expirationTime
b
(
q
t
)
}
t
=
w
(
L
)
}
}
function
A
(
e
)
{
if
(
C
=
!
1
(
e
)
!
O
)
if
(
null
!
=
=
w
(
q
)
)
O
=
!
0
n
(
D
)
;
else
{
var
t
=
w
(
L
)
;
null
!
=
=
t
&
&
o
(
A
t
.
startTime
-
e
)
}
}
function
D
(
e
n
)
{
O
=
!
1
C
&
&
(
C
=
!
1
s
(
)
)
E
=
!
0
;
var
r
=
I
;
try
{
for
(
(
n
)
M
=
w
(
q
)
;
null
!
=
=
M
&
&
(
!
(
M
.
expirationTime
>
n
)
|
|
e
&
&
!
t
.
unstable_shouldYield
(
)
)
;
)
{
var
i
=
M
.
callback
;
if
(
"
function
"
=
=
typeof
i
)
{
M
.
callback
=
null
I
=
M
.
priorityLevel
;
var
a
=
i
(
M
.
expirationTime
<
=
n
)
;
n
=
t
.
unstable_now
(
)
"
function
"
=
=
typeof
a
?
M
.
callback
=
a
:
M
=
=
=
w
(
q
)
&
&
S
(
q
)
(
n
)
}
else
S
(
q
)
;
M
=
w
(
q
)
}
if
(
null
!
=
=
M
)
var
c
=
!
0
;
else
{
var
l
=
w
(
L
)
;
null
!
=
=
l
&
&
o
(
A
l
.
startTime
-
n
)
c
=
!
1
}
return
c
}
finally
{
M
=
null
I
=
r
E
=
!
1
}
}
var
j
=
r
;
t
.
unstable_IdlePriority
=
5
t
.
unstable_ImmediatePriority
=
1
t
.
unstable_LowPriority
=
4
t
.
unstable_NormalPriority
=
3
t
.
unstable_Profiling
=
null
t
.
unstable_UserBlockingPriority
=
2
t
.
unstable_cancelCallback
=
function
(
e
)
{
e
.
callback
=
null
}
t
.
unstable_continueExecution
=
function
(
)
{
O
|
|
E
|
|
(
O
=
!
0
n
(
D
)
)
}
t
.
unstable_getCurrentPriorityLevel
=
function
(
)
{
return
I
}
t
.
unstable_getFirstCallbackNode
=
function
(
)
{
return
w
(
q
)
}
t
.
unstable_next
=
function
(
e
)
{
switch
(
I
)
{
case
1
:
case
2
:
case
3
:
var
t
=
3
;
break
;
default
:
t
=
I
}
var
n
=
I
;
I
=
t
;
try
{
return
e
(
)
}
finally
{
I
=
n
}
}
t
.
unstable_pauseExecution
=
function
(
)
{
}
t
.
unstable_requestPaint
=
j
t
.
unstable_runWithPriority
=
function
(
e
t
)
{
switch
(
e
)
{
case
1
:
case
2
:
case
3
:
case
4
:
case
5
:
break
;
default
:
e
=
3
}
var
n
=
I
;
I
=
e
;
try
{
return
t
(
)
}
finally
{
I
=
n
}
}
t
.
unstable_scheduleCallback
=
function
(
e
r
i
)
{
var
a
=
t
.
unstable_now
(
)
;
switch
(
i
=
"
object
"
=
=
typeof
i
&
&
null
!
=
=
i
&
&
"
number
"
=
=
typeof
(
i
=
i
.
delay
)
&
&
0
<
i
?
a
+
i
:
a
e
)
{
case
1
:
var
c
=
-
1
;
break
;
case
2
:
c
=
250
;
break
;
case
5
:
c
=
1073741823
;
break
;
case
4
:
c
=
1e4
;
break
;
default
:
c
=
5e3
}
return
e
=
{
id
:
P
+
+
callback
:
r
priorityLevel
:
e
startTime
:
i
expirationTime
:
c
=
i
+
c
sortIndex
:
-
1
}
i
>
a
?
(
e
.
sortIndex
=
i
b
(
L
e
)
null
=
=
=
w
(
q
)
&
&
e
=
=
=
w
(
L
)
&
&
(
C
?
s
(
)
:
C
=
!
0
o
(
A
i
-
a
)
)
)
:
(
e
.
sortIndex
=
c
b
(
q
e
)
O
|
|
E
|
|
(
O
=
!
0
n
(
D
)
)
)
e
}
t
.
unstable_wrapCallback
=
function
(
e
)
{
var
t
=
I
;
return
function
(
)
{
var
n
=
I
;
I
=
t
;
try
{
return
e
.
apply
(
this
arguments
)
}
finally
{
I
=
n
}
}
}
}
840
:
(
e
t
n
)
=
>
{
e
.
exports
=
n
(
53
)
}
}
n
=
{
}
;
function
o
(
e
)
{
var
s
=
n
[
e
]
;
if
(
void
0
!
=
=
s
)
return
s
.
exports
;
var
r
=
n
[
e
]
=
{
exports
:
{
}
}
;
return
t
[
e
]
(
r
r
.
exports
o
)
r
.
exports
}
o
.
m
=
t
e
=
[
]
o
.
O
=
(
t
n
s
r
)
=
>
{
if
(
!
n
)
{
var
i
=
1
/
0
;
for
(
u
=
0
;
u
<
e
.
length
;
u
+
+
)
{
for
(
var
[
n
s
r
]
=
e
[
u
]
a
=
!
0
c
=
0
;
c
<
n
.
length
;
c
+
+
)
(
!
1
&
r
|
|
i
>
=
r
)
&
&
Object
.
keys
(
o
.
O
)
.
every
(
(
e
=
>
o
.
O
[
e
]
(
n
[
c
]
)
)
)
?
n
.
splice
(
c
-
-
1
)
:
(
a
=
!
1
r
<
i
&
&
(
i
=
r
)
)
;
if
(
a
)
{
e
.
splice
(
u
-
-
1
)
;
var
l
=
s
(
)
;
void
0
!
=
=
l
&
&
(
t
=
l
)
}
}
return
t
}
r
=
r
|
|
0
;
for
(
var
u
=
e
.
length
;
u
>
0
&
&
e
[
u
-
1
]
[
2
]
>
r
;
u
-
-
)
e
[
u
]
=
e
[
u
-
1
]
;
e
[
u
]
=
[
n
s
r
]
}
o
.
o
=
(
e
t
)
=
>
Object
.
prototype
.
hasOwnProperty
.
call
(
e
t
)
(
(
)
=
>
{
var
e
=
{
179
:
0
}
;
o
.
O
.
j
=
t
=
>
0
=
=
=
e
[
t
]
;
var
t
=
(
t
n
)
=
>
{
var
s
r
[
i
a
c
]
=
n
l
=
0
;
if
(
i
.
some
(
(
t
=
>
0
!
=
=
e
[
t
]
)
)
)
{
for
(
s
in
a
)
o
.
o
(
a
s
)
&
&
(
o
.
m
[
s
]
=
a
[
s
]
)
;
if
(
c
)
var
u
=
c
(
o
)
}
for
(
t
&
&
t
(
n
)
;
l
<
i
.
length
;
l
+
+
)
r
=
i
[
l
]
o
.
o
(
e
r
)
&
&
e
[
r
]
&
&
e
[
r
]
[
0
]
(
)
e
[
i
[
l
]
]
=
0
;
return
o
.
O
(
u
)
}
n
=
self
.
webpackChunksave_to_pocket_ff
=
self
.
webpackChunksave_to_pocket_ff
|
|
[
]
;
n
.
forEach
(
t
.
bind
(
null
0
)
)
n
.
push
=
t
.
bind
(
null
n
.
push
.
bind
(
n
)
)
}
)
(
)
;
var
s
=
o
.
O
(
void
0
[
736
]
(
(
)
=
>
o
(
38
)
)
)
;
s
=
o
.
O
(
s
)
}
)
(
)
;

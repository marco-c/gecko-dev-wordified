Bug
1415827
-
Fix
initialization
&
copying
of
Calendar
:
:
validLocale
&
actualLocale
.
https
:
/
/
ssl
.
icu
-
project
.
org
/
trac
/
ticket
/
13457
https
:
/
/
ssl
.
icu
-
project
.
org
/
trac
/
changeset
/
40670
Index
:
trunk
/
icu4c
/
source
/
i18n
/
calendar
.
cpp
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
=
-
-
-
/
intl
/
icu
/
source
/
i18n
/
calendar
.
cpp
(
revision
40668
)
+
+
+
/
intl
/
icu
/
source
/
i18n
/
calendar
.
cpp
(
revision
40670
)
-
707
5
+
707
7
fZone
(
NULL
)
fRepeatedWallTime
(
UCAL_WALLTIME_LAST
)
-
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
validLocale
(
"
"
)
+
actualLocale
(
"
"
)
{
clear
(
)
;
-
733
5
+
735
7
fZone
(
NULL
)
fRepeatedWallTime
(
UCAL_WALLTIME_LAST
)
-
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
validLocale
(
"
"
)
+
actualLocale
(
"
"
)
{
if
(
U_FAILURE
(
success
)
)
{
-
765
5
+
769
7
fZone
(
NULL
)
fRepeatedWallTime
(
UCAL_WALLTIME_LAST
)
-
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
fSkippedWallTime
(
UCAL_WALLTIME_LAST
)
+
validLocale
(
"
"
)
+
actualLocale
(
"
"
)
{
if
(
U_FAILURE
(
success
)
)
{
-
823
6
+
829
6
fWeekendCeaseMillis
=
right
.
fWeekendCeaseMillis
;
fNextStamp
=
right
.
fNextStamp
;
-
uprv_strcpy
(
validLocale
right
.
validLocale
)
;
-
uprv_strcpy
(
actualLocale
right
.
actualLocale
)
;
+
uprv_strncpy
(
validLocale
right
.
validLocale
sizeof
(
validLocale
)
)
;
+
uprv_strncpy
(
actualLocale
right
.
actualLocale
sizeof
(
actualLocale
)
)
;
}

<
!
doctype
HTML
>
<
meta
charset
=
"
utf8
"
>
<
title
>
CSS
Content
Visibility
:
auto
with
content
changes
<
/
title
>
<
link
rel
=
"
author
"
title
=
"
Cathie
Chen
"
href
=
"
mailto
:
cathiechen
igalia
.
com
"
>
<
link
rel
=
"
help
"
href
=
"
https
:
/
/
drafts
.
csswg
.
org
/
css
-
contain
/
#
content
-
visibility
"
>
<
link
rel
=
"
match
"
href
=
"
content
-
visibility
-
079
-
ref
.
html
"
>
<
meta
name
=
"
assert
"
content
=
"
content
-
visibility
auto
element
should
be
resized
when
content
changes
"
>
<
style
>
.
auto
{
content
-
visibility
:
auto
;
width
:
fit
-
content
;
}
.
hidden
{
height
:
0
;
}
<
/
style
>
<
p
>
Test
passes
if
you
see
the
word
PASS
below
.
<
div
class
=
"
auto
"
>
<
div
id
=
"
target
"
class
=
"
hidden
"
>
PASS
<
/
div
>
<
/
div
>
<
script
>
function
changeContent
(
)
{
requestAnimationFrame
(
(
)
=
>
{
target
.
classList
.
toggle
(
"
hidden
"
)
;
}
)
;
}
function
runTest
(
)
{
requestAnimationFrame
(
changeContent
)
;
}
window
.
onload
=
(
)
=
>
{
requestAnimationFrame
(
runTest
)
;
}
;
<
/
script
>

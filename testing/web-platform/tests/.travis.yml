dist
:
trusty
sudo
:
required
language
:
python
branches
:
only
:
-
master
before_install
:
#
This
needs
be
sourced
as
it
sets
various
env
vars
-
.
.
/
tools
/
ci
/
before_install
.
sh
install
:
-
.
/
tools
/
ci
/
install
.
sh
matrix
:
#
The
use
of
if
conditionals
to
exclude
jobs
from
master
should
align
with
#
jobs
unconditionally
listed
by
.
/
wpt
test
-
jobs
regardless
of
affected
#
paths
.
(
The
reverse
is
not
true
as
the
manifest
job
could
run
on
PRs
too
.
)
fast_finish
:
true
include
:
-
name
:
"
build
-
css
-
testsuites
.
sh
"
if
:
type
=
pull_request
os
:
linux
python
:
"
2
.
7
"
env
:
JOB
=
build_css
SCRIPT
=
css
/
build
-
css
-
testsuites
.
sh
exclude
:
-
env
:
#
exclude
empty
env
from
the
top
-
level
above
allow_failures
:
-
env
:
JOB
=
build_css
SCRIPT
=
css
/
build
-
css
-
testsuites
.
sh
script
:
-
.
/
tools
/
ci
/
run
.
sh
cache
:
directories
:
-
HOME
/
.
cache
/
pip
-
HOME
/
meta
notifications
:
email
:
on_success
:
never
on_failure
:
always

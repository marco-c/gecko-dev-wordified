<
!
doctype
html
>
<
html
>
<
head
>
<
meta
charset
=
utf
-
8
>
<
title
>
Test
utf
-
8
and
ASCII
cookie
parsing
<
/
title
>
<
meta
name
=
help
href
=
"
https
:
/
/
tools
.
ietf
.
org
/
html
/
rfc6265
#
section
-
4
.
1
.
1
"
>
<
meta
name
=
"
timeout
"
content
=
"
long
"
>
<
script
src
=
"
/
resources
/
testharness
.
js
"
>
<
/
script
>
<
script
src
=
"
/
resources
/
testharnessreport
.
js
"
>
<
/
script
>
<
script
src
=
"
/
cookies
/
resources
/
cookie
-
test
.
js
"
>
<
/
script
>
<
/
head
>
<
body
>
<
div
id
=
log
>
<
/
div
>
<
script
>
const
charsetTests
=
[
{
cookie
:
"
test
=
1
"
expected
:
"
test
=
1
"
name
:
"
ASCII
name
and
utf
-
8
value
"
}
{
cookie
:
"
=
2
"
expected
:
"
=
2
"
name
:
"
utf
-
8
name
and
ASCII
value
"
}
{
cookie
:
'
test
=
"
3
"
'
expected
:
'
test
=
"
3
"
'
name
:
"
ASCII
name
and
quoted
utf
-
8
value
"
}
{
cookie
:
"
=
4
"
expected
:
"
=
4
"
name
:
"
utf
-
8
name
and
value
"
}
{
cookie
:
'
"
=
5
"
'
expected
:
'
"
=
5
"
'
name
:
"
quoted
utf
-
8
name
and
value
"
}
{
cookie
:
"
=
6
;
"
expected
:
"
=
6
"
name
:
"
utf
-
8
name
and
value
with
(
invalid
)
utf
-
8
attribute
"
}
]
;
for
(
const
test
of
charsetTests
)
{
httpCookieTest
(
test
.
cookie
test
.
expected
test
.
name
)
;
}
<
/
script
>
<
/
body
>
<
/
html
>

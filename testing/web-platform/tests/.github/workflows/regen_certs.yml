name
:
certificates
on
:
#
Our
certificates
are
good
for
~
1
year
but
we
regenerate
them
every
#
month
to
be
sure
.
Also
support
manually
triggering
the
workflow
.
schedule
:
-
cron
:
0
0
12
*
*
workflow_dispatch
:
jobs
:
update
:
runs
-
on
:
ubuntu
-
20
.
04
steps
:
-
name
:
Set
up
Python
uses
:
actions
/
setup
-
python
v2
with
:
python
-
version
:
'
3
.
9
'
-
name
:
Checkout
uses
:
actions
/
checkout
v2
-
name
:
Regenerate
certs
#
Use
a
conditional
step
instead
of
a
conditional
job
to
work
around
#
20700
.
if
:
github
.
repository
=
=
'
web
-
platform
-
tests
/
wpt
'
run
:
|
python
wpt
make
-
hosts
-
file
|
sudo
tee
-
a
/
etc
/
hosts
python
wpt
regen
-
certs
-
-
force
-
name
:
Commit
and
create
pull
request
#
Use
a
conditional
step
instead
of
a
conditional
job
to
work
around
#
20700
.
if
:
github
.
repository
=
=
'
web
-
platform
-
tests
/
wpt
'
uses
:
peter
-
evans
/
create
-
pull
-
request
v3
with
:
token
:
{
{
secrets
.
GITHUB_TOKEN
}
}
commit
-
message
:
Automated
regeneration
of
WPT
certificates
title
:
Regenerate
WPT
certificates
body
:
|
This
automated
pull
request
renews
the
core
WPT
certificates
.
Pull
request
auto
-
generated
by
[
create
-
pull
-
request
]
[
1
]
[
1
]
:
https
:
/
/
github
.
com
/
peter
-
evans
/
create
-
pull
-
request
branch
:
actions
/
regen
-
certs

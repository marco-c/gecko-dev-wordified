[
idb
-
explicit
-
commit
.
any
.
html
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
OK
ERROR
TIMEOUT
]
if
(
os
=
=
"
linux
"
)
and
not
fission
and
not
debug
:
[
OK
ERROR
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
OK
ERROR
TIMEOUT
]
[
Transactions
that
explicitly
commit
and
have
errors
should
abort
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
FAIL
NOTRUN
]
if
(
os
=
=
"
linux
"
)
and
not
fission
and
not
debug
:
[
PASS
FAIL
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
FAIL
TIMEOUT
NOTRUN
]
[
Transactions
that
handle
all
errors
properly
should
behave
as
expected
when
an
explicit
commit
is
called
in
an
onerror
handler
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
TIMEOUT
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
[
Calling
abort
on
a
committed
transaction
throws
and
does
not
prevent
persisting
the
data
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
TIMEOUT
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
[
Transactions
with
same
scope
should
stay
in
program
order
even
if
one
calls
commit
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Calling
txn
.
commit
(
)
when
txn
is
inactive
should
throw
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
A
committed
transaction
becomes
inactive
immediately
.
]
expected
:
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
commit
(
)
on
a
version
change
transaction
does
not
cause
errors
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
[
Calling
commit
on
an
aborted
transaction
throws
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
TIMEOUT
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
[
Puts
issued
after
commit
are
not
fulfilled
.
]
expected
:
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
Calling
commit
on
a
committed
transaction
throws
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
TIMEOUT
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
[
A
committed
transaction
is
inactive
in
future
request
callbacks
.
]
expected
:
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
Explicitly
committed
data
can
be
read
back
out
.
]
expected
:
if
sessionHistoryInParent
and
(
processor
=
=
"
x86
"
)
and
not
debug
:
[
PASS
TIMEOUT
]
if
not
sessionHistoryInParent
and
not
debug
:
[
PASS
TIMEOUT
]
[
idb
-
explicit
-
commit
.
any
.
worker
.
html
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
OK
TIMEOUT
]
[
Calling
txn
.
commit
(
)
when
txn
is
inactive
should
throw
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
A
committed
transaction
is
inactive
in
future
request
callbacks
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Puts
issued
after
commit
are
not
fulfilled
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Calling
commit
on
an
aborted
transaction
throws
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Calling
abort
on
a
committed
transaction
throws
and
does
not
prevent
persisting
the
data
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Transactions
that
explicitly
commit
and
have
errors
should
abort
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
Transactions
with
same
scope
should
stay
in
program
order
even
if
one
calls
commit
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
and
(
processor
=
=
"
x86
"
)
:
[
PASS
TIMEOUT
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
TIMEOUT
]
[
Calling
commit
on
a
committed
transaction
throws
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
Transactions
that
handle
all
errors
properly
should
behave
as
expected
when
an
explicit
commit
is
called
in
an
onerror
handler
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
debug
and
(
processor
=
=
"
x86_64
"
)
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
NOTRUN
]
[
A
committed
transaction
becomes
inactive
immediately
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
debug
and
not
asan
and
not
tsan
:
[
PASS
TIMEOUT
]
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
NOTRUN
]
[
commit
(
)
on
a
version
change
transaction
does
not
cause
errors
.
]
expected
:
if
(
os
=
=
"
win
"
)
and
not
debug
:
[
PASS
TIMEOUT
]

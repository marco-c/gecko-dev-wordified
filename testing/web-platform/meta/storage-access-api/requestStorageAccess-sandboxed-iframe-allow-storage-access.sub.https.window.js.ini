[
requestStorageAccess
-
sandboxed
-
iframe
-
allow
-
storage
-
access
.
sub
.
https
.
window
.
html
]
expected
:
if
(
os
=
=
"
linux
"
)
and
debug
and
not
fission
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
debug
and
sessionHistoryInParent
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
debug
and
not
sessionHistoryInParent
:
[
TIMEOUT
OK
]
if
(
os
=
=
"
android
"
)
and
not
debug
and
sessionHistoryInParent
:
[
OK
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
not
debug
and
not
sessionHistoryInParent
:
[
OK
TIMEOUT
]
[
[
sandboxed
-
iframe
-
allow
-
storage
-
access
-
by
-
user
-
activation
\
]
document
.
requestStorageAccess
(
)
should
resolve
even
without
a
user
gesture
when
already
granted
.
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
tsan
and
debug
and
not
fission
:
[
PASS
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
sessionHistoryInParent
and
debug
:
[
FAIL
PASS
TIMEOUT
]
if
(
os
=
=
"
android
"
)
and
sessionHistoryInParent
and
not
debug
:
[
PASS
TIMEOUT
FAIL
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
debug
:
[
TIMEOUT
PASS
FAIL
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
not
debug
:
[
PASS
FAIL
TIMEOUT
]
if
(
os
=
=
"
linux
"
)
and
tsan
:
[
PASS
FAIL
TIMEOUT
]
if
os
=
=
"
mac
"
:
[
PASS
FAIL
TIMEOUT
]
[
[
sandboxed
-
iframe
-
allow
-
storage
-
access
-
by
-
user
-
activation
\
]
document
.
requestStorageAccess
(
)
should
resolve
with
a
user
gesture
]
expected
:
if
(
os
=
=
"
linux
"
)
and
not
tsan
and
debug
and
fission
:
PASS
if
(
os
=
=
"
linux
"
)
and
not
tsan
and
debug
and
not
fission
:
[
PASS
NOTRUN
]
if
(
os
=
=
"
linux
"
)
and
not
tsan
and
not
debug
:
PASS
if
(
os
=
=
"
android
"
)
and
sessionHistoryInParent
and
not
debug
:
[
PASS
NOTRUN
FAIL
]
if
(
os
=
=
"
android
"
)
and
not
sessionHistoryInParent
and
debug
:
[
NOTRUN
PASS
FAIL
]
if
os
=
=
"
win
"
:
PASS
[
PASS
FAIL
NOTRUN
]

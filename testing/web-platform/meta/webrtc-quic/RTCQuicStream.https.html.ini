[
RTCQuicStream
.
https
.
html
]
[
Stream
closed
by
local
RTCQuicTransport
stop
(
)
:
waitForWriteBufferedBelow
(
)
rejects
with
InvalidStateError
.
]
expected
:
FAIL
[
RTCQuicTransport
.
stop
(
)
closes
all
remote
streams
.
]
expected
:
FAIL
[
Stream
closed
by
remote
RTCQuicTransport
stop
(
)
:
readInto
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
Stream
closed
by
local
reset
(
)
:
write
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
createStream
(
)
returns
an
RTCQuicStream
with
initial
properties
set
.
]
expected
:
FAIL
[
finish
(
)
changes
state
to
'
closing
'
.
]
expected
:
FAIL
[
Stream
closed
by
local
reset
(
)
:
waitForWriteBufferedBelow
(
)
rejects
with
InvalidStateError
.
]
expected
:
FAIL
[
Stream
closed
by
local
reset
(
)
:
readInto
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
write
(
)
throws
if
data
longer
than
maxWriteBufferedAmount
.
]
expected
:
FAIL
[
readInto
(
)
on
new
local
stream
returns
amount
0
.
]
expected
:
FAIL
[
Stream
closed
by
remote
reset
(
)
:
readInto
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
createStream
(
)
throws
if
the
transport
is
closed
.
]
expected
:
FAIL
[
Pending
waitForWriteBufferedAmountBelow
(
)
promises
rejected
after
reset
(
)
.
]
expected
:
FAIL
[
RTCQuicTransport
.
stop
(
)
closes
all
local
streams
.
]
expected
:
FAIL
[
Stream
closed
by
remote
RTCQuicTransport
stop
(
)
:
waitForWriteBufferedBelow
(
)
rejects
with
InvalidStateError
.
]
expected
:
FAIL
[
Stream
closed
by
remote
reset
(
)
:
waitForWriteBufferedBelow
(
)
rejects
with
InvalidStateError
.
]
expected
:
FAIL
[
write
(
)
throws
if
total
write
buffered
amount
would
be
greater
than
maxWriteBufferedAmount
.
]
expected
:
FAIL
[
reset
(
)
following
finish
(
)
changes
state
to
'
closed
'
.
]
expected
:
FAIL
[
writeBufferedAmount
set
to
0
after
local
RTCQuicTransport
stop
(
)
.
]
expected
:
FAIL
[
write
(
)
can
write
exactly
maxWriteBufferedAmount
.
]
expected
:
FAIL
[
waitForWriteBufferedAmountBelow
(
maxWriteBufferedAmount
)
resolves
immediately
.
]
expected
:
FAIL
[
write
(
)
adds
to
writeBufferedAmount
each
call
.
]
expected
:
FAIL
[
Stream
closed
by
remote
reset
(
)
:
write
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
createStream
(
)
throws
if
the
transport
is
not
connected
.
]
expected
:
FAIL
[
finish
(
)
causes
quicstream
event
to
fire
on
the
remote
transport
.
]
expected
:
FAIL
[
writeBufferedAmount
maintained
after
finish
(
)
has
been
called
.
]
expected
:
FAIL
[
waitForWriteBufferedAmountBelow
(
0
)
resolves
immediately
.
]
expected
:
FAIL
[
Stream
closed
by
local
RTCQuicTransport
stop
(
)
:
readInto
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
write
(
)
with
an
empty
array
does
nothing
.
]
expected
:
FAIL
[
finish
(
)
twice
does
not
change
state
.
]
expected
:
FAIL
[
Stream
closed
by
local
RTCQuicTransport
stop
(
)
:
write
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
write
(
)
throws
InvalidStateError
if
finish
(
)
has
been
called
.
]
expected
:
FAIL
[
Pending
waitForWriteBufferedAmountBelow
(
)
promises
rejected
after
finish
(
)
.
]
expected
:
FAIL
[
write
(
)
causes
quicstream
event
to
fire
on
the
remote
transport
.
]
expected
:
FAIL
[
reset
(
)
changes
state
to
'
closed
'
.
]
expected
:
FAIL
[
Stream
closed
by
remote
RTCQuicTransport
stop
(
)
:
write
(
)
throws
InvalidStateError
.
]
expected
:
FAIL
[
createStream
(
)
followed
by
reset
(
)
fires
a
quicstream
event
followed
by
a
statechange
event
to
'
closed
'
on
the
remote
side
.
]
expected
:
FAIL
[
writeBufferedAmount
set
to
0
after
local
reset
(
)
.
]
expected
:
FAIL

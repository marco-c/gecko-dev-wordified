<
html
>
<
head
>
<
style
>
div
{
width
:
10px
;
height
:
10px
;
background
-
color
:
green
;
display
:
inline
-
block
;
}
<
/
style
>
<
/
head
>
<
body
id
=
"
body
"
>
<
/
body
>
<
script
>
var
start
=
null
;
var
divCount
=
10000
;
var
maxIterations
=
600
;
for
(
var
i
=
0
;
i
<
divCount
;
i
+
+
)
{
var
div
=
document
.
createElement
(
"
div
"
)
;
div
.
id
=
i
;
document
.
getElementById
(
"
body
"
)
.
appendChild
(
div
)
;
}
var
i
=
0
;
function
runFrame
(
)
{
if
(
document
.
getElementById
(
i
)
.
style
.
backgroundColor
=
=
"
red
"
)
{
document
.
getElementById
(
i
)
.
style
.
backgroundColor
=
"
green
"
;
}
else
{
document
.
getElementById
(
i
)
.
style
.
backgroundColor
=
"
red
"
;
}
i
+
+
;
i
=
i
%
divCount
;
if
(
-
-
maxIterations
=
=
0
)
{
var
end
=
new
Date
(
)
;
if
(
window
.
tpRecordTime
)
{
window
.
tpRecordTime
(
end
-
start
start
)
;
}
if
(
parent
.
reportResults
)
{
parent
.
reportResults
(
end
-
start
start
)
;
}
return
;
}
window
.
requestAnimationFrame
(
runFrame
)
;
}
addEventListener
(
"
load
"
function
(
)
{
try
{
/
/
Outside
of
talos
this
throws
a
security
exception
which
no
-
op
this
file
.
/
/
(
It
'
s
not
required
nor
allowed
for
addons
since
Firefox
17
)
/
/
It
'
s
used
inside
talos
from
non
-
privileged
pages
(
like
during
tscroll
)
/
/
and
it
works
because
talos
disables
all
/
most
security
measures
.
netscape
.
security
.
PrivilegeManager
.
enablePrivilege
(
'
UniversalXPConnect
'
)
;
}
catch
(
e
)
{
}
Components
.
utils
.
import
(
"
resource
:
/
/
gre
/
modules
/
Services
.
jsm
"
)
;
Services
.
scriptloader
.
loadSubScript
(
"
chrome
:
/
/
talos
-
powers
-
content
/
content
/
TalosContentProfiler
.
js
"
)
;
TalosContentProfiler
.
resume
(
"
displaylist_mutate
.
html
loaded
"
true
)
.
then
(
(
)
=
>
{
start
=
new
Date
(
)
;
window
.
requestAnimationFrame
(
runFrame
)
;
}
)
;
}
)
;
<
/
script
>
<
/
html
>

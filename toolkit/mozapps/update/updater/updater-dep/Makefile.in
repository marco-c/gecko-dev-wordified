#
vim
:
set
ts
=
8
sw
=
8
sts
=
8
noet
:
#
This
Source
Code
Form
is
subject
to
the
terms
of
the
Mozilla
Public
#
License
v
.
2
.
0
.
If
a
copy
of
the
MPL
was
not
distributed
with
this
#
file
You
can
obtain
one
at
http
:
/
/
mozilla
.
org
/
MPL
/
2
.
0
/
.
#
For
changes
here
also
consider
.
.
/
Makefile
.
in
DEPUPDATERDIR
=
(
topobjdir
)
/
_tests
/
dep
-
updater
include
(
topsrcdir
)
/
config
/
rules
.
mk
tools
:
:
mkdir
-
p
(
DEPUPDATERDIR
)
ifeq
(
cocoa
(
MOZ_WIDGET_TOOLKIT
)
)
#
Copy
for
xpcshell
tests
(
NSINSTALL
)
-
D
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
rsync
-
a
-
C
-
-
exclude
'
*
.
in
'
(
srcdir
)
/
.
.
/
macbuild
/
Contents
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
sed
-
e
'
s
/
%
APP_NAME
%
/
(
MOZ_APP_DISPLAYNAME
)
/
'
(
srcdir
)
/
.
.
/
macbuild
/
Contents
/
Resources
/
English
.
lproj
/
InfoPlist
.
strings
.
in
|
\
iconv
-
f
UTF
-
8
-
t
UTF
-
16
>
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
/
Contents
/
Resources
/
English
.
lproj
/
InfoPlist
.
strings
(
NSINSTALL
)
-
D
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
/
Contents
/
MacOS
(
NSINSTALL
)
(
FINAL_TARGET
)
/
updater
-
dep
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
/
Contents
/
MacOS
mv
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
/
Contents
/
MacOS
/
updater
-
dep
(
DEPUPDATERDIR
)
/
updater
-
dep
.
app
/
Contents
/
MacOS
/
org
.
mozilla
.
updater
else
cp
(
FINAL_TARGET
)
/
updater
-
dep
(
BIN_SUFFIX
)
(
DEPUPDATERDIR
)
/
updater
-
dep
(
BIN_SUFFIX
)
endif
